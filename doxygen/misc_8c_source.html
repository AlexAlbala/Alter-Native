<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>AlterNative Lib: C:/Users/Alex/AlterNative-CXX-Lib/src/public/gc/misc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AlterNative Lib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('misc_8c_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">misc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="misc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright 1988, 1989 Hans-J. Boehm, Alan J. Demers</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 1991-1994 by Xerox Corporation.  All rights reserved.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 1999-2001 by Hewlett-Packard Company. All rights reserved.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * THIS MATERIAL IS PROVIDED AS IS, WITH ABSOLUTELY NO WARRANTY EXPRESSED</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * OR IMPLIED.  ANY USE IS AT YOUR OWN RISK.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * Permission is hereby granted to use or copy this program</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * for any purpose,  provided the above notices are retained on all copies.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * Permission to modify the code and to distribute modified code is granted,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * provided the above notices are retained, and a notice that the code was</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * modified is included with the above copyright notice.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gc__pmark_8h.html">private/gc_pmark.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;limits.h&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;stdarg.h&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#ifndef MSWINCE</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor"># include &lt;signal.h&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#ifdef GC_SOLARIS_THREADS</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor"># include &lt;sys/syscall.h&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#if defined(MSWIN32) || defined(MSWINCE) \</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">    || (defined(CYGWIN32) &amp;&amp; defined(GC_READ_ENV_FILE))</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor"># ifndef WIN32_LEAN_AND_MEAN</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#   define WIN32_LEAN_AND_MEAN 1</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor"># define NOSERVICE</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor"># include &lt;windows.h&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#if defined(UNIX_LIKE) || defined(CYGWIN32)</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor"># include &lt;fcntl.h&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor"># include &lt;sys/types.h&gt;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor"># include &lt;sys/stat.h&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#ifdef NONSTOP</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor"># include &lt;floss.h&gt;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#ifdef THREADS</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor"># ifdef PCR</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#   include &quot;il/PCR_IL.h&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> PCR_Th_ML GC_allocate_ml;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor"># elif defined(SN_TARGET_PS3)</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#   include &lt;pthread.h&gt;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> pthread_mutex_t GC_allocate_ml;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">/* For other platforms with threads, the lock and possibly            */</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="comment">/* GC_lock_holder variables are defined in the thread support code.   */</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* THREADS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#ifdef DYNAMIC_LOADING</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="comment">/* We need to register the main data segment.  Returns  TRUE unless   */</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">/* this is done implicitly as part of dynamic library registration.   */</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor"># define GC_REGISTER_MAIN_STATIC_DATA() GC_register_main_static_data()</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">/* Don&#39;t unnecessarily call GC_register_main_static_data() in case    */</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">/* dyn_load.c isn&#39;t linked in.                                        */</span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="misc_8c.html#ac462936ce68d23ecf88bf197565b41e0">   67</a></span>&#160;<span class="preprocessor"># define GC_REGISTER_MAIN_STATIC_DATA() TRUE</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#ifdef NEED_CANCEL_DISABLE_COUNT</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  __thread <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> GC_cancel_disable_count = 0;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="misc_8c.html#aa46aba4f1ac6738bfb91099143f964b0">   74</a></span>&#160;<a class="code" href="gc__priv_8h.html#a9ccb54d5a61450671cded1b1dc22409c">GC_FAR</a> <span class="keyword">struct </span><a class="code" href="struct___g_c__arrays.html">_GC_arrays</a> <a class="code" href="misc_8c.html#aa46aba4f1ac6738bfb91099143f964b0">GC_arrays</a> <span class="comment">/* = { 0 } */</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="misc_8c.html#a0270034f7e3d6234751553ac98652676">   76</a></span>&#160;<a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#a0270034f7e3d6234751553ac98652676">GC_debugging_started</a> = <a class="code" href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">/* defined here so we don&#39;t have to load debug_malloc.o */</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="misc_8c.html#a02ac36c336f2fd4ad93bec5b3dbb3fe7">   79</a></span>&#160;<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> <a class="code" href="misc_8c.html#a02ac36c336f2fd4ad93bec5b3dbb3fe7">GC_stackbottom</a> = 0;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#ifdef IA64</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> GC_register_stackbottom = 0;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="misc_8c.html#aa03eec560fcd78d95c35a262d26fc668">   85</a></span>&#160;<a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#aa03eec560fcd78d95c35a262d26fc668">GC_dont_gc</a> = 0;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="misc_8c.html#ae05ef326af0ff4e85282392ab05d51d1">   87</a></span>&#160;<a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#ae05ef326af0ff4e85282392ab05d51d1">GC_dont_precollect</a> = 0;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="real__malloc_8c.html#ac90de002c2ccddf4bdbdfcfc34757542">   89</a></span>&#160;<a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#afbf36429ac844bac9435bf02ed6ce175">GC_quiet</a> = 0; <span class="comment">/* used also in pcr_interface.c */</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#ifndef SMALL_CONFIG</span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="misc_8c.html#a8d1fa553a544a00c18291526a8f69c15">   92</a></span>&#160;  <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#a8d1fa553a544a00c18291526a8f69c15">GC_print_stats</a> = 0;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#ifdef GC_PRINT_BACK_HEIGHT</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#ab575ee7886679a10832ab6521cdec305">GC_print_back_height</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="misc_8c.html#ab575ee7886679a10832ab6521cdec305">   98</a></span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#ab575ee7886679a10832ab6521cdec305">GC_print_back_height</a> = <a class="code" href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#ifndef NO_DEBUGGING</span></div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="misc_8c.html#af5ad77603185886be73352206f177370">  102</a></span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#af5ad77603185886be73352206f177370">GC_dump_regularly</a> = <a class="code" href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                <span class="comment">/* Generate regular debugging dumps. */</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#ifdef KEEP_BACK_PTRS</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keywordtype">long</span> GC_backtraces = 0;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <span class="comment">/* Number of random backtraces to generate for each GC. */</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#ifdef FIND_LEAK</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="misc_8c.html#a10ba8b641e4a9695f8cd99c022d6edda">GC_find_leak</a> = 1;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="misc_8c.html#a10ba8b641e4a9695f8cd99c022d6edda">  114</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="misc_8c.html#a10ba8b641e4a9695f8cd99c022d6edda">GC_find_leak</a> = 0;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#ifndef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor"># ifdef GC_FINDLEAK_DELAY_FREE</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#a711fb6e5e477e1ae333d7f90a537436c">GC_findleak_delay_free</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="misc_8c.html#a711fb6e5e477e1ae333d7f90a537436c">  121</a></span>&#160;    <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#a711fb6e5e477e1ae333d7f90a537436c">GC_findleak_delay_free</a> = <a class="code" href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !SHORT_DBG_HDRS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">#ifdef ALL_INTERIOR_POINTERS</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="misc_8c.html#a5f51cb1440036ec088e836dee7428193">GC_all_interior_pointers</a> = 1;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="misc_8c.html#a5f51cb1440036ec088e836dee7428193">  128</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="misc_8c.html#a5f51cb1440036ec088e836dee7428193">GC_all_interior_pointers</a> = 0;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#ifdef GC_FORCE_UNMAP_ON_GCOLLECT</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="comment">/* Has no effect unless USE_MUNMAP.                           */</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">/* Has no effect on implicitly-initiated garbage collections. */</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#a72088464ee0d648819c34fc67bf2ece1">GC_force_unmap_on_gcollect</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="misc_8c.html#a72088464ee0d648819c34fc67bf2ece1">  136</a></span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#a72088464ee0d648819c34fc67bf2ece1">GC_force_unmap_on_gcollect</a> = <a class="code" href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="preprocessor">#ifndef GC_LARGE_ALLOC_WARN_INTERVAL</span></div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="misc_8c.html#a65b513255e30e070462306e04e67eba2">  140</a></span>&#160;<span class="preprocessor"># define GC_LARGE_ALLOC_WARN_INTERVAL 5</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="misc_8c.html#a30d991eedc467630c3175f6544f65f8d">  142</a></span>&#160;<a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keywordtype">long</span> <a class="code" href="misc_8c.html#a30d991eedc467630c3175f6544f65f8d">GC_large_alloc_warn_interval</a> = <a class="code" href="misc_8c.html#a65b513255e30e070462306e04e67eba2">GC_LARGE_ALLOC_WARN_INTERVAL</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                        <span class="comment">/* Interval between unsuppressed warnings.      */</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">/*ARGSUSED*/</span></div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="misc_8c.html#a9d669e541faf3d64ac503f634fe7b8f9">  146</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> * GC_CALLBACK <a class="code" href="misc_8c.html#a9d669e541faf3d64ac503f634fe7b8f9">GC_default_oom_fn</a>(<span class="keywordtype">size_t</span> bytes_requested)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">/* All accesses to it should be synchronized to avoid data races.       */</span></div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="misc_8c.html#ae5b30f26f92d47c992ff7556a0618a45">  152</a></span>&#160;<a class="code" href="gc_2include_2gc_8h.html#a8e98e4bbb146886002bbbe70c023af70">GC_oom_func</a> <a class="code" href="misc_8c.html#ae5b30f26f92d47c992ff7556a0618a45">GC_oom_fn</a> = <a class="code" href="misc_8c.html#a9d669e541faf3d64ac503f634fe7b8f9">GC_default_oom_fn</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">#ifdef CAN_HANDLE_FORK</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="preprocessor"># ifdef HANDLE_FORK</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> GC_handle_fork = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                        <span class="comment">/* The value is examined by GC_thr_init.        */</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> GC_handle_fork = <a class="code" href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CAN_HANDLE_FORK */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">/* Overrides the default handle-fork mode.  Non-zero value means GC     */</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">/* should install proper pthread_atfork handlers (or abort if not       */</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">/* supported).  Has effect only if called before GC_INIT.               */</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">/*ARGSUSED*/</span></div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="misc_8c.html#a60a2079690842f9539d6995f132276a4">  167</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a60a2079690842f9539d6995f132276a4">GC_set_handle_fork</a>(<span class="keywordtype">int</span> value)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor"># ifdef CAN_HANDLE_FORK</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="misc_8c.html#ad94c118561f3026fc7039950af946188">GC_is_initialized</a>)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      GC_handle_fork = (<a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a>)value;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor"># elif defined(THREADS) || (defined(DARWIN) &amp;&amp; defined(MPROTECT_VDB))</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="misc_8c.html#ad94c118561f3026fc7039950af946188">GC_is_initialized</a> &amp;&amp; value)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;fork() handling disabled&quot;</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">/* No at-fork handler is needed in the single-threaded mode.        */</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">/* Set things up so that GC_size_map[i] &gt;= granules(i),                 */</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">/* but not too much bigger                                              */</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">/* and so that size_map contains relatively few distinct entries        */</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">/* This was originally stolen from Russ Atkinson&#39;s Cedar                */</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">/* quantization algorithm (but we precompute it).                       */</span></div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="misc_8c.html#a8630ca36a509b7a5b0ff5091b59f261a">  185</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="misc_8c.html#a8630ca36a509b7a5b0ff5091b59f261a">GC_init_size_map</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;{</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">/* Map size 0 to something bigger.                  */</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">/* This avoids problems at lower levels.            */</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <a class="code" href="gc__priv_8h.html#a05e71f32a3daf32be8e14fd132ae8b8a">GC_size_map</a>[0] = 1;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">for</span> (i = 1; i &lt;= <a class="code" href="gc__priv_8h.html#a9e9be6f4e37fe4d11bce88c35944a432">GRANULES_TO_BYTES</a>(<a class="code" href="gc__priv_8h.html#af50a3cedff3d498711ccbfae79b3feb4">TINY_FREELISTS</a>-1) - <a class="code" href="gc__priv_8h.html#a313c406cf1a541e58db208d5fbe503bb">EXTRA_BYTES</a>; i++) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="gc__priv_8h.html#a05e71f32a3daf32be8e14fd132ae8b8a">GC_size_map</a>[i] = <a class="code" href="gc__priv_8h.html#a0122578d82ac5c961ff3e1a341f33127">ROUNDED_UP_GRANULES</a>(i);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="preprocessor">#       ifndef _MSC_VER</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;          <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(<a class="code" href="gc__priv_8h.html#a05e71f32a3daf32be8e14fd132ae8b8a">GC_size_map</a>[i] &lt; <a class="code" href="gc__priv_8h.html#af50a3cedff3d498711ccbfae79b3feb4">TINY_FREELISTS</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;          <span class="comment">/* Seems to tickle bug in VC++ 2008 for AMD64 */</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor">#       endif</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">/* We leave the rest of the array to be filled in on demand. */</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/* Fill in additional entries in GC_size_map, including the ith one */</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">/* We assume the ith entry is currently 0.                              */</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">/* Note that a filled in section of the array ending at n always    */</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">/* has length at least n/4.                                             */</span></div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="misc_8c.html#a8a0ea28579200a7da108dff79eb5f8d1">  206</a></span>&#160;<a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keywordtype">void</span> <a class="code" href="misc_8c.html#a8a0ea28579200a7da108dff79eb5f8d1">GC_extend_size_map</a>(<span class="keywordtype">size_t</span> i)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordtype">size_t</span> orig_granule_sz = <a class="code" href="gc__priv_8h.html#a0122578d82ac5c961ff3e1a341f33127">ROUNDED_UP_GRANULES</a>(i);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordtype">size_t</span> granule_sz = orig_granule_sz;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordtype">size_t</span> byte_sz = <a class="code" href="gc__priv_8h.html#a9e9be6f4e37fe4d11bce88c35944a432">GRANULES_TO_BYTES</a>(granule_sz);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                        <span class="comment">/* The size we try to preserve.         */</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                        <span class="comment">/* Close to i, unless this would        */</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                        <span class="comment">/* introduce too many distinct sizes.   */</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordtype">size_t</span> smaller_than_i = byte_sz - (byte_sz &gt;&gt; 3);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordtype">size_t</span> much_smaller_than_i = byte_sz - (byte_sz &gt;&gt; 2);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordtype">size_t</span> low_limit;   <span class="comment">/* The lowest indexed entry we  */</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        <span class="comment">/* initialize.                  */</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">size_t</span> j;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gc__priv_8h.html#a05e71f32a3daf32be8e14fd132ae8b8a">GC_size_map</a>[smaller_than_i] == 0) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        low_limit = much_smaller_than_i;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="gc__priv_8h.html#a05e71f32a3daf32be8e14fd132ae8b8a">GC_size_map</a>[low_limit] != 0) low_limit++;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        low_limit = smaller_than_i + 1;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="gc__priv_8h.html#a05e71f32a3daf32be8e14fd132ae8b8a">GC_size_map</a>[low_limit] != 0) low_limit++;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        granule_sz = <a class="code" href="gc__priv_8h.html#a0122578d82ac5c961ff3e1a341f33127">ROUNDED_UP_GRANULES</a>(low_limit);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        granule_sz += granule_sz &gt;&gt; 3;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span> (granule_sz &lt; orig_granule_sz) granule_sz = orig_granule_sz;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="comment">/* For these larger sizes, we use an even number of granules.       */</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">/* This makes it easier to, for example, construct a 16byte-aligned */</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">/* allocator even if GRANULE_BYTES is 8.                            */</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        granule_sz += 1;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        granule_sz &amp;= ~1;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (granule_sz &gt; <a class="code" href="gc__priv_8h.html#a31f5ad3934663f6b9f6d6440cb4d8c54">MAXOBJGRANULES</a>) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        granule_sz = <a class="code" href="gc__priv_8h.html#a31f5ad3934663f6b9f6d6440cb4d8c54">MAXOBJGRANULES</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">/* If we can fit the same number of larger objects in a block,      */</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">/* do so.                                                   */</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordtype">size_t</span> number_of_objs = <a class="code" href="gc__priv_8h.html#ab8f0e42710fa04ea66d4d8c13de90b8a">HBLK_GRANULES</a>/granule_sz;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        granule_sz = <a class="code" href="gc__priv_8h.html#ab8f0e42710fa04ea66d4d8c13de90b8a">HBLK_GRANULES</a>/number_of_objs;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        granule_sz &amp;= ~1;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    byte_sz = <a class="code" href="gc__priv_8h.html#a9e9be6f4e37fe4d11bce88c35944a432">GRANULES_TO_BYTES</a>(granule_sz);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">/* We may need one extra byte;                      */</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">/* don&#39;t always fill in GC_size_map[byte_sz]        */</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    byte_sz -= <a class="code" href="gc__priv_8h.html#a313c406cf1a541e58db208d5fbe503bb">EXTRA_BYTES</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">for</span> (j = low_limit; j &lt;= byte_sz; j++) <a class="code" href="gc__priv_8h.html#a05e71f32a3daf32be8e14fd132ae8b8a">GC_size_map</a>[j] = granule_sz;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"> * The following is a gross hack to deal with a problem that can occur</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment"> * on machines that are sloppy about stack frame sizes, notably SPARC.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"> * Bogus pointers may be written to the stack and not cleared for</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"> * a LONG time, because they always fall into holes in stack frames</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment"> * that are not written.  We partially address this by clearing</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"> * sections of the stack whenever we get control.</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="preprocessor"># ifdef THREADS</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="preprocessor">#   define BIG_CLEAR_SIZE 2048  </span><span class="comment">/* Clear this much now and then.        */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">#   define SMALL_CLEAR_SIZE 256 </span><span class="comment">/* Clear this much every time.          */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="misc_8c.html#adbdf06d2ff9093309198763aec64acd8">  266</a></span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> <a class="code" href="misc_8c.html#adbdf06d2ff9093309198763aec64acd8">GC_stack_last_cleared</a> = 0; <span class="comment">/* GC_no when we last did this */</span></div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="misc_8c.html#acd570fd46717c309dd599d8af446d907">  267</a></span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> <a class="code" href="misc_8c.html#acd570fd46717c309dd599d8af446d907">GC_min_sp</a> = NULL;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                        <span class="comment">/* Coolest stack pointer value from which       */</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                        <span class="comment">/* we&#39;ve already cleared the stack.             */</span></div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="misc_8c.html#a702bc60de971ef20113892b92a2acb74">  270</a></span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> <a class="code" href="misc_8c.html#a702bc60de971ef20113892b92a2acb74">GC_high_water</a> = NULL;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                        <span class="comment">/* &quot;hottest&quot; stack pointer value we have seen   */</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                        <span class="comment">/* recently.  Degrades over time.               */</span></div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="misc_8c.html#a92d7f3ba54c5ece2042d96ea2f942ab4">  273</a></span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> <a class="code" href="misc_8c.html#a92d7f3ba54c5ece2042d96ea2f942ab4">GC_bytes_allocd_at_reset</a> = 0;</div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="misc_8c.html#a2ebf0fec2073ca6ec4fe39f02e040770">  274</a></span>&#160;<span class="preprocessor">#   define DEGRADE_RATE 50</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="misc_8c.html#aa7a619ee9d8a0733402315d9bbc383cc">  277</a></span>&#160;<span class="preprocessor"># define CLEAR_SIZE 213  </span><span class="comment">/* Granularity for GC_clear_stack_inner */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="preprocessor">#if defined(ASM_CLEAR_CODE)</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordtype">void</span> *<a class="code" href="misc_8c.html#ac3e2d1701d7231796a986870576b8b9c">GC_clear_stack_inner</a>(<span class="keywordtype">void</span> *, <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">/* Clear the stack up to about limit.  Return arg.  This function is  */</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="comment">/* not static because it could also be errorneously defined in .S     */</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">/* file, so this error would be caught by the linker.                 */</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">/*ARGSUSED*/</span></div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="misc_8c.html#ac3e2d1701d7231796a986870576b8b9c">  286</a></span>&#160;  <span class="keywordtype">void</span> * <a class="code" href="misc_8c.html#ac3e2d1701d7231796a986870576b8b9c">GC_clear_stack_inner</a>(<span class="keywordtype">void</span> *arg, <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> limit)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> dummy[<a class="code" href="misc_8c.html#aa7a619ee9d8a0733402315d9bbc383cc">CLEAR_SIZE</a>];</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="gc__priv_8h.html#aecdb09a44220e11b3009d01ac444a584">BZERO</a>(dummy, <a class="code" href="misc_8c.html#aa7a619ee9d8a0733402315d9bbc383cc">CLEAR_SIZE</a>*<span class="keyword">sizeof</span>(<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>));</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)(dummy) <a class="code" href="gc__priv_8h.html#a2cb91ed497133eb4313ad46f8379bd9a">COOLER_THAN</a> limit) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        (<a class="code" href="gc_2include_2gc_8h.html#a7e0f997409f0b1753e44b648fcd6fc39">void</a>) <a class="code" href="misc_8c.html#ac3e2d1701d7231796a986870576b8b9c">GC_clear_stack_inner</a>(arg, limit);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">/* Make sure the recursive call is not a tail call, and the bzero   */</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">/* call is not recognized as dead code.                             */</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#a233015def2a1752a7feb7c81d34f89e6">GC_noop1</a>((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)dummy);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span>(arg);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">/* Clear some of the inaccessible part of the stack.  Returns its       */</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">/* argument, so it can be used in a tail call position, hence clearing  */</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">/* another frame.                                                       */</span></div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="misc_8c.html#aa5f7a38189b1328955565f058dde9ff5">  304</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="misc_8c.html#aa5f7a38189b1328955565f058dde9ff5">GC_clear_stack</a>(<span class="keywordtype">void</span> *arg)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> sp = <a class="code" href="gc__priv_8h.html#a63ad3c8487c6bdefff474f15bb986e81">GC_approx_sp</a>();  <span class="comment">/* Hotter than actual sp */</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="preprocessor">#   ifdef THREADS</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> dummy[SMALL_CLEAR_SIZE];</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">unsigned</span> random_no = 0;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                                 <span class="comment">/* Should be more random than it is ... */</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                                 <span class="comment">/* Used to occasionally clear a bigger  */</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                 <span class="comment">/* chunk.                               */</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> limit;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="preprocessor">#   define SLOP 400</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="comment">/* Extra bytes we clear every time.  This clears our own        */</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="comment">/* activation record, and should cause more frequent            */</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="comment">/* clearing near the cold end of the stack, a good thing.       */</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="preprocessor">#   define GC_SLOP 4000</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="comment">/* We make GC_high_water this much hotter than we really saw    */</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="comment">/* saw it, to cover for GC noise etc. above our current frame.  */</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">#   define CLEAR_THRESHOLD 100000</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="comment">/* We restart the clearing process after this many bytes of     */</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="comment">/* allocation.  Otherwise very heavily recursive programs       */</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="comment">/* with sparse stacks may result in heaps that grow almost      */</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="comment">/* without bounds.  As the heap gets larger, collection         */</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="comment">/* frequency decreases, thus clearing frequency would decrease, */</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="comment">/* thus more junk remains accessible, thus the heap gets        */</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="comment">/* larger ...                                                   */</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="preprocessor"># ifdef THREADS</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (++random_no % 13 == 0) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        limit = sp;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="gc__priv_8h.html#a5d0ed260104e4234ef44537cb0317d4d">MAKE_HOTTER</a>(limit, BIG_CLEAR_SIZE*<span class="keyword">sizeof</span>(<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>));</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        limit = (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)limit &amp; ~0xf);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                        <span class="comment">/* Make it sufficiently aligned for assembly    */</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                        <span class="comment">/* implementations of GC_clear_stack_inner.     */</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="misc_8c.html#ac3e2d1701d7231796a986870576b8b9c">GC_clear_stack_inner</a>(arg, limit);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <a class="code" href="gc__priv_8h.html#aecdb09a44220e11b3009d01ac444a584">BZERO</a>(dummy, SMALL_CLEAR_SIZE*<span class="keyword">sizeof</span>(<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>));</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">return</span> arg;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="alloc_8c.html#aeb66d11d5ad570e34c710e49ef674e7d">GC_gc_no</a> &gt; <a class="code" href="misc_8c.html#adbdf06d2ff9093309198763aec64acd8">GC_stack_last_cleared</a>) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="comment">/* Start things over, so we clear the entire stack again */</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#adbdf06d2ff9093309198763aec64acd8">GC_stack_last_cleared</a> == 0) <a class="code" href="misc_8c.html#a702bc60de971ef20113892b92a2acb74">GC_high_water</a> = (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)<a class="code" href="misc_8c.html#a02ac36c336f2fd4ad93bec5b3dbb3fe7">GC_stackbottom</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <a class="code" href="misc_8c.html#acd570fd46717c309dd599d8af446d907">GC_min_sp</a> = <a class="code" href="misc_8c.html#a702bc60de971ef20113892b92a2acb74">GC_high_water</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="misc_8c.html#adbdf06d2ff9093309198763aec64acd8">GC_stack_last_cleared</a> = <a class="code" href="alloc_8c.html#aeb66d11d5ad570e34c710e49ef674e7d">GC_gc_no</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <a class="code" href="misc_8c.html#a92d7f3ba54c5ece2042d96ea2f942ab4">GC_bytes_allocd_at_reset</a> = <a class="code" href="gc__priv_8h.html#ad4f667eaf317615f1b036889e6bb002a">GC_bytes_allocd</a>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">/* Adjust GC_high_water */</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="gc__priv_8h.html#ae0177254091e0777d12536faa0ca3d7b">MAKE_COOLER</a>(<a class="code" href="misc_8c.html#a702bc60de971ef20113892b92a2acb74">GC_high_water</a>, <a class="code" href="gc__priv_8h.html#ab74ef4b0c7f9dd5c1dc0fffd9aa3d727">WORDS_TO_BYTES</a>(<a class="code" href="misc_8c.html#a2ebf0fec2073ca6ec4fe39f02e040770">DEGRADE_RATE</a>) + <a class="code" href="misc_8c.html#ad117c82d02e558a4d93281bbc79a93a8">GC_SLOP</a>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">if</span> (sp <a class="code" href="gc__priv_8h.html#ac75eecd76316d9129109a8770edf76c9">HOTTER_THAN</a> <a class="code" href="misc_8c.html#a702bc60de971ef20113892b92a2acb74">GC_high_water</a>) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            GC_high_water = sp;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <a class="code" href="gc__priv_8h.html#a5d0ed260104e4234ef44537cb0317d4d">MAKE_HOTTER</a>(GC_high_water, <a class="code" href="misc_8c.html#ad117c82d02e558a4d93281bbc79a93a8">GC_SLOP</a>);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    limit = <a class="code" href="misc_8c.html#acd570fd46717c309dd599d8af446d907">GC_min_sp</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="gc__priv_8h.html#a5d0ed260104e4234ef44537cb0317d4d">MAKE_HOTTER</a>(limit, <a class="code" href="misc_8c.html#a84db69be977370101c543668d21fd075">SLOP</a>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">if</span> (sp <a class="code" href="gc__priv_8h.html#a2cb91ed497133eb4313ad46f8379bd9a">COOLER_THAN</a> limit) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        limit = (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)limit &amp; ~0xf);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                        <span class="comment">/* Make it sufficiently aligned for assembly    */</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                        <span class="comment">/* implementations of GC_clear_stack_inner.     */</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <a class="code" href="misc_8c.html#acd570fd46717c309dd599d8af446d907">GC_min_sp</a> = sp;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="misc_8c.html#ac3e2d1701d7231796a986870576b8b9c">GC_clear_stack_inner</a>(arg, limit));</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="gc__priv_8h.html#ad4f667eaf317615f1b036889e6bb002a">GC_bytes_allocd</a> - <a class="code" href="misc_8c.html#a92d7f3ba54c5ece2042d96ea2f942ab4">GC_bytes_allocd_at_reset</a> &gt; <a class="code" href="misc_8c.html#a163789d7867b15d928d5d1291c83750d">CLEAR_THRESHOLD</a>) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="comment">/* Restart clearing process, but limit how much clearing we do. */</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="misc_8c.html#acd570fd46717c309dd599d8af446d907">GC_min_sp</a> = sp;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="gc__priv_8h.html#a5d0ed260104e4234ef44537cb0317d4d">MAKE_HOTTER</a>(<a class="code" href="misc_8c.html#acd570fd46717c309dd599d8af446d907">GC_min_sp</a>, <a class="code" href="misc_8c.html#a163789d7867b15d928d5d1291c83750d">CLEAR_THRESHOLD</a>/4);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#acd570fd46717c309dd599d8af446d907">GC_min_sp</a> <a class="code" href="gc__priv_8h.html#ac75eecd76316d9129109a8770edf76c9">HOTTER_THAN</a> GC_high_water) <a class="code" href="misc_8c.html#acd570fd46717c309dd599d8af446d907">GC_min_sp</a> = <a class="code" href="misc_8c.html#a702bc60de971ef20113892b92a2acb74">GC_high_water</a>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="misc_8c.html#a92d7f3ba54c5ece2042d96ea2f942ab4">GC_bytes_allocd_at_reset</a> = <a class="code" href="gc__priv_8h.html#ad4f667eaf317615f1b036889e6bb002a">GC_bytes_allocd</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">return</span>(arg);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">/* Return a pointer to the base address of p, given a pointer to a      */</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">/* an address within an object.  Return 0 o.w.                          */</span></div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="misc_8c.html#a627c62b7929608903c68c4e0489167d0">  379</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="misc_8c.html#a627c62b7929608903c68c4e0489167d0">GC_base</a>(<span class="keywordtype">void</span> * p)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;{</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> r;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhblk.html">hblk</a> *h;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="structbi.html">bottom_index</a> *<a class="code" href="structbi.html">bi</a>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="structhblkhdr.html">hdr</a> *candidate_hdr;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> limit;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    r = p;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="misc_8c.html#ad94c118561f3026fc7039950af946188">GC_is_initialized</a>) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    h = <a class="code" href="gc__priv_8h.html#abd0730999fc57be7b375bce5869fb36e">HBLKPTR</a>(r);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="gc__hdrs_8h.html#a21af38f06b325d5a6d1306351743ab5f">GET_BI</a>(r, bi);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    candidate_hdr = <a class="code" href="gc__hdrs_8h.html#af7e68898fb85ccd039fc6527d5d826bf">HDR_FROM_BI</a>(bi, r);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span> (candidate_hdr == 0) <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">/* If it&#39;s a pointer to the middle of a large object, move it       */</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">/* to the beginning.                                                */</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="gc__hdrs_8h.html#a8b17e2892a1f1b760d41a09a198ff44d">IS_FORWARDING_ADDR_OR_NIL</a>(candidate_hdr)) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;           h = <a class="code" href="gc__hdrs_8h.html#ad609849fc7123810d29394ce6142c229">FORWARDED_ADDR</a>(h,candidate_hdr);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;           r = (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)h;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;           candidate_hdr = <a class="code" href="gc__hdrs_8h.html#a97a38494e52d432ab6df9704f8e9c7bb">HDR</a>(h);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gc__priv_8h.html#ae9a7d482d2b9533b050f4433503d6da1">HBLK_IS_FREE</a>(candidate_hdr)) <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">/* Make sure r points to the beginning of the object */</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        r = (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)r &amp; ~(<a class="code" href="gc__priv_8h.html#ab74ef4b0c7f9dd5c1dc0fffd9aa3d727">WORDS_TO_BYTES</a>(1) - 1));</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordtype">size_t</span> offset = <a class="code" href="gc__priv_8h.html#aadd3a949cbcf35020473be2f72f773e4">HBLKDISPL</a>(r);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> sz = candidate_hdr -&gt; hb_sz;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordtype">size_t</span> obj_displ = offset % sz;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            r -= obj_displ;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            limit = r + sz;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="keywordflow">if</span> (limit &gt; (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)(h + 1) &amp;&amp; sz &lt;= <a class="code" href="gc__priv_8h.html#a47a92e637e9159058c2f71d7c3999504">HBLKSIZE</a>) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)p &gt;= limit) <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">return</span>((<span class="keywordtype">void</span> *)r);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">/* Return the size of an object, given a pointer to its base.           */</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">/* (For small objects this also happens to work from interior pointers, */</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">/* but that shouldn&#39;t be relied upon.)                                  */</span></div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="misc_8c.html#ac4a6ab793f2311130ea29061d3f6cfbe">  422</a></span>&#160;GC_API <span class="keywordtype">size_t</span> GC_CALL <a class="code" href="misc_8c.html#ac4a6ab793f2311130ea29061d3f6cfbe">GC_size</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> * p)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="structhblkhdr.html">hdr</a> * hhdr = <a class="code" href="gc__hdrs_8h.html#a97a38494e52d432ab6df9704f8e9c7bb">HDR</a>(p);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">return</span> hhdr -&gt; hb_sz;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">/* These getters remain unsynchronized for compatibility (since some    */</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">/* clients could call some of them from a GC callback holding the       */</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">/* allocator lock).                                                     */</span></div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="misc_8c.html#a0306899a15e15b7803fe17a9ad237789">  433</a></span>&#160;GC_API <span class="keywordtype">size_t</span> GC_CALL <a class="code" href="misc_8c.html#a0306899a15e15b7803fe17a9ad237789">GC_get_heap_size</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;{</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">/* ignore the memory space returned to OS (i.e. count only the      */</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">/* space owned by the garbage collector)                            */</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>)(<a class="code" href="gc__priv_8h.html#a506d5157af5adabf29c0dab8cc3f7c95">GC_heapsize</a> - <a class="code" href="gc__priv_8h.html#a1a93e5168ada6285538dcbec495300db">GC_unmapped_bytes</a>);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="misc_8c.html#a8c0380f396ebffa27b288c2dd7aeecc7">  440</a></span>&#160;GC_API <span class="keywordtype">size_t</span> GC_CALL <a class="code" href="misc_8c.html#a8c0380f396ebffa27b288c2dd7aeecc7">GC_get_free_bytes</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;{</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">/* ignore the memory space returned to OS */</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>)(<a class="code" href="gc__priv_8h.html#acf28ef8d07d67cee1a0ab936a8834e9d">GC_large_free_bytes</a> - <a class="code" href="gc__priv_8h.html#a1a93e5168ada6285538dcbec495300db">GC_unmapped_bytes</a>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="misc_8c.html#a990df68146fe1180776176566851de30">  446</a></span>&#160;GC_API <span class="keywordtype">size_t</span> GC_CALL <a class="code" href="misc_8c.html#a990df68146fe1180776176566851de30">GC_get_unmapped_bytes</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;{</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>)<a class="code" href="gc__priv_8h.html#a1a93e5168ada6285538dcbec495300db">GC_unmapped_bytes</a>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="misc_8c.html#a89273b0b3e8e711805755cc09ead57fc">  451</a></span>&#160;GC_API <span class="keywordtype">size_t</span> GC_CALL <a class="code" href="misc_8c.html#a89273b0b3e8e711805755cc09ead57fc">GC_get_bytes_since_gc</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;{</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>)<a class="code" href="gc__priv_8h.html#ad4f667eaf317615f1b036889e6bb002a">GC_bytes_allocd</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="misc_8c.html#aff4509bab8ec50da620c4c017fc9bb4e">  456</a></span>&#160;GC_API <span class="keywordtype">size_t</span> GC_CALL <a class="code" href="misc_8c.html#aff4509bab8ec50da620c4c017fc9bb4e">GC_get_total_bytes</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;{</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>)(<a class="code" href="gc__priv_8h.html#ad4f667eaf317615f1b036889e6bb002a">GC_bytes_allocd</a> + <a class="code" href="gc__priv_8h.html#afacb16a0de020d776b935e63c17f617c">GC_bytes_allocd_before_gc</a>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;}</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">/* Return the heap usage information.  This is a thread-safe (atomic)   */</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">/* alternative for the five above getters.  NULL pointer is allowed for */</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">/* any argument.  Returned (filled in) values are of word type.         */</span></div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="misc_8c.html#aa5d967c20cf0f2fd9833a4f441dc3624">  464</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#aa5d967c20cf0f2fd9833a4f441dc3624">GC_get_heap_usage_safe</a>(<a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> *pheap_size,</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                        <a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> *pfree_bytes, <a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> *punmapped_bytes,</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                        <a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> *pbytes_since_gc, <a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> *ptotal_bytes)</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;{</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">if</span> (pheap_size != NULL)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    *pheap_size = <a class="code" href="gc__priv_8h.html#a506d5157af5adabf29c0dab8cc3f7c95">GC_heapsize</a> - <a class="code" href="gc__priv_8h.html#a1a93e5168ada6285538dcbec495300db">GC_unmapped_bytes</a>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">if</span> (pfree_bytes != NULL)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    *pfree_bytes = <a class="code" href="gc__priv_8h.html#acf28ef8d07d67cee1a0ab936a8834e9d">GC_large_free_bytes</a> - <a class="code" href="gc__priv_8h.html#a1a93e5168ada6285538dcbec495300db">GC_unmapped_bytes</a>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">if</span> (punmapped_bytes != NULL)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    *punmapped_bytes = <a class="code" href="gc__priv_8h.html#a1a93e5168ada6285538dcbec495300db">GC_unmapped_bytes</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">if</span> (pbytes_since_gc != NULL)</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    *pbytes_since_gc = <a class="code" href="gc__priv_8h.html#ad4f667eaf317615f1b036889e6bb002a">GC_bytes_allocd</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">if</span> (ptotal_bytes != NULL)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    *ptotal_bytes = <a class="code" href="gc__priv_8h.html#ad4f667eaf317615f1b036889e6bb002a">GC_bytes_allocd</a> + <a class="code" href="gc__priv_8h.html#afacb16a0de020d776b935e63c17f617c">GC_bytes_allocd_before_gc</a>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;}</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="preprocessor">#ifdef THREADS</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  GC_API <span class="keywordtype">int</span> GC_CALL GC_get_suspend_signal(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="preprocessor">#   ifdef SIG_SUSPEND</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <span class="keywordflow">return</span> SIG_SUSPEND;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">#   else</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* THREADS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="preprocessor">#if !defined(_MAX_PATH) &amp;&amp; (defined(MSWIN32) || defined(MSWINCE) \</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="preprocessor">                            || defined(CYGWIN32))</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="preprocessor"># define _MAX_PATH MAX_PATH</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="preprocessor">#ifdef GC_READ_ENV_FILE</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="comment">/* This works for Win32/WinCE for now.  Really useful only for WinCE. */</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">char</span> *GC_envfile_content = NULL;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                        <span class="comment">/* The content of the GC &quot;env&quot; file with CR and */</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                        <span class="comment">/* LF replaced to &#39;\0&#39;.  NULL if the file is    */</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                        <span class="comment">/* missing or empty.  Otherwise, always ends    */</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                        <span class="comment">/* with &#39;\0&#39;.                                   */</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">unsigned</span> GC_envfile_length = 0;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                        <span class="comment">/* Length of GC_envfile_content (if non-NULL).  */</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="preprocessor"># ifndef GC_ENVFILE_MAXLEN</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="preprocessor">#   define GC_ENVFILE_MAXLEN 0x4000</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">/* The routine initializes GC_envfile_content from the GC &quot;env&quot; file. */</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> GC_envfile_init(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="preprocessor">#   if defined(MSWIN32) || defined(MSWINCE) || defined(CYGWIN32)</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <a class="code" href="msvc__dbg_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordtype">char</span> *content;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="keywordtype">unsigned</span> ofs;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="keywordtype">unsigned</span> len;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      DWORD nBytesRead;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      TCHAR path[_MAX_PATH + 0x10]; <span class="comment">/* buffer for path + ext */</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      len = (unsigned)GetModuleFileName(NULL <span class="comment">/* hModule */</span>, path,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                                        _MAX_PATH + 1);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="comment">/* If GetModuleFileName() has failed then len is 0. */</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordflow">if</span> (len &gt; 4 &amp;&amp; path[len - 4] == (TCHAR)<span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        len -= 4; <span class="comment">/* strip executable file extension */</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      memcpy(&amp;path[len], TEXT(<span class="stringliteral">&quot;.gc.env&quot;</span>), <span class="keyword">sizeof</span>(TEXT(<span class="stringliteral">&quot;.gc.env&quot;</span>)));</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      hFile = CreateFile(path, GENERIC_READ,</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                         FILE_SHARE_READ | FILE_SHARE_WRITE,</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                         NULL <span class="comment">/* lpSecurityAttributes */</span>, OPEN_EXISTING,</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                         FILE_ATTRIBUTE_NORMAL, NULL <span class="comment">/* hTemplateFile */</span>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="keywordflow">if</span> (hFile == INVALID_HANDLE_VALUE)</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">/* the file is absent or the operation is failed */</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      len = (unsigned)GetFileSize(hFile, NULL);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keywordflow">if</span> (len &lt;= 1 || len &gt;= GC_ENVFILE_MAXLEN) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        CloseHandle(hFile);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">/* invalid file length - ignoring the file content */</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;      }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      <span class="comment">/* At this execution point, GC_setpagesize() and GC_init_win32()  */</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="comment">/* must already be called (for GET_MEM() to work correctly).      */</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      content = (<span class="keywordtype">char</span> *)GET_MEM(len + 1);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <span class="keywordflow">if</span> (content == NULL) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        CloseHandle(hFile);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">/* allocation failure */</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      ofs = 0;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      nBytesRead = (DWORD)-1L;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;          <span class="comment">/* Last ReadFile() call should clear nBytesRead on success. */</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="keywordflow">while</span> (ReadFile(hFile, content + ofs, len - ofs + 1, &amp;nBytesRead,</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                      NULL <span class="comment">/* lpOverlapped */</span>) &amp;&amp; nBytesRead != 0) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">if</span> ((ofs += nBytesRead) &gt; len)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      CloseHandle(hFile);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">if</span> (ofs != len || nBytesRead != 0)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">return</span>; <span class="comment">/* read operation is failed - ignoring the file content */</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      content[ofs] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">while</span> (ofs-- &gt; 0) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;       <span class="keywordflow">if</span> (content[ofs] == <span class="charliteral">&#39;\r&#39;</span> || content[ofs] == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;         content[ofs] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      GC_envfile_length = len + 1;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      GC_envfile_content = content;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="comment">/* This routine scans GC_envfile_content for the specified            */</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="comment">/* environment variable (and returns its value if found).             */</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keywordtype">char</span> * GC_envfile_getenv(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordtype">char</span> *p;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordtype">char</span> *end_of_content;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordtype">unsigned</span> namelen;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="preprocessor">#   ifndef NO_GETENV</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      p = getenv(name); <span class="comment">/* try the standard getenv() first */</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">if</span> (p != NULL)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">return</span> *p != <span class="charliteral">&#39;\0&#39;</span> ? p : NULL;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    p = GC_envfile_content;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span> (p == NULL)</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <span class="keywordflow">return</span> NULL; <span class="comment">/* &quot;env&quot; file is absent (or empty) */</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    namelen = strlen(name);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">if</span> (namelen == 0) <span class="comment">/* a sanity check */</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">for</span> (end_of_content = p + GC_envfile_length;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;         p != end_of_content; p += strlen(p) + 1) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <span class="keywordflow">if</span> (strncmp(p, name, namelen) == 0 &amp;&amp; *(p += namelen) == <span class="charliteral">&#39;=&#39;</span>) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        p++; <span class="comment">/* the match is found; skip &#39;=&#39; */</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">return</span> *p != <span class="charliteral">&#39;\0&#39;</span> ? p : NULL;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="comment">/* If not matching then skip to the next line. */</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">return</span> NULL; <span class="comment">/* no match found */</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* GC_READ_ENV_FILE */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="misc_8c.html#ad94c118561f3026fc7039950af946188">  601</a></span>&#160;<a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="misc_8c.html#ad94c118561f3026fc7039950af946188">GC_is_initialized</a> = <a class="code" href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="preprocessor">#if (defined(MSWIN32) || defined(MSWINCE)) &amp;&amp; defined(THREADS)</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> CRITICAL_SECTION GC_write_cs;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="misc_8c.html#aebed0843915f857a3004b0b9fc88846e">  607</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="misc_8c.html#aebed0843915f857a3004b0b9fc88846e">GC_exit_check</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <a class="code" href="alloc_8c.html#a726a8653def8e4e16be7e29c7617c7d5">GC_gcollect</a>();</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="preprocessor">#ifdef UNIX_LIKE</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> looping_handler(<span class="keywordtype">int</span> sig)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <a class="code" href="misc_8c.html#a65add866e165472e33077885ab5cb57d">GC_err_printf</a>(<span class="stringliteral">&quot;Caught signal %d: looping in handler\n&quot;</span>, sig);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">for</span> (;;) {}</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keyword">static</span> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> installed_looping_handler = <a class="code" href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="misc_8c.html#a5e3b1cb2a5667531d3c8cae015b8fe9e">maybe_install_looping_handler</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="comment">/* Install looping handler before the write fault handler, so we    */</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="comment">/* handle write faults correctly.                                   */</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">if</span> (!installed_looping_handler &amp;&amp; 0 != <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_LOOP_ON_ABORT&quot;</span>)) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      GC_set_and_save_fault_handler(looping_handler);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      installed_looping_handler = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* !UNIX_LIKE */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="misc_8c.html#a5e3b1cb2a5667531d3c8cae015b8fe9e">  632</a></span>&#160;<span class="preprocessor"># define maybe_install_looping_handler()</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="preprocessor">#if !defined(OS2) &amp;&amp; !defined(MACOS) &amp;&amp; !defined(MSWIN32) &amp;&amp; !defined(MSWINCE)</span></div>
<div class="line"><a name="l00636"></a><span class="lineno"><a class="line" href="misc_8c.html#a8e46c61cc92843bbb75cf2d242fc4563">  636</a></span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">int</span> <a class="code" href="misc_8c.html#a8e46c61cc92843bbb75cf2d242fc4563">GC_stdout</a> = 1;</div>
<div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="misc_8c.html#a497d5b8a0e1ded98de4e7ff361694d3d">  637</a></span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">int</span> <a class="code" href="misc_8c.html#a497d5b8a0e1ded98de4e7ff361694d3d">GC_stderr</a> = 2;</div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="misc_8c.html#ad02b3b7edcc70db26cde673c94e409a9">  638</a></span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">int</span> <a class="code" href="misc_8c.html#ad02b3b7edcc70db26cde673c94e409a9">GC_log</a> = 2; <span class="comment">/* stderr */</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="misc_8c.html#ad6fefa01e4246ef7c4658456d0c8d51c">  641</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> <a class="code" href="misc_8c.html#ad6fefa01e4246ef7c4658456d0c8d51c">GC_parse_mem_size_arg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str)</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;{</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordtype">char</span> *endptr;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> result = 0; <span class="comment">/* bad value */</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordtype">char</span> ch;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keywordflow">if</span> (*str != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    result = (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)<a class="code" href="gcconfig_8h.html#a60c687234544ba4c77de04ca5d1c9cc6">STRTOULL</a>(str, &amp;endptr, 10);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    ch = *endptr;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">if</span> (ch != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="keywordflow">if</span> (*(endptr + 1) != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="comment">/* Allow k, M or G suffix. */</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="keywordflow">switch</span> (ch) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;K&#39;</span>:</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;k&#39;</span>:</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        result &lt;&lt;= 10;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>:</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        result &lt;&lt;= 20;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;G&#39;</span>:</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>:</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        result &lt;&lt;= 30;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        result = 0;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;}</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno"><a class="line" href="misc_8c.html#a16a0e282a07c598595436b79e88d6e00">  675</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a16a0e282a07c598595436b79e88d6e00">GC_init</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;{</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">/* LOCK(); -- no longer does anything this early. */</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="preprocessor">#   if !defined(THREADS) &amp;&amp; defined(GC_ASSERTIONS)</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> dummy;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> initial_heap_sz;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="gcconfig_8h.html#a4b6f6e2f219ad8cfc47aa16edf9d0333">IF_CANCEL</a>(<span class="keywordtype">int</span> cancel_state;)</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">if</span> (GC_is_initialized) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="preprocessor">#   ifdef REDIRECT_MALLOC</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keyword">static</span> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> init_started = <a class="code" href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">if</span> (init_started)</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;          <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Redirected malloc() called during GC init&quot;</span>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        init_started = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="preprocessor">#   ifdef GC_INITIAL_HEAP_SIZE</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      initial_heap_sz = <a class="code" href="gc__priv_8h.html#a35166caefedd5ca1c2f8aebcfe2b701d">divHBLKSZ</a>(GC_INITIAL_HEAP_SIZE);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="preprocessor">#   else</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      initial_heap_sz = (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)<a class="code" href="gc__priv_8h.html#a42c496bb5c04fbc8bd8ee0f99dc73968">MINHINCR</a>;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="gc__priv_8h.html#ac3118d0d85274bdc7e6f083c13364c76">DISABLE_CANCEL</a>(cancel_state);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="comment">/* Note that although we are nominally called with the */</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">/* allocation lock held, the allocation lock is now    */</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">/* only really acquired once a second thread is forked.*/</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="comment">/* And the initialization code needs to run before     */</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">/* then.  Thus we really don&#39;t hold any locks, and can */</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">/* in fact safely initialize them here.                */</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="preprocessor">#   ifdef THREADS</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(!GC_need_to_lock);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="preprocessor">#     ifdef SN_TARGET_PS3</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;          pthread_mutexattr_t mattr;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;          pthread_mutexattr_init(&amp;mattr);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;          pthread_mutex_init(&amp;GC_allocate_ml, &amp;mattr);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;          pthread_mutexattr_destroy(&amp;mattr);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="preprocessor">#     endif</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="preprocessor">#   endif </span><span class="comment">/* THREADS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="preprocessor">#   if defined(GC_WIN32_THREADS) &amp;&amp; !defined(GC_PTHREADS)</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;     {</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="preprocessor">#     ifndef MSWINCE</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        BOOL (WINAPI *pfn) (LPCRITICAL_SECTION, DWORD) = NULL;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        HMODULE hK32 = GetModuleHandle(TEXT(<span class="stringliteral">&quot;kernel32.dll&quot;</span>));</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordflow">if</span> (hK32)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;          pfn = (BOOL (WINAPI *) (LPCRITICAL_SECTION, DWORD))</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                GetProcAddress (hK32,</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                                <span class="stringliteral">&quot;InitializeCriticalSectionAndSpinCount&quot;</span>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <span class="keywordflow">if</span> (pfn)</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            pfn(&amp;GC_allocate_ml, 4000);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#     endif </span><span class="comment">/* !MSWINCE */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="comment">/* else */</span> InitializeCriticalSection (&amp;GC_allocate_ml);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;     }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="preprocessor">#   endif </span><span class="comment">/* GC_WIN32_THREADS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor">#   if (defined(MSWIN32) || defined(MSWINCE)) &amp;&amp; defined(THREADS)</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      InitializeCriticalSection(&amp;GC_write_cs);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <a class="code" href="gc__priv_8h.html#a69f36e8eacdbd088bfd0fe6b8187d13f">GC_setpagesize</a>();</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="preprocessor">#   ifdef MSWIN32</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      GC_init_win32();</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="preprocessor">#   ifdef GC_READ_ENV_FILE</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      GC_envfile_init();</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="preprocessor">#   ifndef SMALL_CONFIG</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="preprocessor">#     ifdef GC_PRINT_VERBOSE_STATS</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="comment">/* This is useful for debugging and profiling on platforms with */</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="comment">/* missing getenv() (like WinCE).                               */</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <a class="code" href="misc_8c.html#a8d1fa553a544a00c18291526a8f69c15">GC_print_stats</a> = <a class="code" href="gc__priv_8h.html#a42f8c497a1968074f38bf5055c650dca">VERBOSE</a>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="preprocessor">#     else</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">if</span> (0 != <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_PRINT_VERBOSE_STATS&quot;</span>)) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;          <a class="code" href="misc_8c.html#a8d1fa553a544a00c18291526a8f69c15">GC_print_stats</a> = <a class="code" href="gc__priv_8h.html#a42f8c497a1968074f38bf5055c650dca">VERBOSE</a>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (0 != <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_PRINT_STATS&quot;</span>)) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;          <a class="code" href="misc_8c.html#a8d1fa553a544a00c18291526a8f69c15">GC_print_stats</a> = 1;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="preprocessor">#     endif</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="preprocessor">#     if defined(UNIX_LIKE) || defined(CYGWIN32)</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;          <span class="keywordtype">char</span> * file_name = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_LOG_FILE&quot;</span>);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;          <span class="keywordflow">if</span> (0 != file_name) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <span class="keywordtype">int</span> log_d = open(file_name, O_CREAT|O_WRONLY|O_APPEND, 0666);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            <span class="keywordflow">if</span> (log_d &lt; 0) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;              <a class="code" href="misc_8c.html#a65add866e165472e33077885ab5cb57d">GC_err_printf</a>(<span class="stringliteral">&quot;Failed to open %s as log file\n&quot;</span>, file_name);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;              <span class="keywordtype">char</span> *str;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;              GC_log = log_d;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;              str = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_ONLY_LOG_TO_FILE&quot;</span>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="preprocessor">#             ifdef GC_ONLY_LOG_TO_FILE</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                <span class="comment">/* The similar environment variable set to &quot;0&quot;  */</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                <span class="comment">/* overrides the effect of the macro defined.   */</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                <span class="keywordflow">if</span> (str != NULL &amp;&amp; *str == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *(str + 1) == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="preprocessor">#             else</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                <span class="comment">/* Otherwise setting the environment variable   */</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                <span class="comment">/* to anything other than &quot;0&quot; will prevent from */</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                <span class="comment">/* redirecting stdout/err to the log file.      */</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                <span class="keywordflow">if</span> (str == NULL || (*str == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *(str + 1) == <span class="charliteral">&#39;\0&#39;</span>))</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="preprocessor">#             endif</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;              {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                GC_stdout = log_d;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                GC_stderr = log_d;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;              }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;          }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="preprocessor">#     endif</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="preprocessor">#   endif </span><span class="comment">/* !SMALL_CONFIG */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="preprocessor">#   ifndef NO_DEBUGGING</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <span class="keywordflow">if</span> (0 != <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_DUMP_REGULARLY&quot;</span>)) {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <a class="code" href="misc_8c.html#af5ad77603185886be73352206f177370">GC_dump_regularly</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="preprocessor">#   ifdef KEEP_BACK_PTRS</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="keywordtype">char</span> * backtraces_string = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_BACKTRACES&quot;</span>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="keywordflow">if</span> (0 != backtraces_string) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;          GC_backtraces = atol(backtraces_string);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;          <span class="keywordflow">if</span> (backtraces_string[0] == <span class="charliteral">&#39;\0&#39;</span>) GC_backtraces = 1;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">if</span> (0 != <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_FIND_LEAK&quot;</span>)) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <a class="code" href="misc_8c.html#a10ba8b641e4a9695f8cd99c022d6edda">GC_find_leak</a> = 1;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="preprocessor">#   ifndef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="keywordflow">if</span> (0 != <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_FINDLEAK_DELAY_FREE&quot;</span>)) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <a class="code" href="misc_8c.html#a711fb6e5e477e1ae333d7f90a537436c">GC_findleak_delay_free</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">if</span> (0 != <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_ALL_INTERIOR_POINTERS&quot;</span>)) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <a class="code" href="misc_8c.html#a5f51cb1440036ec088e836dee7428193">GC_all_interior_pointers</a> = 1;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">if</span> (0 != <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_DONT_GC&quot;</span>)) {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <a class="code" href="misc_8c.html#aa03eec560fcd78d95c35a262d26fc668">GC_dont_gc</a> = 1;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (0 != <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_PRINT_BACK_HEIGHT&quot;</span>)) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <a class="code" href="misc_8c.html#ab575ee7886679a10832ab6521cdec305">GC_print_back_height</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">if</span> (0 != <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_NO_BLACKLIST_WARNING&quot;</span>)) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <a class="code" href="misc_8c.html#a30d991eedc467630c3175f6544f65f8d">GC_large_alloc_warn_interval</a> = LONG_MAX;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="keywordtype">char</span> * addr_string = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_TRACE&quot;</span>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <span class="keywordflow">if</span> (0 != addr_string) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="preprocessor">#       ifndef ENABLE_TRACE</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;          <a class="code" href="gc__priv_8h.html#a5e89651d30448975f7c51c7e14a9a4de">WARN</a>(<span class="stringliteral">&quot;Tracing not enabled: Ignoring GC_TRACE value\n&quot;</span>, 0);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="preprocessor">#       else</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;          <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> addr = (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)<a class="code" href="gcconfig_8h.html#a60c687234544ba4c77de04ca5d1c9cc6">STRTOULL</a>(addr_string, NULL, 16);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;          <span class="keywordflow">if</span> (addr &lt; 0x1000)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;              <a class="code" href="gc__priv_8h.html#a5e89651d30448975f7c51c7e14a9a4de">WARN</a>(<span class="stringliteral">&quot;Unlikely trace address: %p\n&quot;</span>, addr);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;          GC_trace_addr = (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)addr;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="preprocessor">#       endif</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="preprocessor">#   ifndef GC_DISABLE_INCREMENTAL</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="keywordtype">char</span> * time_limit_string = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_PAUSE_TIME_TARGET&quot;</span>);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordflow">if</span> (0 != time_limit_string) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;          <span class="keywordtype">long</span> time_limit = atol(time_limit_string);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;          <span class="keywordflow">if</span> (time_limit &lt; 5) {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;            <a class="code" href="gc__priv_8h.html#a5e89651d30448975f7c51c7e14a9a4de">WARN</a>(<span class="stringliteral">&quot;GC_PAUSE_TIME_TARGET environment variable value too small &quot;</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                 <span class="stringliteral">&quot;or bad syntax: Ignoring\n&quot;</span>, 0);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            <a class="code" href="alloc_8c.html#a8bcf6a3600810fc5bc8816cb680a8f66">GC_time_limit</a> = time_limit;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;          }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="preprocessor">#   ifndef SMALL_CONFIG</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordtype">char</span> * full_freq_string = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_FULL_FREQUENCY&quot;</span>);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="keywordflow">if</span> (full_freq_string != NULL) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;          <span class="keywordtype">int</span> full_freq = atoi(full_freq_string);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;          <span class="keywordflow">if</span> (full_freq &gt; 0)</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            <a class="code" href="alloc_8c.html#a8246c2d871978965ca64ec822ff89d63">GC_full_freq</a> = full_freq;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    {</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <span class="keywordtype">char</span> * interval_string = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_LARGE_ALLOC_WARN_INTERVAL&quot;</span>);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <span class="keywordflow">if</span> (0 != interval_string) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordtype">long</span> interval = atol(interval_string);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">if</span> (interval &lt;= 0) {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;          <a class="code" href="gc__priv_8h.html#a5e89651d30448975f7c51c7e14a9a4de">WARN</a>(<span class="stringliteral">&quot;GC_LARGE_ALLOC_WARN_INTERVAL environment variable has &quot;</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;               <span class="stringliteral">&quot;bad value: Ignoring\n&quot;</span>, 0);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;          <a class="code" href="misc_8c.html#a30d991eedc467630c3175f6544f65f8d">GC_large_alloc_warn_interval</a> = interval;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        }</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      }</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="keywordtype">char</span> * space_divisor_string = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_FREE_SPACE_DIVISOR&quot;</span>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordflow">if</span> (space_divisor_string != NULL) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;          <span class="keywordtype">int</span> space_divisor = atoi(space_divisor_string);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;          <span class="keywordflow">if</span> (space_divisor &gt; 0)</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            <a class="code" href="alloc_8c.html#a799ca3b9e5be27291fd491c118cc3cb8">GC_free_space_divisor</a> = (<a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a>)space_divisor;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="preprocessor">#   ifdef USE_MUNMAP</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="keywordtype">char</span> * <span class="keywordtype">string</span> = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_UNMAP_THRESHOLD&quot;</span>);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span> != NULL) {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;          <span class="keywordflow">if</span> (*<span class="keywordtype">string</span> == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *(<span class="keywordtype">string</span> + 1) == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            <span class="comment">/* &quot;0&quot; is used to disable unmapping. */</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            GC_unmap_threshold = 0;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            <span class="keywordtype">int</span> unmap_threshold = atoi(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            <span class="keywordflow">if</span> (unmap_threshold &gt; 0)</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;              GC_unmap_threshold = unmap_threshold;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;          }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordtype">char</span> * <span class="keywordtype">string</span> = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_FORCE_UNMAP_ON_GCOLLECT&quot;</span>);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span> != NULL) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;          <span class="keywordflow">if</span> (*<span class="keywordtype">string</span> == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *(<span class="keywordtype">string</span> + 1) == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            <span class="comment">/* &quot;0&quot; is used to turn off the mode. */</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <a class="code" href="misc_8c.html#a72088464ee0d648819c34fc67bf2ece1">GC_force_unmap_on_gcollect</a> = <a class="code" href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <a class="code" href="misc_8c.html#a72088464ee0d648819c34fc67bf2ece1">GC_force_unmap_on_gcollect</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;          }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordtype">char</span> * <span class="keywordtype">string</span> = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_USE_ENTIRE_HEAP&quot;</span>);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="keywordflow">if</span> (<span class="keywordtype">string</span> != NULL) {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;          <span class="keywordflow">if</span> (*<span class="keywordtype">string</span> == <span class="charliteral">&#39;0&#39;</span> &amp;&amp; *(<span class="keywordtype">string</span> + 1) == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <span class="comment">/* &quot;0&quot; is used to turn off the mode. */</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <a class="code" href="allchblk_8c.html#ac91ee2c4d5b8d4c874a70a0537508d3e">GC_use_entire_heap</a> = <a class="code" href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            <a class="code" href="allchblk_8c.html#ac91ee2c4d5b8d4c874a70a0537508d3e">GC_use_entire_heap</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;          }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      }</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <a class="code" href="misc_8c.html#a5e3b1cb2a5667531d3c8cae015b8fe9e">maybe_install_looping_handler</a>();</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="comment">/* Adjust normal object descriptor for extra allocation.    */</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="atomic__ops__malloc_8c.html#a450f9d8af07bfe2f313dbe3a78738a5e">ALIGNMENT</a> &gt; <a class="code" href="gc__mark_8h.html#a7f4d7334997f80d622e9b58a3cb4d71e">GC_DS_TAGS</a> &amp;&amp; <a class="code" href="gc__priv_8h.html#a313c406cf1a541e58db208d5fbe503bb">EXTRA_BYTES</a> != 0) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <a class="code" href="gc__priv_8h.html#a9857eb16c5eaff556c3545851a06d3cb">GC_obj_kinds</a>[<a class="code" href="gc__priv_8h.html#a1291f416b069313021b519eea62d5bf1">NORMAL</a>].<a class="code" href="structobj__kind.html#a350f377474316e94c4ae74b188a14473">ok_descriptor</a> = ((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)(-<a class="code" href="atomic__ops__malloc_8c.html#a450f9d8af07bfe2f313dbe3a78738a5e">ALIGNMENT</a>) | <a class="code" href="gc__mark_8h.html#ae3fe6e667717973aee3fdb2e9b3dd47a">GC_DS_LENGTH</a>);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <a class="code" href="gc__priv_8h.html#a9de5e042f9c16b0710e64611cfa92539">GC_exclude_static_roots_inner</a>(<a class="code" href="gc__priv_8h.html#a33ecdff4b5c2276302f84a82ccd31c73">beginGC_arrays</a>, <a class="code" href="gc__priv_8h.html#ad184c95b75ba99685e3078bcaf0e9f88">endGC_arrays</a>);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <a class="code" href="gc__priv_8h.html#a9de5e042f9c16b0710e64611cfa92539">GC_exclude_static_roots_inner</a>(<a class="code" href="gc__priv_8h.html#a385d2dce9af79a7ce6f38b411bebf3a3">beginGC_obj_kinds</a>, <a class="code" href="gc__priv_8h.html#a0b34a0b4ada2d4e9def040fe0305da8d">endGC_obj_kinds</a>);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="preprocessor">#   ifdef SEPARATE_GLOBALS</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <a class="code" href="gc__priv_8h.html#a9de5e042f9c16b0710e64611cfa92539">GC_exclude_static_roots_inner</a>(beginGC_objfreelist, endGC_objfreelist);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <a class="code" href="gc__priv_8h.html#a9de5e042f9c16b0710e64611cfa92539">GC_exclude_static_roots_inner</a>(beginGC_aobjfreelist, endGC_aobjfreelist);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="preprocessor">#   if defined(USE_PROC_FOR_LIBRARIES) &amp;&amp; defined(GC_LINUX_THREADS)</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <a class="code" href="gc__priv_8h.html#a5e89651d30448975f7c51c7e14a9a4de">WARN</a>(<span class="stringliteral">&quot;USE_PROC_FOR_LIBRARIES + GC_LINUX_THREADS performs poorly.\n&quot;</span>, 0);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="comment">/* If thread stacks are cached, they tend to be scanned in      */</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="comment">/* entirety as part of the root set.  This wil grow them to     */</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="comment">/* maximum size, and is generally not desirable.                */</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="preprocessor">#   if defined(SEARCH_FOR_DATA_START)</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        GC_init_linux_data_start();</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="preprocessor">#   if defined(NETBSD) &amp;&amp; defined(__ELF__)</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        GC_init_netbsd_elf();</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="preprocessor">#   if !defined(THREADS) || defined(GC_PTHREADS) \</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="preprocessor">        || defined(GC_WIN32_THREADS) || defined(GC_SOLARIS_THREADS)</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#a02ac36c336f2fd4ad93bec5b3dbb3fe7">GC_stackbottom</a> == 0) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <a class="code" href="misc_8c.html#a02ac36c336f2fd4ad93bec5b3dbb3fe7">GC_stackbottom</a> = <a class="code" href="_amiga_o_s_8c.html#a9c2c182d635df12cdc92efe09c8ee866">GC_get_main_stack_base</a>();</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="preprocessor">#       if (defined(LINUX) || defined(HPUX)) &amp;&amp; defined(IA64)</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;          GC_register_stackbottom = GC_get_register_stack_base();</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="preprocessor">#       endif</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="preprocessor">#       if (defined(LINUX) || defined(HPUX)) &amp;&amp; defined(IA64)</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;          <span class="keywordflow">if</span> (GC_register_stackbottom == 0) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            <a class="code" href="gc__priv_8h.html#a5e89651d30448975f7c51c7e14a9a4de">WARN</a>(<span class="stringliteral">&quot;GC_register_stackbottom should be set with GC_stackbottom\n&quot;</span>, 0);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <span class="comment">/* The following may fail, since we may rely on             */</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            <span class="comment">/* alignment properties that may not hold with a user set   */</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="comment">/* GC_stackbottom.                                          */</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;            GC_register_stackbottom = GC_get_register_stack_base();</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;          }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="preprocessor">#       endif</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      }</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <a class="code" href="gc__priv_8h.html#a3d02a54858f5498d3906e587bcce1a21">GC_STATIC_ASSERT</a>(<span class="keyword">sizeof</span> (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>) == <span class="keyword">sizeof</span>(<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>));</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="gc__priv_8h.html#a3d02a54858f5498d3906e587bcce1a21">GC_STATIC_ASSERT</a>(<span class="keyword">sizeof</span> (<a class="code" href="gc__priv_8h.html#aeaf66ef32d8fed74ced5a10a3b67e591">signed_word</a>) == <span class="keyword">sizeof</span>(<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>));</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <a class="code" href="gc__priv_8h.html#a3d02a54858f5498d3906e587bcce1a21">GC_STATIC_ASSERT</a>(<span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structhblk.html">hblk</a>) == <a class="code" href="gc__priv_8h.html#a47a92e637e9159058c2f71d7c3999504">HBLKSIZE</a>);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="preprocessor">#   ifndef THREADS</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(!((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)<a class="code" href="misc_8c.html#a02ac36c336f2fd4ad93bec5b3dbb3fe7">GC_stackbottom</a> <a class="code" href="gc__priv_8h.html#ac75eecd76316d9129109a8770edf76c9">HOTTER_THAN</a> (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)(&amp;dummy)));</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="preprocessor">#   if !defined(_AUX_SOURCE) || defined(__GNUC__)</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <a class="code" href="gc__priv_8h.html#a3d02a54858f5498d3906e587bcce1a21">GC_STATIC_ASSERT</a>((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)(-1) &gt; (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)0);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <span class="comment">/* word should be unsigned */</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="preprocessor">#   if !defined(__BORLANDC__) &amp;&amp; !defined(__CC_ARM) \</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="preprocessor">       &amp;&amp; !(defined(__clang__) &amp;&amp; defined(X86_64)) </span><span class="comment">/* Workaround */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      <a class="code" href="gc__priv_8h.html#a3d02a54858f5498d3906e587bcce1a21">GC_STATIC_ASSERT</a>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)(<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)(-1) &gt; (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)0);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      <span class="comment">/* Ptr_t comparisons should behave as unsigned comparisons.       */</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <a class="code" href="gc__priv_8h.html#a3d02a54858f5498d3906e587bcce1a21">GC_STATIC_ASSERT</a>((<a class="code" href="gc__priv_8h.html#aeaf66ef32d8fed74ced5a10a3b67e591">signed_word</a>)(-1) &lt; (<a class="code" href="gc__priv_8h.html#aeaf66ef32d8fed74ced5a10a3b67e591">signed_word</a>)0);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="preprocessor">#   ifndef GC_DISABLE_INCREMENTAL</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="alloc_8c.html#abdf5d149ee4ddc8c18810c0194f8e8b4">GC_incremental</a> || 0 != <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_ENABLE_INCREMENTAL&quot;</span>)) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="comment">/* For GWW_VDB on Win32, this needs to happen before any        */</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        <span class="comment">/* heap memory is allocated.                                    */</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <a class="code" href="gc__priv_8h.html#a9221bf3e7d2c850767a313aedfaff4af">GC_dirty_init</a>();</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(<a class="code" href="gc__priv_8h.html#ad4f667eaf317615f1b036889e6bb002a">GC_bytes_allocd</a> == 0);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <a class="code" href="alloc_8c.html#abdf5d149ee4ddc8c18810c0194f8e8b4">GC_incremental</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="comment">/* Add initial guess of root sets.  Do this first, since sbrk(0)    */</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="comment">/* might be used.                                                   */</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#ac462936ce68d23ecf88bf197565b41e0">GC_REGISTER_MAIN_STATIC_DATA</a>()) <a class="code" href="_amiga_o_s_8c.html#a35e299c1577a51c6b5fb803620d0f7b5">GC_register_data_segments</a>();</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <a class="code" href="headers_8c.html#ab7801e7a7fe68245da22dff8da4dfa63">GC_init_headers</a>();</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <a class="code" href="blacklst_8c.html#af4183eead1835a06b5062b1a9980df57">GC_bl_init</a>();</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <a class="code" href="gc__priv_8h.html#a64108c12ea06e23af7be1d9c872be526">GC_mark_init</a>();</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keywordtype">char</span> * sz_str = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_INITIAL_HEAP_SIZE&quot;</span>);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keywordflow">if</span> (sz_str != NULL) {</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;          initial_heap_sz = <a class="code" href="misc_8c.html#ad6fefa01e4246ef7c4658456d0c8d51c">GC_parse_mem_size_arg</a>(sz_str);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;          <span class="keywordflow">if</span> (initial_heap_sz &lt;= <a class="code" href="gc__priv_8h.html#a42c496bb5c04fbc8bd8ee0f99dc73968">MINHINCR</a> * <a class="code" href="gc__priv_8h.html#a47a92e637e9159058c2f71d7c3999504">HBLKSIZE</a>) {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            <a class="code" href="gc__priv_8h.html#a5e89651d30448975f7c51c7e14a9a4de">WARN</a>(<span class="stringliteral">&quot;Bad initial heap size %s - ignoring it.\n&quot;</span>, sz_str);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;          }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;          initial_heap_sz = <a class="code" href="gc__priv_8h.html#a35166caefedd5ca1c2f8aebcfe2b701d">divHBLKSZ</a>(initial_heap_sz);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="keywordtype">char</span> * sz_str = <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_MAXIMUM_HEAP_SIZE&quot;</span>);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="keywordflow">if</span> (sz_str != NULL) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;          <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> max_heap_sz = <a class="code" href="misc_8c.html#ad6fefa01e4246ef7c4658456d0c8d51c">GC_parse_mem_size_arg</a>(sz_str);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;          <span class="keywordflow">if</span> (max_heap_sz &lt; initial_heap_sz * <a class="code" href="gc__priv_8h.html#a47a92e637e9159058c2f71d7c3999504">HBLKSIZE</a>) {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            <a class="code" href="gc__priv_8h.html#a5e89651d30448975f7c51c7e14a9a4de">WARN</a>(<span class="stringliteral">&quot;Bad maximum heap size %s - ignoring it.\n&quot;</span>, sz_str);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;          }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;          <span class="keywordflow">if</span> (0 == <a class="code" href="alloc_8c.html#a936ff7ea17610552bd652e2bf7a24cf9">GC_max_retries</a>) <a class="code" href="alloc_8c.html#a936ff7ea17610552bd652e2bf7a24cf9">GC_max_retries</a> = 2;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;          <a class="code" href="alloc_8c.html#a19ab7146b88522de1093da71555be260">GC_set_max_heap_size</a>(max_heap_sz);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="alloc_8c.html#ac5bcf928b3ddcd0be79f3b8e276ecb5c">GC_expand_hp_inner</a>(initial_heap_sz)) {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <a class="code" href="misc_8c.html#a65add866e165472e33077885ab5cb57d">GC_err_printf</a>(<span class="stringliteral">&quot;Can&#39;t start up: not enough memory\n&quot;</span>);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <a class="code" href="gc__priv_8h.html#acb518006643e05e763f3e5672a014515">EXIT</a>();</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#a5f51cb1440036ec088e836dee7428193">GC_all_interior_pointers</a>)</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <a class="code" href="gc__priv_8h.html#abbd44583f2d985e9a2eb30303beb8f97">GC_initialize_offsets</a>();</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <a class="code" href="gc__priv_8h.html#a2a2204a2386781556aa1d3d70eb9bd04">GC_register_displacement_inner</a>(0L);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="preprocessor">#   if defined(GC_LINUX_THREADS) &amp;&amp; defined(REDIRECT_MALLOC)</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="misc_8c.html#a5f51cb1440036ec088e836dee7428193">GC_all_interior_pointers</a>) {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <span class="comment">/* TLS ABI uses pointer-sized offsets for dtv. */</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <a class="code" href="gc__priv_8h.html#a2a2204a2386781556aa1d3d70eb9bd04">GC_register_displacement_inner</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *));</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <a class="code" href="misc_8c.html#a8630ca36a509b7a5b0ff5091b59f261a">GC_init_size_map</a>();</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="preprocessor">#   ifdef PCR</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <span class="keywordflow">if</span> (PCR_IL_Lock(PCR_Bool_false, PCR_allSigsBlocked, PCR_waitForever)</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;          != PCR_ERes_okay) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;          <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Can&#39;t lock load state&quot;</span>);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (PCR_IL_Unlock() != PCR_ERes_okay) {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;          <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Can&#39;t unlock load state&quot;</span>);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      PCR_IL_Unlock();</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      GC_pcr_install();</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    GC_is_initialized = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="preprocessor">#   if defined(GC_PTHREADS) || defined(GC_WIN32_THREADS)</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        GC_thr_init();</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <a class="code" href="gc__priv_8h.html#a49291a283b2fbdc21df1955c0c803969">COND_DUMP</a>;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="comment">/* Get black list set up and/or incremental GC started */</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="misc_8c.html#ae05ef326af0ff4e85282392ab05d51d1">GC_dont_precollect</a> || <a class="code" href="alloc_8c.html#abdf5d149ee4ddc8c18810c0194f8e8b4">GC_incremental</a>) <a class="code" href="gc__priv_8h.html#a8915cbffcff0e8d94a1b863fabb4c636">GC_gcollect_inner</a>();</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="preprocessor">#   ifdef STUBBORN_ALLOC</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <a class="code" href="gc__priv_8h.html#ada15c1b9343d66a7c714d76e63f9c278">GC_stubborn_init</a>();</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">/* Convince lint that some things are used */</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="preprocessor">#   ifdef LINT</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;          <span class="keyword">extern</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> <a class="code" href="alloc_8c.html#aac4d2dc5bce4b0c34a7fa0c6e79d1eee">GC_copyright</a>[];</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;          <a class="code" href="gc__priv_8h.html#ab7cd275c94e53346c7c853ae56bcf841">GC_noop</a>(GC_copyright, <a class="code" href="headers_8c.html#a82a38fd3345ecdd1ab8e84422ed16022">GC_find_header</a>, <a class="code" href="gc__priv_8h.html#a7cc519745f6f05ab4c5486cecb2df0d9">GC_push_one</a>,</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                  <a class="code" href="finalize_8c.html#adb340a4f45ca33b7af2d84fcac217844">GC_call_with_alloc_lock</a>, <a class="code" href="alloc_8c.html#a21afc9beacdbb80d68fd66fd268d7478">GC_dont_expand</a>,</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;#                 ifndef NO_DEBUGGING</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                    <a class="code" href="misc_8c.html#a6de78734ee9e2d575abf6574ca977f26">GC_dump</a>,</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;#                 endif</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                  <a class="code" href="finalize_8c.html#a28647f10185365f32bc3843e13b347c0">GC_register_finalizer_no_order</a>);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#a10ba8b641e4a9695f8cd99c022d6edda">GC_find_leak</a>) {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="comment">/* This is to give us at least one chance to detect leaks.        */</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <span class="comment">/* This may report some very benign leaks, but ...                */</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      atexit(<a class="code" href="misc_8c.html#aebed0843915f857a3004b0b9fc88846e">GC_exit_check</a>);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    }</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="comment">/* The rest of this again assumes we don&#39;t really hold      */</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="comment">/* the allocation lock.                                     */</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="preprocessor">#   if defined(PARALLEL_MARK) || defined(THREAD_LOCAL_ALLOC)</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <span class="comment">/* Make sure marker threads are started and thread local */</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="comment">/* allocation is initialized, in case we didn&#39;t get      */</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="comment">/* called from GC_init_parallel.                         */</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        GC_init_parallel();</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="preprocessor">#   endif </span><span class="comment">/* PARALLEL_MARK || THREAD_LOCAL_ALLOC */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="preprocessor">#   if defined(DYNAMIC_LOADING) &amp;&amp; defined(DARWIN)</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="comment">/* This must be called WITHOUT the allocation lock held */</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="comment">/* and before any threads are created.                  */</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        GC_init_dyld();</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <a class="code" href="gc__priv_8h.html#add6ee8909135088810c22d3d27f245fc">RESTORE_CANCEL</a>(cancel_state);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;}</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div>
<div class="line"><a name="l01078"></a><span class="lineno"><a class="line" href="misc_8c.html#a28b48d7c528209a6158075c4e15852d5"> 1078</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a28b48d7c528209a6158075c4e15852d5">GC_enable_incremental</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;{</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="preprocessor"># if !defined(GC_DISABLE_INCREMENTAL) &amp;&amp; !defined(KEEP_BACK_PTRS)</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="comment">/* If we are keeping back pointers, the GC itself dirties all */</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="comment">/* pages on which objects have been marked, making            */</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="comment">/* incremental GC pointless.                                  */</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="misc_8c.html#a10ba8b641e4a9695f8cd99c022d6edda">GC_find_leak</a> &amp;&amp; 0 == <a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_DISABLE_INCREMENTAL&quot;</span>)) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="alloc_8c.html#abdf5d149ee4ddc8c18810c0194f8e8b4">GC_incremental</a>) {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <a class="code" href="gc__priv_8h.html#a69f36e8eacdbd088bfd0fe6b8187d13f">GC_setpagesize</a>();</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <span class="comment">/* if (GC_no_win32_dlls) goto out; Should be win32S test? */</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <a class="code" href="misc_8c.html#a5e3b1cb2a5667531d3c8cae015b8fe9e">maybe_install_looping_handler</a>(); <span class="comment">/* Before write fault handler! */</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <a class="code" href="alloc_8c.html#abdf5d149ee4ddc8c18810c0194f8e8b4">GC_incremental</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="keywordflow">if</span> (!GC_is_initialized) {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;          <a class="code" href="misc_8c.html#a16a0e282a07c598595436b79e88d6e00">GC_init</a>();</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;          <a class="code" href="gc__priv_8h.html#a9221bf3e7d2c850767a313aedfaff4af">GC_dirty_init</a>();</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="gc__priv_8h.html#a0f13d42ffdf9be2b3276c8d9a53740d7">GC_dirty_maintained</a> &amp;&amp; !<a class="code" href="misc_8c.html#aa03eec560fcd78d95c35a262d26fc668">GC_dont_gc</a>) {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                                <span class="comment">/* Can&#39;t easily do it if GC_dont_gc.    */</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="gc__priv_8h.html#ad4f667eaf317615f1b036889e6bb002a">GC_bytes_allocd</a> &gt; 0) {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            <span class="comment">/* There may be unmarked reachable objects. */</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            <a class="code" href="gc__priv_8h.html#a8915cbffcff0e8d94a1b863fabb4c636">GC_gcollect_inner</a>();</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;          }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <span class="comment">/* else we&#39;re OK in assuming everything&#39;s   */</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            <span class="comment">/* clean since nothing can point to an      */</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;            <span class="comment">/* unmarked object.                         */</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;          <a class="code" href="gc__priv_8h.html#a5d956a420c2ad60be1e560ce94e24409">GC_read_dirty</a>();</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <a class="code" href="misc_8c.html#a16a0e282a07c598595436b79e88d6e00">GC_init</a>();</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;}</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="preprocessor">#if defined(MSWIN32) || defined(MSWINCE)</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="preprocessor"># if defined(_MSC_VER) &amp;&amp; defined(_DEBUG) &amp;&amp; !defined(MSWINCE)</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="preprocessor">#   include &lt;crtdbg.h&gt;</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="msvc__dbg_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> GC_log = 0;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="keywordtype">void</span> GC_deinit(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="preprocessor">#   ifdef THREADS</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      <span class="keywordflow">if</span> (GC_is_initialized) {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        DeleteCriticalSection(&amp;GC_write_cs);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="preprocessor"># ifdef THREADS</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="preprocessor">#   ifdef PARALLEL_MARK</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="preprocessor">#     define IF_NEED_TO_LOCK(x) if (GC_parallel || GC_need_to_lock) x</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="preprocessor">#   else</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="preprocessor">#     define IF_NEED_TO_LOCK(x) if (GC_need_to_lock) x</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="preprocessor">#   define IF_NEED_TO_LOCK(x)</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="preprocessor"># endif </span><span class="comment">/* !THREADS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="msvc__dbg_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> GC_CreateLogFile(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="preprocessor">#   if !defined(NO_GETENV_WIN32) || !defined(OLD_WIN32_LOG_FILE)</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      TCHAR logPath[_MAX_PATH + 0x10]; <span class="comment">/* buffer for path + ext */</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="comment">/* Use GetEnvironmentVariable instead of GETENV() for unicode support. */</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="preprocessor">#   ifndef NO_GETENV_WIN32</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      <span class="keywordflow">if</span> (GetEnvironmentVariable(TEXT(<span class="stringliteral">&quot;GC_LOG_FILE&quot;</span>), logPath,</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                                 _MAX_PATH + 1) - 1U &gt;= (DWORD)_MAX_PATH)</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    {</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <span class="comment">/* Env var not found or its value too long.       */</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="preprocessor">#     ifdef OLD_WIN32_LOG_FILE</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <span class="keywordflow">return</span> CreateFile(TEXT(<span class="stringliteral">&quot;gc.log&quot;</span>), GENERIC_WRITE, FILE_SHARE_READ,</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                          NULL <span class="comment">/* lpSecurityAttributes */</span>, CREATE_ALWAYS,</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                          FILE_FLAG_WRITE_THROUGH, NULL <span class="comment">/* hTemplateFile */</span>);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="preprocessor">#     else</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="keywordtype">int</span> len = (int)GetModuleFileName(NULL <span class="comment">/* hModule */</span>, logPath,</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                                         _MAX_PATH + 1);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <span class="comment">/* If GetModuleFileName() has failed then len is 0. */</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <span class="keywordflow">if</span> (len &gt; 4 &amp;&amp; logPath[len - 4] == (TCHAR)<span class="charliteral">&#39;.&#39;</span>) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;          len -= 4; <span class="comment">/* strip executable file extension */</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        }</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <span class="comment">/* strcat/wcscat() are deprecated on WinCE, so use memcpy()     */</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        memcpy(&amp;logPath[len], TEXT(<span class="stringliteral">&quot;.gc.log&quot;</span>), <span class="keyword">sizeof</span>(TEXT(<span class="stringliteral">&quot;.gc.log&quot;</span>)));</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="preprocessor">#     endif</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    }</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="preprocessor">#   if !defined(NO_GETENV_WIN32) || !defined(OLD_WIN32_LOG_FILE)</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      <span class="keywordflow">return</span> CreateFile(logPath, GENERIC_WRITE, FILE_SHARE_READ,</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                        NULL <span class="comment">/* lpSecurityAttributes */</span>, CREATE_ALWAYS,</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                        <a class="code" href="misc_8c.html#a8d1fa553a544a00c18291526a8f69c15">GC_print_stats</a> == <a class="code" href="gc__priv_8h.html#a42f8c497a1968074f38bf5055c650dca">VERBOSE</a> ? FILE_ATTRIBUTE_NORMAL :</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                            <span class="comment">/* immediately flush writes unless very verbose */</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                            FILE_ATTRIBUTE_NORMAL | FILE_FLAG_WRITE_THROUGH,</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                        NULL <span class="comment">/* hTemplateFile */</span>);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">int</span> <a class="code" href="misc_8c.html#a5e8116978afd3c1d06874966fa6fc9c5">GC_write</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *buf, <span class="keywordtype">size_t</span> len)</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      BOOL tmp;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      DWORD written;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <span class="keywordflow">if</span> (len == 0)</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;          <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      IF_NEED_TO_LOCK(EnterCriticalSection(&amp;GC_write_cs));</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="preprocessor">#     ifdef THREADS</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(!GC_write_disabled);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="preprocessor">#     endif</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <span class="keywordflow">if</span> (GC_log == INVALID_HANDLE_VALUE) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;          IF_NEED_TO_LOCK(LeaveCriticalSection(&amp;GC_write_cs));</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;          <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (GC_log == 0) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        GC_log = GC_CreateLogFile();</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="comment">/* Ignore open log failure if the collector is built with       */</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <span class="comment">/* print_stats always set on.                                   */</span></div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="preprocessor">#       ifndef GC_PRINT_VERBOSE_STATS</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;          <span class="keywordflow">if</span> (GC_log == INVALID_HANDLE_VALUE)</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Open of log file failed&quot;</span>);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="preprocessor">#       endif</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      }</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      tmp = WriteFile(GC_log, buf, (DWORD)len, &amp;written, NULL);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;      <span class="keywordflow">if</span> (!tmp)</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;          DebugBreak();</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="preprocessor">#     if defined(_MSC_VER) &amp;&amp; defined(_DEBUG)</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="preprocessor">#         ifdef MSWINCE</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;              <span class="comment">/* There is no CrtDbgReport() in WinCE */</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;              {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                  WCHAR wbuf[1024];</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                  <span class="comment">/* Always use Unicode variant of OutputDebugString() */</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                  wbuf[MultiByteToWideChar(CP_ACP, 0 <span class="comment">/* dwFlags */</span>,</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                                buf, len, wbuf,</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                                <span class="keyword">sizeof</span>(wbuf) / <span class="keyword">sizeof</span>(wbuf[0]) - 1)] = 0;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                  OutputDebugStringW(wbuf);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;              }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="preprocessor">#         else</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;              _CrtDbgReport(_CRT_WARN, NULL, 0, NULL, <span class="stringliteral">&quot;%.*s&quot;</span>, len, buf);</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="preprocessor">#         endif</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="preprocessor">#     endif</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      IF_NEED_TO_LOCK(LeaveCriticalSection(&amp;GC_write_cs));</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">return</span> tmp ? (int)written : -1;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  }</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="comment">/* FIXME: This is pretty ugly ... */</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="preprocessor"># define WRITE(f, buf, len) GC_write(buf, len)</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="preprocessor">#elif defined(OS2) || defined(MACOS)</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> FILE * GC_stdout = NULL;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> FILE * GC_stderr = NULL;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> FILE * GC_log = NULL;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="comment">/* Initialize GC_log (and the friends) passed to GC_write().  */</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> GC_set_files(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  {</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="keywordflow">if</span> (GC_stdout == NULL) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      GC_stdout = stdout;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">if</span> (GC_stderr == NULL) {</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      GC_stderr = stderr;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordflow">if</span> (GC_log == NULL) {</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      GC_log = stderr;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <a class="code" href="gc__priv_8h.html#a65bc5bda2a7c750138dabc2f216c7762">GC_INLINE</a> <span class="keywordtype">int</span> <a class="code" href="misc_8c.html#a5e8116978afd3c1d06874966fa6fc9c5">GC_write</a>(FILE *f, <span class="keyword">const</span> <span class="keywordtype">char</span> *buf, <span class="keywordtype">size_t</span> len)</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordtype">int</span> res = fwrite(buf, 1, len, f);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    fflush(f);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  }</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="preprocessor"># define WRITE(f, buf, len) (GC_set_files(), GC_write(f, buf, len))</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="preprocessor"># if !defined(AMIGA) &amp;&amp; !defined(__CC_ARM)</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="preprocessor">#   include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div>
<div class="line"><a name="l01260"></a><span class="lineno"><a class="line" href="misc_8c.html#a5e8116978afd3c1d06874966fa6fc9c5"> 1260</a></span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">int</span> <a class="code" href="misc_8c.html#a5e8116978afd3c1d06874966fa6fc9c5">GC_write</a>(<span class="keywordtype">int</span> fd, <span class="keyword">const</span> <span class="keywordtype">char</span> *buf, <span class="keywordtype">size_t</span> len)</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="preprocessor">#   if defined(ECOS) || defined(NOSYS)</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="preprocessor">#     ifdef ECOS</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <span class="comment">/* FIXME: This seems to be defined nowhere at present.  */</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <span class="comment">/* _Jv_diag_write(buf, len); */</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="preprocessor">#     else</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        <span class="comment">/* No writing.  */</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="preprocessor">#     endif</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <span class="keywordflow">return</span> len;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="preprocessor">#   else</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      <span class="keywordtype">int</span> bytes_written = 0;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <span class="keywordtype">int</span> result;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <a class="code" href="gcconfig_8h.html#a4b6f6e2f219ad8cfc47aa16edf9d0333">IF_CANCEL</a>(<span class="keywordtype">int</span> cancel_state;)</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <a class="code" href="gc__priv_8h.html#ac3118d0d85274bdc7e6f083c13364c76">DISABLE_CANCEL</a>(cancel_state);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="keywordflow">while</span> ((<span class="keywordtype">size_t</span>)bytes_written &lt; len) {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="preprocessor">#        ifdef GC_SOLARIS_THREADS</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;             result = syscall(SYS_write, fd, buf + bytes_written,</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                                             len - bytes_written);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="preprocessor">#        else</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;             result = write(fd, buf + bytes_written, len - bytes_written);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="preprocessor">#        endif</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;         <span class="keywordflow">if</span> (-1 == result) {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;             <a class="code" href="gc__priv_8h.html#add6ee8909135088810c22d3d27f245fc">RESTORE_CANCEL</a>(cancel_state);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;             <span class="keywordflow">return</span>(result);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;         }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;         bytes_written += result;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      }</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <a class="code" href="gc__priv_8h.html#add6ee8909135088810c22d3d27f245fc">RESTORE_CANCEL</a>(cancel_state);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <span class="keywordflow">return</span>(bytes_written);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;</div>
<div class="line"><a name="l01294"></a><span class="lineno"><a class="line" href="misc_8c.html#ab33974cd36b2028ddb585ccfe6577246"> 1294</a></span>&#160;<span class="preprocessor"># define WRITE(f, buf, len) GC_write(f, buf, len)</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !MSWIN32 &amp;&amp; !OS2 &amp;&amp; !MACOS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div>
<div class="line"><a name="l01297"></a><span class="lineno"><a class="line" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882"> 1297</a></span>&#160;<span class="preprocessor">#define BUFSZ 1024</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="preprocessor">#ifdef NO_VSNPRINTF</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="comment">/* In case this function is missing (eg., in DJGPP v2.0.3).   */</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="preprocessor"># define vsnprintf(buf, bufsz, format, args) vsprintf(buf, format, args)</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="preprocessor">#elif defined(_MSC_VER)</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="preprocessor"># ifdef MSWINCE</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="comment">/* _vsnprintf is deprecated in WinCE */</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="preprocessor">#   define vsnprintf StringCchVPrintfA</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="preprocessor">#   define vsnprintf _vsnprintf</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">/* A version of printf that is unlikely to call malloc, and is thus safer */</span></div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="comment">/* to call from the collector in case malloc has been bound to GC_malloc. */</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="comment">/* Floating point arguments and formats should be avoided, since fp       */</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="comment">/* conversion is more likely to allocate.                                 */</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="comment">/* Assumes that no more than BUFSZ-1 characters are written at once.      */</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"><a class="line" href="misc_8c.html#aebb4da69c820838a579a15be2dfb7fd9"> 1315</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="misc_8c.html#aebb4da69c820838a579a15be2dfb7fd9">GC_printf</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...)</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;{</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    va_list args;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordtype">char</span> buf[<a class="code" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>+1];</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#afbf36429ac844bac9435bf02ed6ce175">GC_quiet</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    va_start(args, format);</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    buf[<a class="code" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>] = 0x15;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    (<a class="code" href="gc_2include_2gc_8h.html#a7e0f997409f0b1753e44b648fcd6fc39">void</a>) vsnprintf(buf, <a class="code" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>, format, args);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    va_end(args);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordflow">if</span> (buf[<a class="code" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>] != 0x15) <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;GC_printf clobbered stack&quot;</span>);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#ab33974cd36b2028ddb585ccfe6577246">WRITE</a>(GC_stdout, buf, strlen(buf)) &lt; 0)</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;write to stdout failed&quot;</span>);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;}</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div>
<div class="line"><a name="l01330"></a><span class="lineno"><a class="line" href="misc_8c.html#a65add866e165472e33077885ab5cb57d"> 1330</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="misc_8c.html#a65add866e165472e33077885ab5cb57d">GC_err_printf</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...)</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;{</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    va_list args;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="keywordtype">char</span> buf[<a class="code" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>+1];</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    va_start(args, format);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    buf[<a class="code" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>] = 0x15;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    (<a class="code" href="gc_2include_2gc_8h.html#a7e0f997409f0b1753e44b648fcd6fc39">void</a>) vsnprintf(buf, <a class="code" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>, format, args);</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    va_end(args);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">if</span> (buf[<a class="code" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>] != 0x15) <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;GC_printf clobbered stack&quot;</span>);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#ab33974cd36b2028ddb585ccfe6577246">WRITE</a>(GC_stderr, buf, strlen(buf)) &lt; 0)</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;write to stderr failed&quot;</span>);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;}</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div>
<div class="line"><a name="l01344"></a><span class="lineno"><a class="line" href="misc_8c.html#a1434cc1aa0efb284493d1be3bed5ba90"> 1344</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="misc_8c.html#a1434cc1aa0efb284493d1be3bed5ba90">GC_log_printf</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...)</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;{</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    va_list args;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <span class="keywordtype">char</span> buf[<a class="code" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>+1];</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    va_start(args, format);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    buf[<a class="code" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>] = 0x15;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    (<a class="code" href="gc_2include_2gc_8h.html#a7e0f997409f0b1753e44b648fcd6fc39">void</a>) vsnprintf(buf, <a class="code" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>, format, args);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    va_end(args);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">if</span> (buf[<a class="code" href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>] != 0x15) <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;GC_printf clobbered stack&quot;</span>);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#ab33974cd36b2028ddb585ccfe6577246">WRITE</a>(GC_log, buf, strlen(buf)) &lt; 0)</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;write to log failed&quot;</span>);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;}</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;<span class="comment">/* This is equivalent to GC_err_printf(&quot;%s&quot;,s). */</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"><a class="line" href="misc_8c.html#ac8e0ae3d9050e13056af620d0395c587"> 1359</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="misc_8c.html#ac8e0ae3d9050e13056af620d0395c587">GC_err_puts</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s)</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;{</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#ab33974cd36b2028ddb585ccfe6577246">WRITE</a>(GC_stderr, s, strlen(s)) &lt; 0) <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;write to stderr failed&quot;</span>);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;}</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;</div>
<div class="line"><a name="l01364"></a><span class="lineno"><a class="line" href="misc_8c.html#a29af6b986555e2656ac2cd04e2dc8ddc"> 1364</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> GC_CALLBACK <a class="code" href="misc_8c.html#a29af6b986555e2656ac2cd04e2dc8ddc">GC_default_warn_proc</a>(<span class="keywordtype">char</span> *msg, <a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> arg)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;{</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <a class="code" href="misc_8c.html#a65add866e165472e33077885ab5cb57d">GC_err_printf</a>(msg, arg);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;}</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div>
<div class="line"><a name="l01369"></a><span class="lineno"><a class="line" href="misc_8c.html#a3bc48995b6a21c51c40dc0c601ab4144"> 1369</a></span>&#160;<a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc_2include_2gc_8h.html#a1f01451d673b02b32d3470229d36f06a">GC_warn_proc</a> <a class="code" href="misc_8c.html#a3bc48995b6a21c51c40dc0c601ab4144">GC_current_warn_proc</a> = <a class="code" href="misc_8c.html#a29af6b986555e2656ac2cd04e2dc8ddc">GC_default_warn_proc</a>;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="comment">/* This is recommended for production code (release). */</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"><a class="line" href="misc_8c.html#a923e2dee767a27d4322cc6db6b117a36"> 1372</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALLBACK <a class="code" href="misc_8c.html#a923e2dee767a27d4322cc6db6b117a36">GC_ignore_warn_proc</a>(<span class="keywordtype">char</span> *msg, <a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> arg)</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;{</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#a8d1fa553a544a00c18291526a8f69c15">GC_print_stats</a>) {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;      <span class="comment">/* Don&#39;t ignore warnings if stats printing is on. */</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      <a class="code" href="misc_8c.html#a29af6b986555e2656ac2cd04e2dc8ddc">GC_default_warn_proc</a>(msg, arg);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    }</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;}</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;</div>
<div class="line"><a name="l01380"></a><span class="lineno"><a class="line" href="misc_8c.html#af7d8732a1092f3f0a5ea4ce4dad151f1"> 1380</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#af7d8732a1092f3f0a5ea4ce4dad151f1">GC_set_warn_proc</a>(<a class="code" href="gc_2include_2gc_8h.html#a1f01451d673b02b32d3470229d36f06a">GC_warn_proc</a> p)</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;{</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(p != 0);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="preprocessor">#   ifdef GC_WIN32_THREADS</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="preprocessor">#     ifdef CYGWIN32</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="comment">/* Need explicit GC_INIT call */</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(GC_is_initialized);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="preprocessor">#     else</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <span class="keywordflow">if</span> (!GC_is_initialized) <a class="code" href="misc_8c.html#a16a0e282a07c598595436b79e88d6e00">GC_init</a>();</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="preprocessor">#     endif</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    GC_current_warn_proc = p;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;}</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div>
<div class="line"><a name="l01397"></a><span class="lineno"><a class="line" href="misc_8c.html#aa722a3752fead06ed532d775670e3356"> 1397</a></span>&#160;GC_API <a class="code" href="gc_2include_2gc_8h.html#a1f01451d673b02b32d3470229d36f06a">GC_warn_proc</a> GC_CALL <a class="code" href="misc_8c.html#aa722a3752fead06ed532d775670e3356">GC_get_warn_proc</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;{</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#a1f01451d673b02b32d3470229d36f06a">GC_warn_proc</a> result;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    result = <a class="code" href="misc_8c.html#a3bc48995b6a21c51c40dc0c601ab4144">GC_current_warn_proc</a>;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">return</span>(result);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;}</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="preprocessor">#if !defined(PCR) &amp;&amp; !defined(SMALL_CONFIG)</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <span class="comment">/* Abort the program with a message. msg must not be NULL. */</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"><a class="line" href="misc_8c.html#a815f35ed4ec29b2769ec07e8dfed0ffb"> 1409</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="misc_8c.html#a815f35ed4ec29b2769ec07e8dfed0ffb">GC_abort</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *msg)</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  {</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="preprocessor">#   if defined(MSWIN32)</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="preprocessor">#     ifndef DONT_USE_USER32_DLL</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="comment">/* Use static binding to &quot;user32.dll&quot;.  */</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        (<a class="code" href="gc_2include_2gc_8h.html#a7e0f997409f0b1753e44b648fcd6fc39">void</a>)MessageBoxA(NULL, msg, <span class="stringliteral">&quot;Fatal error in GC&quot;</span>, MB_ICONERROR|MB_OK);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="preprocessor">#     else</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <span class="comment">/* This simplifies linking - resolve &quot;MessageBoxA&quot; at run-time. */</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        HINSTANCE hU32 = LoadLibrary(TEXT(<span class="stringliteral">&quot;user32.dll&quot;</span>));</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        <span class="keywordflow">if</span> (hU32) {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;          FARPROC pfn = GetProcAddress(hU32, <span class="stringliteral">&quot;MessageBoxA&quot;</span>);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;          <span class="keywordflow">if</span> (pfn)</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;            (<a class="code" href="gc_2include_2gc_8h.html#a7e0f997409f0b1753e44b648fcd6fc39">void</a>)(*(<span class="keywordtype">int</span> (WINAPI *)(HWND, LPCSTR, LPCSTR, UINT))pfn)(</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                                NULL <span class="comment">/* hWnd */</span>, msg, <span class="stringliteral">&quot;Fatal error in GC&quot;</span>,</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                                MB_ICONERROR | MB_OK);</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;          (<a class="code" href="gc_2include_2gc_8h.html#a7e0f997409f0b1753e44b648fcd6fc39">void</a>)FreeLibrary(hU32);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        }</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="preprocessor">#     endif</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <span class="comment">/* Also duplicate msg to GC log file.     */</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      <span class="comment">/* Avoid calling GC_err_printf() here, as GC_abort() could be     */</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <span class="comment">/* called from it.  Note 1: this is not an atomic output.         */</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="comment">/* Note 2: possible write errors are ignored.                     */</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#ab33974cd36b2028ddb585ccfe6577246">WRITE</a>(GC_stderr, (<span class="keywordtype">void</span> *)msg, strlen(msg)) &gt;= 0)</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        (<a class="code" href="gc_2include_2gc_8h.html#a7e0f997409f0b1753e44b648fcd6fc39">void</a>)<a class="code" href="misc_8c.html#ab33974cd36b2028ddb585ccfe6577246">WRITE</a>(GC_stderr, (<span class="keywordtype">void</span> *)(<span class="stringliteral">&quot;\n&quot;</span>), 1);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a>(<span class="stringliteral">&quot;GC_LOOP_ON_ABORT&quot;</span>) != NULL) {</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            <span class="comment">/* In many cases it&#39;s easier to debug a running process.    */</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;            <span class="comment">/* It&#39;s arguably nicer to sleep, but that makes it harder   */</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;            <span class="comment">/* to look at the thread if the debugger doesn&#39;t know much  */</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;            <span class="comment">/* about threads.                                           */</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;            <span class="keywordflow">for</span>(;;) {}</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="preprocessor">#   ifndef LINT2</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      <span class="keywordflow">if</span> (!msg) <span class="keywordflow">return</span>; <span class="comment">/* to suppress compiler warnings in ABORT callers. */</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="preprocessor">#   if defined(MSWIN32) &amp;&amp; (defined(NO_DEBUGGING) || defined(LINT2))</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      <span class="comment">/* A more user-friendly abort after showing fatal message.        */</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        _exit(-1); <span class="comment">/* exit on error without running &quot;at-exit&quot; callbacks */</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="preprocessor">#   elif defined(MSWINCE) &amp;&amp; defined(NO_DEBUGGING)</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        ExitProcess(-1);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="preprocessor">#   elif defined(MSWIN32) || defined(MSWINCE)</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        DebugBreak();</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                <span class="comment">/* Note that on a WinCE box, this could be silently     */</span></div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                <span class="comment">/* ignored (i.e., the program is not aborted).          */</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="preprocessor">#   else</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        (<a class="code" href="gc_2include_2gc_8h.html#a7e0f997409f0b1753e44b648fcd6fc39">void</a>) abort();</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !SMALL_CONFIG */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;</div>
<div class="line"><a name="l01460"></a><span class="lineno"><a class="line" href="misc_8c.html#a1ad76d31bad3bc830e83c652a9862dd7"> 1460</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a1ad76d31bad3bc830e83c652a9862dd7">GC_enable</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;{</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <a class="code" href="misc_8c.html#aa03eec560fcd78d95c35a262d26fc668">GC_dont_gc</a>--;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;}</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div>
<div class="line"><a name="l01468"></a><span class="lineno"><a class="line" href="misc_8c.html#a2ab75715ed70c4b021789ad4fabefa3b"> 1468</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a2ab75715ed70c4b021789ad4fabefa3b">GC_disable</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;{</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <a class="code" href="misc_8c.html#aa03eec560fcd78d95c35a262d26fc668">GC_dont_gc</a>++;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;}</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;</div>
<div class="line"><a name="l01476"></a><span class="lineno"><a class="line" href="misc_8c.html#af392ea5ea53c8cc40a806c93bc249e74"> 1476</a></span>&#160;GC_API <span class="keywordtype">int</span> GC_CALL <a class="code" href="misc_8c.html#af392ea5ea53c8cc40a806c93bc249e74">GC_is_disabled</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;{</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="misc_8c.html#aa03eec560fcd78d95c35a262d26fc668">GC_dont_gc</a> != 0;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;}</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="comment">/* Helper procedures for new kind creation.     */</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"><a class="line" href="misc_8c.html#a691385ebac25e337628c9308c8ffb30a"> 1482</a></span>&#160;GC_API <span class="keywordtype">void</span> ** GC_CALL <a class="code" href="misc_8c.html#a691385ebac25e337628c9308c8ffb30a">GC_new_free_list_inner</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;{</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordtype">void</span> *result = <a class="code" href="gc__priv_8h.html#a6a80e9eb6e68fdd8bd990a6360dd31fc">GC_INTERNAL_MALLOC</a>((<a class="code" href="gc__priv_8h.html#a31f5ad3934663f6b9f6d6440cb4d8c54">MAXOBJGRANULES</a>+1)*<span class="keyword">sizeof</span>(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>),</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                                      <a class="code" href="gc__priv_8h.html#a0a8f64fba436c3448742e4f83fec4c45">PTRFREE</a>);</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="keywordflow">if</span> (result == 0) <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Failed to allocate freelist for new kind&quot;</span>);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <a class="code" href="gc__priv_8h.html#aecdb09a44220e11b3009d01ac444a584">BZERO</a>(result, (<a class="code" href="gc__priv_8h.html#a31f5ad3934663f6b9f6d6440cb4d8c54">MAXOBJGRANULES</a>+1)*<span class="keyword">sizeof</span>(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>));</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;}</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div>
<div class="line"><a name="l01491"></a><span class="lineno"><a class="line" href="misc_8c.html#a46be0c3517a60863ac70e23f170c0bca"> 1491</a></span>&#160;GC_API <span class="keywordtype">void</span> ** GC_CALL <a class="code" href="misc_8c.html#a46be0c3517a60863ac70e23f170c0bca">GC_new_free_list</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;{</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordtype">void</span> *result;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    result = <a class="code" href="misc_8c.html#a691385ebac25e337628c9308c8ffb30a">GC_new_free_list_inner</a>();</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;}</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div>
<div class="line"><a name="l01501"></a><span class="lineno"><a class="line" href="misc_8c.html#a8039b1101b0c08ef2f699c2e945eb86d"> 1501</a></span>&#160;GC_API <span class="keywordtype">unsigned</span> GC_CALL <a class="code" href="misc_8c.html#a8039b1101b0c08ef2f699c2e945eb86d">GC_new_kind_inner</a>(<span class="keywordtype">void</span> **fl, <a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> descr,</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                                        <span class="keywordtype">int</span> adjust, <span class="keywordtype">int</span> clear)</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;{</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keywordtype">unsigned</span> result = <a class="code" href="gc__priv_8h.html#aed862f8f1025b3901a2c09557dc827f2">GC_n_kinds</a>++;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gc__priv_8h.html#aed862f8f1025b3901a2c09557dc827f2">GC_n_kinds</a> &gt; <a class="code" href="gc__priv_8h.html#a0fde23d5f3eddcc4d5f8f405fe5f2699">MAXOBJKINDS</a>) <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Too many kinds&quot;</span>);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <a class="code" href="gc__priv_8h.html#a9857eb16c5eaff556c3545851a06d3cb">GC_obj_kinds</a>[result].<a class="code" href="structobj__kind.html#a28a73d2654341ce0e4a06efd66bf7d01">ok_freelist</a> = fl;</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <a class="code" href="gc__priv_8h.html#a9857eb16c5eaff556c3545851a06d3cb">GC_obj_kinds</a>[result].<a class="code" href="structobj__kind.html#a2b0d9dffac953f8df005bbc32114b011">ok_reclaim_list</a> = 0;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="gc__priv_8h.html#a9857eb16c5eaff556c3545851a06d3cb">GC_obj_kinds</a>[result].<a class="code" href="structobj__kind.html#a350f377474316e94c4ae74b188a14473">ok_descriptor</a> = descr;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <a class="code" href="gc__priv_8h.html#a9857eb16c5eaff556c3545851a06d3cb">GC_obj_kinds</a>[result].<a class="code" href="structobj__kind.html#ac11f9763ebb6bb66f591663f28aaa44c">ok_relocate_descr</a> = adjust;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    <a class="code" href="gc__priv_8h.html#a9857eb16c5eaff556c3545851a06d3cb">GC_obj_kinds</a>[result].<a class="code" href="structobj__kind.html#a58630ee31950826f8ae11fe2e1af19c9">ok_init</a> = clear;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;}</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div>
<div class="line"><a name="l01515"></a><span class="lineno"><a class="line" href="misc_8c.html#a15018ef217a6c9a74023896974b98caa"> 1515</a></span>&#160;GC_API <span class="keywordtype">unsigned</span> GC_CALL <a class="code" href="misc_8c.html#a15018ef217a6c9a74023896974b98caa">GC_new_kind</a>(<span class="keywordtype">void</span> **fl, <a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> descr, <span class="keywordtype">int</span> adjust,</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                                    <span class="keywordtype">int</span> clear)</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;{</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="keywordtype">unsigned</span> result;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    result = <a class="code" href="misc_8c.html#a8039b1101b0c08ef2f699c2e945eb86d">GC_new_kind_inner</a>(fl, descr, adjust, clear);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;}</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div>
<div class="line"><a name="l01526"></a><span class="lineno"><a class="line" href="misc_8c.html#a0b98961309c33426f408ecc5c312fa89"> 1526</a></span>&#160;GC_API <span class="keywordtype">unsigned</span> GC_CALL <a class="code" href="misc_8c.html#a0b98961309c33426f408ecc5c312fa89">GC_new_proc_inner</a>(<a class="code" href="gc__mark_8h.html#aebd3d40be6c4a85ffea9ca7e1d1be3b6">GC_mark_proc</a> proc)</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;{</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="keywordtype">unsigned</span> result = <a class="code" href="gc__pmark_8h.html#ae318060bf1881fc460f76af7a73a9f00">GC_n_mark_procs</a>++;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gc__pmark_8h.html#ae318060bf1881fc460f76af7a73a9f00">GC_n_mark_procs</a> &gt; <a class="code" href="gc__priv_8h.html#ae2333bc87e8a77d9d4a955aaa70e77e1">MAX_MARK_PROCS</a>) <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Too many mark procedures&quot;</span>);</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <a class="code" href="gc__priv_8h.html#a0956cc67945382e3f8e9b1d87dada262">GC_mark_procs</a>[result] = proc;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;}</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;</div>
<div class="line"><a name="l01535"></a><span class="lineno"><a class="line" href="misc_8c.html#a267ca5832928535c6a520737c705f9a4"> 1535</a></span>&#160;GC_API <span class="keywordtype">unsigned</span> GC_CALL <a class="code" href="misc_8c.html#a267ca5832928535c6a520737c705f9a4">GC_new_proc</a>(<a class="code" href="gc__mark_8h.html#aebd3d40be6c4a85ffea9ca7e1d1be3b6">GC_mark_proc</a> proc)</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;{</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordtype">unsigned</span> result;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    result = <a class="code" href="misc_8c.html#a0b98961309c33426f408ecc5c312fa89">GC_new_proc_inner</a>(proc);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;}</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div>
<div class="line"><a name="l01545"></a><span class="lineno"><a class="line" href="misc_8c.html#a8b4ee5df65cbc545e33d1c0a873fbd27"> 1545</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="misc_8c.html#a8b4ee5df65cbc545e33d1c0a873fbd27">GC_call_with_stack_base</a>(<a class="code" href="gc_2include_2gc_8h.html#a4219d3a659bd9eae3fa568818ee3eb15">GC_stack_base_func</a> fn, <span class="keywordtype">void</span> *arg)</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;{</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keywordtype">int</span> dummy;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_g_c__stack__base.html">GC_stack_base</a> base;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    base.<a class="code" href="struct_g_c__stack__base.html#ac647c542d3abe58118c87695b0ab8d9b">mem_base</a> = (<span class="keywordtype">void</span> *)&amp;dummy;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="preprocessor">#   ifdef IA64</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      base.reg_base = (<span class="keywordtype">void</span> *)GC_save_regs_in_stack();</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <span class="comment">/* Unnecessarily flushes register stack,          */</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <span class="comment">/* but that probably doesn&#39;t hurt.                */</span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <span class="keywordflow">return</span> fn(&amp;base, arg);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;}</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="preprocessor">#ifndef THREADS</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div>
<div class="line"><a name="l01561"></a><span class="lineno"><a class="line" href="misc_8c.html#a170896abbdb201ab099c15de10a2055c"> 1561</a></span>&#160;<a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> <a class="code" href="misc_8c.html#a170896abbdb201ab099c15de10a2055c">GC_blocked_sp</a> = NULL;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <span class="comment">/* NULL value means we are not inside GC_do_blocking() call. */</span></div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="preprocessor"># ifdef IA64</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> GC_blocked_register_sp = NULL;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div>
<div class="line"><a name="l01567"></a><span class="lineno"><a class="line" href="misc_8c.html#ae7cd055dbf261f10b2fc28ef572ff874"> 1567</a></span>&#160;<a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keyword">struct </span><a class="code" href="struct_g_c__traced__stack__sect__s.html">GC_traced_stack_sect_s</a> *<a class="code" href="misc_8c.html#ae7cd055dbf261f10b2fc28ef572ff874">GC_traced_stack_sect</a> = NULL;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment">/* This is nearly the same as in win32_threads.c        */</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"><a class="line" href="misc_8c.html#a21f6b7d65ba0f7dcda7cbf99f3a68c6f"> 1570</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="misc_8c.html#a21f6b7d65ba0f7dcda7cbf99f3a68c6f">GC_call_with_gc_active</a>(<a class="code" href="gc_2include_2gc_8h.html#aca39fcc3bd4c99a5a0d560b5e913c61d">GC_fn_type</a> fn,</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                                             <span class="keywordtype">void</span> * client_data)</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;{</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_g_c__traced__stack__sect__s.html">GC_traced_stack_sect_s</a> stacksect;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(GC_is_initialized);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="comment">/* Adjust our stack base value (this could happen if        */</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="comment">/* GC_get_main_stack_base() is unimplemented or broken for  */</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="comment">/* the platform).                                           */</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="misc_8c.html#a02ac36c336f2fd4ad93bec5b3dbb3fe7">GC_stackbottom</a> <a class="code" href="gc__priv_8h.html#ac75eecd76316d9129109a8770edf76c9">HOTTER_THAN</a> (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)(&amp;stacksect))</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      <a class="code" href="misc_8c.html#a02ac36c336f2fd4ad93bec5b3dbb3fe7">GC_stackbottom</a> = (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)(&amp;stacksect);</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="keywordflow">if</span> (GC_blocked_sp == NULL) {</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      <span class="comment">/* We are not inside GC_do_blocking() - do nothing more.  */</span></div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      <span class="keywordflow">return</span> fn(client_data);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="comment">/* Setup new &quot;stack section&quot;.       */</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    stacksect.<a class="code" href="struct_g_c__traced__stack__sect__s.html#a870b96eec04affbd508f2a0948ede102">saved_stack_ptr</a> = <a class="code" href="misc_8c.html#a170896abbdb201ab099c15de10a2055c">GC_blocked_sp</a>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="preprocessor">#   ifdef IA64</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      <span class="comment">/* This is the same as in GC_call_with_stack_base().      */</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      stacksect.backing_store_end = GC_save_regs_in_stack();</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      <span class="comment">/* Unnecessarily flushes register stack,          */</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      <span class="comment">/* but that probably doesn&#39;t hurt.                */</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      stacksect.saved_backing_store_ptr = GC_blocked_register_sp;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    stacksect.<a class="code" href="struct_g_c__traced__stack__sect__s.html#afba3f31fed73d7a3fb9ed30d5d13e8dc">prev</a> = <a class="code" href="misc_8c.html#ae7cd055dbf261f10b2fc28ef572ff874">GC_traced_stack_sect</a>;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    GC_blocked_sp = NULL;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    GC_traced_stack_sect = &amp;stacksect;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    client_data = fn(client_data);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(GC_blocked_sp == NULL);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(GC_traced_stack_sect == &amp;stacksect);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <span class="comment">/* Restore original &quot;stack section&quot;.        */</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    GC_traced_stack_sect = stacksect.<a class="code" href="struct_g_c__traced__stack__sect__s.html#afba3f31fed73d7a3fb9ed30d5d13e8dc">prev</a>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="preprocessor">#   ifdef IA64</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;      GC_blocked_register_sp = stacksect.saved_backing_store_ptr;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    GC_blocked_sp = stacksect.<a class="code" href="struct_g_c__traced__stack__sect__s.html#a870b96eec04affbd508f2a0948ede102">saved_stack_ptr</a>;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">return</span> client_data; <span class="comment">/* result */</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;}</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="comment">/* This is nearly the same as in win32_threads.c        */</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="comment">/*ARGSUSED*/</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"><a class="line" href="misc_8c.html#aca7fdce7b0fcb042c0b3505d0ee5f325"> 1616</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="misc_8c.html#aca7fdce7b0fcb042c0b3505d0ee5f325">GC_do_blocking_inner</a>(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> data, <span class="keywordtype">void</span> * context)</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;{</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keyword">struct </span><a class="code" href="structblocking__data.html">blocking_data</a> * d = (<span class="keyword">struct </span><a class="code" href="structblocking__data.html">blocking_data</a> *) data;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(GC_is_initialized);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(GC_blocked_sp == NULL);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="preprocessor">#   ifdef SPARC</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        GC_blocked_sp = GC_save_regs_in_stack();</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="preprocessor">#   else</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        GC_blocked_sp = (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>) &amp;d; <span class="comment">/* save approx. sp */</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="preprocessor">#   ifdef IA64</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        GC_blocked_register_sp = GC_save_regs_in_stack();</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    d -&gt; <a class="code" href="structblocking__data.html#a77252f2995cb707aed3a5cdd30c3b784">client_data</a> = (d -&gt; <a class="code" href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">fn</a>)(d -&gt; <a class="code" href="structblocking__data.html#a77252f2995cb707aed3a5cdd30c3b784">client_data</a>);</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="preprocessor">#   ifdef SPARC</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(GC_blocked_sp != NULL);</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="preprocessor">#   else</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(GC_blocked_sp == (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>) &amp;d);</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    GC_blocked_sp = NULL;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;}</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !THREADS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="comment">/* Wrapper for functions that are likely to block (or, at least, do not */</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment">/* allocate garbage collected memory and/or manipulate pointers to the  */</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="comment">/* garbage collected heap) for an appreciable length of time.           */</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;<span class="comment">/* In the single threaded case, GC_do_blocking() (together              */</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="comment">/* with GC_call_with_gc_active()) might be used to make stack scanning  */</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="comment">/* more precise (i.e. scan only stack frames of functions that allocate */</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="comment">/* garbage collected memory and/or manipulate pointers to the garbage   */</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="comment">/* collected heap).                                                     */</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"><a class="line" href="misc_8c.html#ae9039ceb7777f77d357e7c160d0e8a55"> 1650</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="misc_8c.html#ae9039ceb7777f77d357e7c160d0e8a55">GC_do_blocking</a>(<a class="code" href="gc_2include_2gc_8h.html#aca39fcc3bd4c99a5a0d560b5e913c61d">GC_fn_type</a> <a class="code" href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">fn</a>, <span class="keywordtype">void</span> * <a class="code" href="structblocking__data.html#a77252f2995cb707aed3a5cdd30c3b784">client_data</a>)</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;{</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <span class="keyword">struct </span><a class="code" href="structblocking__data.html">blocking_data</a> my_data;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    my_data.<a class="code" href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">fn</a> = <a class="code" href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">fn</a>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    my_data.<a class="code" href="structblocking__data.html#a77252f2995cb707aed3a5cdd30c3b784">client_data</a> = <a class="code" href="structblocking__data.html#a77252f2995cb707aed3a5cdd30c3b784">client_data</a>;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <a class="code" href="gc__priv_8h.html#a5a1c34f689b8cac916d04dc425bcd9c9">GC_with_callee_saves_pushed</a>(<a class="code" href="misc_8c.html#aca7fdce7b0fcb042c0b3505d0ee5f325">GC_do_blocking_inner</a>, (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)(&amp;my_data));</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keywordflow">return</span> my_data.<a class="code" href="structblocking__data.html#a77252f2995cb707aed3a5cdd30c3b784">client_data</a>; <span class="comment">/* result */</span></div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;}</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;<span class="preprocessor">#if !defined(NO_DEBUGGING)</span></div>
<div class="line"><a name="l01661"></a><span class="lineno"><a class="line" href="misc_8c.html#a6de78734ee9e2d575abf6574ca977f26"> 1661</a></span>&#160;  GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a6de78734ee9e2d575abf6574ca977f26">GC_dump</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <a class="code" href="misc_8c.html#aebb4da69c820838a579a15be2dfb7fd9">GC_printf</a>(<span class="stringliteral">&quot;***Static roots:\n&quot;</span>);</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <a class="code" href="gc__priv_8h.html#a366d9b4fc9ef1133ce6393a6d75781b0">GC_print_static_roots</a>();</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <a class="code" href="misc_8c.html#aebb4da69c820838a579a15be2dfb7fd9">GC_printf</a>(<span class="stringliteral">&quot;\n***Heap sections:\n&quot;</span>);</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <a class="code" href="alloc_8c.html#a1530f4c0a47ef9c4697411bd616a4e30">GC_print_heap_sects</a>();</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <a class="code" href="misc_8c.html#aebb4da69c820838a579a15be2dfb7fd9">GC_printf</a>(<span class="stringliteral">&quot;\n***Free blocks:\n&quot;</span>);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <a class="code" href="allchblk_8c.html#abe429a18caae8a4d85d4ce6fdd32af87">GC_print_hblkfreelist</a>();</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <a class="code" href="misc_8c.html#aebb4da69c820838a579a15be2dfb7fd9">GC_printf</a>(<span class="stringliteral">&quot;\n***Blocks in use:\n&quot;</span>);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <a class="code" href="gc__priv_8h.html#a6af7c1476de5320028607f6ded366465">GC_print_block_list</a>();</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  }</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !NO_DEBUGGING */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;<span class="comment">/* Getter functions for the public Read-only variables.                 */</span></div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="comment">/* GC_get_gc_no() is unsynchronized and should be typically called      */</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="comment">/* inside the context of GC_call_with_alloc_lock() to prevent data      */</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="comment">/* races (on multiprocessors).                                          */</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"><a class="line" href="misc_8c.html#a0c4b6fa2c94c9e2e9a2948d50a5a3b71"> 1679</a></span>&#160;GC_API <a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> GC_CALL <a class="code" href="misc_8c.html#a0c4b6fa2c94c9e2e9a2948d50a5a3b71">GC_get_gc_no</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;{</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="alloc_8c.html#aeb66d11d5ad570e34c710e49ef674e7d">GC_gc_no</a>;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;}</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<span class="preprocessor">#ifdef THREADS</span></div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  GC_API <span class="keywordtype">int</span> GC_CALL GC_get_parallel(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  {</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="comment">/* GC_parallel is initialized at start-up.  */</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="keywordflow">return</span> GC_parallel;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  }</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="comment">/* Setter and getter functions for the public R/W function variables.   */</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="comment">/* These functions are synchronized (like GC_set_warn_proc() and        */</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="comment">/* GC_get_warn_proc()).                                                 */</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div>
<div class="line"><a name="l01696"></a><span class="lineno"><a class="line" href="misc_8c.html#a59522e69d44a400e738a15eb04ae6722"> 1696</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a59522e69d44a400e738a15eb04ae6722">GC_set_oom_fn</a>(<a class="code" href="gc_2include_2gc_8h.html#a8e98e4bbb146886002bbbe70c023af70">GC_oom_func</a> <a class="code" href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">fn</a>)</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;{</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(fn != 0);</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <a class="code" href="misc_8c.html#ae5b30f26f92d47c992ff7556a0618a45">GC_oom_fn</a> = <a class="code" href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">fn</a>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;}</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;</div>
<div class="line"><a name="l01705"></a><span class="lineno"><a class="line" href="misc_8c.html#a284db14a1be9f1c34a78d8644e48f97e"> 1705</a></span>&#160;GC_API <a class="code" href="gc_2include_2gc_8h.html#a8e98e4bbb146886002bbbe70c023af70">GC_oom_func</a> GC_CALL <a class="code" href="misc_8c.html#a284db14a1be9f1c34a78d8644e48f97e">GC_get_oom_fn</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;{</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#a8e98e4bbb146886002bbbe70c023af70">GC_oom_func</a> <a class="code" href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">fn</a>;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    fn = <a class="code" href="misc_8c.html#ae5b30f26f92d47c992ff7556a0618a45">GC_oom_fn</a>;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">fn</a>;</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;}</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div>
<div class="line"><a name="l01715"></a><span class="lineno"><a class="line" href="misc_8c.html#a05982583d9999bf57458c101d75261d3"> 1715</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a05982583d9999bf57458c101d75261d3">GC_set_finalizer_notifier</a>(<a class="code" href="gc_2include_2gc_8h.html#ac205df15787596b122ea31097314d429">GC_finalizer_notifier_proc</a> <a class="code" href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">fn</a>)</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;{</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="comment">/* fn may be 0 (means no finalizer notifier). */</span></div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <a class="code" href="finalize_8c.html#a441f3092694c8252f7074a44cbb1130a">GC_finalizer_notifier</a> = <a class="code" href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">fn</a>;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;}</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;</div>
<div class="line"><a name="l01724"></a><span class="lineno"><a class="line" href="misc_8c.html#a3d462eb7c6c504430bf2c6bbe7967bb6"> 1724</a></span>&#160;GC_API <a class="code" href="gc_2include_2gc_8h.html#ac205df15787596b122ea31097314d429">GC_finalizer_notifier_proc</a> GC_CALL <a class="code" href="misc_8c.html#a3d462eb7c6c504430bf2c6bbe7967bb6">GC_get_finalizer_notifier</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;{</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#ac205df15787596b122ea31097314d429">GC_finalizer_notifier_proc</a> <a class="code" href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">fn</a>;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    fn = <a class="code" href="finalize_8c.html#a441f3092694c8252f7074a44cbb1130a">GC_finalizer_notifier</a>;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">fn</a>;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;}</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="comment">/* Setter and getter functions for the public numeric R/W variables.    */</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="comment">/* It is safe to call these functions even before GC_INIT().            */</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="comment">/* These functions are unsynchronized and should be typically called    */</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="comment">/* inside the context of GC_call_with_alloc_lock() (if called after     */</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="comment">/* GC_INIT()) to prevent data races (unless it is guaranteed the        */</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="comment">/* collector is not multi-threaded at that execution point).            */</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;</div>
<div class="line"><a name="l01741"></a><span class="lineno"><a class="line" href="misc_8c.html#ab215529ffec88c8f30bc4e7380425dde"> 1741</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#ab215529ffec88c8f30bc4e7380425dde">GC_set_find_leak</a>(<span class="keywordtype">int</span> value)</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;{</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="comment">/* value is of boolean type. */</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <a class="code" href="misc_8c.html#a10ba8b641e4a9695f8cd99c022d6edda">GC_find_leak</a> = value;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;}</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;</div>
<div class="line"><a name="l01747"></a><span class="lineno"><a class="line" href="misc_8c.html#aa9860f87402de4b1b32e673dcbf46654"> 1747</a></span>&#160;GC_API <span class="keywordtype">int</span> GC_CALL <a class="code" href="misc_8c.html#aa9860f87402de4b1b32e673dcbf46654">GC_get_find_leak</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;{</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="misc_8c.html#a10ba8b641e4a9695f8cd99c022d6edda">GC_find_leak</a>;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;}</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div>
<div class="line"><a name="l01752"></a><span class="lineno"><a class="line" href="misc_8c.html#ac8ce161fe44e491bfe05beb5cf329f20"> 1752</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#ac8ce161fe44e491bfe05beb5cf329f20">GC_set_all_interior_pointers</a>(<span class="keywordtype">int</span> value)</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;{</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <a class="code" href="misc_8c.html#a5f51cb1440036ec088e836dee7428193">GC_all_interior_pointers</a> = value ? 1 : 0;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">if</span> (GC_is_initialized) {</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      <span class="comment">/* It is not recommended to change GC_all_interior_pointers value */</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      <span class="comment">/* after GC is initialized but it seems GC could work correctly   */</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;      <span class="comment">/* even after switching the mode.                                 */</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      <a class="code" href="gc__priv_8h.html#abbd44583f2d985e9a2eb30303beb8f97">GC_initialize_offsets</a>(); <span class="comment">/* NOTE: this resets manual offsets as well */</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="misc_8c.html#a5f51cb1440036ec088e836dee7428193">GC_all_interior_pointers</a>)</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        <a class="code" href="blacklst_8c.html#aa959cb7ecd954c5ce71a307a95e917b0">GC_bl_init_no_interiors</a>();</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    }</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;}</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;</div>
<div class="line"><a name="l01769"></a><span class="lineno"><a class="line" href="misc_8c.html#a7b9f7c38da657ee14a40ef214262fdfb"> 1769</a></span>&#160;GC_API <span class="keywordtype">int</span> GC_CALL <a class="code" href="misc_8c.html#a7b9f7c38da657ee14a40ef214262fdfb">GC_get_all_interior_pointers</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;{</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="misc_8c.html#a5f51cb1440036ec088e836dee7428193">GC_all_interior_pointers</a>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;}</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;</div>
<div class="line"><a name="l01774"></a><span class="lineno"><a class="line" href="misc_8c.html#a985d9b7d7af1a79bef70bcdc46b9496d"> 1774</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a985d9b7d7af1a79bef70bcdc46b9496d">GC_set_finalize_on_demand</a>(<span class="keywordtype">int</span> value)</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;{</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(value != -1);</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="comment">/* value is of boolean type. */</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <a class="code" href="finalize_8c.html#a59a114f5855aa7309a977ceaddc45e27">GC_finalize_on_demand</a> = value;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;}</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;</div>
<div class="line"><a name="l01781"></a><span class="lineno"><a class="line" href="misc_8c.html#acb03602e43ea2de17a1f61cbfbfedf37"> 1781</a></span>&#160;GC_API <span class="keywordtype">int</span> GC_CALL <a class="code" href="misc_8c.html#acb03602e43ea2de17a1f61cbfbfedf37">GC_get_finalize_on_demand</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;{</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="finalize_8c.html#a59a114f5855aa7309a977ceaddc45e27">GC_finalize_on_demand</a>;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;}</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;</div>
<div class="line"><a name="l01786"></a><span class="lineno"><a class="line" href="misc_8c.html#a769bb27ac75db516543537e4ccc8e40b"> 1786</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a769bb27ac75db516543537e4ccc8e40b">GC_set_java_finalization</a>(<span class="keywordtype">int</span> value)</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;{</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(value != -1);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="comment">/* value is of boolean type. */</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <a class="code" href="finalize_8c.html#ae43ff144a2c6e24556bc6407f3789375">GC_java_finalization</a> = value;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;}</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;</div>
<div class="line"><a name="l01793"></a><span class="lineno"><a class="line" href="misc_8c.html#afd9f07543ac129359117c2223f2490b6"> 1793</a></span>&#160;GC_API <span class="keywordtype">int</span> GC_CALL <a class="code" href="misc_8c.html#afd9f07543ac129359117c2223f2490b6">GC_get_java_finalization</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;{</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="finalize_8c.html#ae43ff144a2c6e24556bc6407f3789375">GC_java_finalization</a>;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;}</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;</div>
<div class="line"><a name="l01798"></a><span class="lineno"><a class="line" href="misc_8c.html#a8ae65ac23d1eed7c3f5815c930784169"> 1798</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a8ae65ac23d1eed7c3f5815c930784169">GC_set_dont_expand</a>(<span class="keywordtype">int</span> value)</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;{</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(value != -1);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="comment">/* value is of boolean type. */</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <a class="code" href="alloc_8c.html#a21afc9beacdbb80d68fd66fd268d7478">GC_dont_expand</a> = value;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;}</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;</div>
<div class="line"><a name="l01805"></a><span class="lineno"><a class="line" href="misc_8c.html#a245f81f4b5d47d0740f47c9c72335344"> 1805</a></span>&#160;GC_API <span class="keywordtype">int</span> GC_CALL <a class="code" href="misc_8c.html#a245f81f4b5d47d0740f47c9c72335344">GC_get_dont_expand</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;{</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="alloc_8c.html#a21afc9beacdbb80d68fd66fd268d7478">GC_dont_expand</a>;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;}</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;</div>
<div class="line"><a name="l01810"></a><span class="lineno"><a class="line" href="misc_8c.html#a1fe2428737ed9b32253df511155429bc"> 1810</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a1fe2428737ed9b32253df511155429bc">GC_set_no_dls</a>(<span class="keywordtype">int</span> value)</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;{</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(value != -1);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="comment">/* value is of boolean type. */</span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#a012c81e036ca4f27a4e7dec180917e94">GC_no_dls</a> = value;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;}</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;</div>
<div class="line"><a name="l01817"></a><span class="lineno"><a class="line" href="misc_8c.html#a54806e1ceaabc93c61c71c008cb833e6"> 1817</a></span>&#160;GC_API <span class="keywordtype">int</span> GC_CALL <a class="code" href="misc_8c.html#a54806e1ceaabc93c61c71c008cb833e6">GC_get_no_dls</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;{</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="gc_2include_2gc_8h.html#a012c81e036ca4f27a4e7dec180917e94">GC_no_dls</a>;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;}</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div>
<div class="line"><a name="l01822"></a><span class="lineno"><a class="line" href="misc_8c.html#a4a09aecfe59c66d2c534820b1f5ea400"> 1822</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a4a09aecfe59c66d2c534820b1f5ea400">GC_set_non_gc_bytes</a>(<a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> value)</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;{</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <a class="code" href="alloc_8c.html#a0808ee6aa604ce42bc136aaac613fe1c">GC_non_gc_bytes</a> = value;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;}</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;</div>
<div class="line"><a name="l01827"></a><span class="lineno"><a class="line" href="misc_8c.html#a1be6380985403f78ef137aaa2ebdffa1"> 1827</a></span>&#160;GC_API <a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> GC_CALL <a class="code" href="misc_8c.html#a1be6380985403f78ef137aaa2ebdffa1">GC_get_non_gc_bytes</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;{</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="alloc_8c.html#a0808ee6aa604ce42bc136aaac613fe1c">GC_non_gc_bytes</a>;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;}</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;</div>
<div class="line"><a name="l01832"></a><span class="lineno"><a class="line" href="misc_8c.html#ab014cc6cbbe14a9e0af125ae7215a38f"> 1832</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#ab014cc6cbbe14a9e0af125ae7215a38f">GC_set_free_space_divisor</a>(<a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> value)</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;{</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(value &gt; 0);</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <a class="code" href="alloc_8c.html#a799ca3b9e5be27291fd491c118cc3cb8">GC_free_space_divisor</a> = value;</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;}</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;</div>
<div class="line"><a name="l01838"></a><span class="lineno"><a class="line" href="misc_8c.html#a4c94c1557e3434826cbf40645223b4f5"> 1838</a></span>&#160;GC_API <a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> GC_CALL <a class="code" href="misc_8c.html#a4c94c1557e3434826cbf40645223b4f5">GC_get_free_space_divisor</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;{</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="alloc_8c.html#a799ca3b9e5be27291fd491c118cc3cb8">GC_free_space_divisor</a>;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;}</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;</div>
<div class="line"><a name="l01843"></a><span class="lineno"><a class="line" href="misc_8c.html#a4c1aef76b701bd3ad575010672c2f2f3"> 1843</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a4c1aef76b701bd3ad575010672c2f2f3">GC_set_max_retries</a>(<a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> value)</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;{</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(value != ~(<a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a>)0);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <a class="code" href="alloc_8c.html#a936ff7ea17610552bd652e2bf7a24cf9">GC_max_retries</a> = value;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;}</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;</div>
<div class="line"><a name="l01849"></a><span class="lineno"><a class="line" href="misc_8c.html#a209b4545db6fe7ce8271711c5146d125"> 1849</a></span>&#160;GC_API <a class="code" href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a> GC_CALL <a class="code" href="misc_8c.html#a209b4545db6fe7ce8271711c5146d125">GC_get_max_retries</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;{</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="alloc_8c.html#a936ff7ea17610552bd652e2bf7a24cf9">GC_max_retries</a>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;}</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;</div>
<div class="line"><a name="l01854"></a><span class="lineno"><a class="line" href="misc_8c.html#a976030fe657aa701ed5b7faa7632ee4c"> 1854</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a976030fe657aa701ed5b7faa7632ee4c">GC_set_dont_precollect</a>(<span class="keywordtype">int</span> value)</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;{</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(value != -1);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <span class="comment">/* value is of boolean type. */</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <a class="code" href="misc_8c.html#ae05ef326af0ff4e85282392ab05d51d1">GC_dont_precollect</a> = value;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;}</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div>
<div class="line"><a name="l01861"></a><span class="lineno"><a class="line" href="misc_8c.html#a80e46580c66b4ce46f8c8881488cb59d"> 1861</a></span>&#160;GC_API <span class="keywordtype">int</span> GC_CALL <a class="code" href="misc_8c.html#a80e46580c66b4ce46f8c8881488cb59d">GC_get_dont_precollect</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;{</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="misc_8c.html#ae05ef326af0ff4e85282392ab05d51d1">GC_dont_precollect</a>;</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;}</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;</div>
<div class="line"><a name="l01866"></a><span class="lineno"><a class="line" href="misc_8c.html#a2fd47c9de5d3b0f62ee1b619a31a8945"> 1866</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a2fd47c9de5d3b0f62ee1b619a31a8945">GC_set_full_freq</a>(<span class="keywordtype">int</span> value)</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;{</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(value &gt;= 0);</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <a class="code" href="alloc_8c.html#a8246c2d871978965ca64ec822ff89d63">GC_full_freq</a> = value;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;}</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;</div>
<div class="line"><a name="l01872"></a><span class="lineno"><a class="line" href="misc_8c.html#a17f7d0b0a9e584089033f0da55931781"> 1872</a></span>&#160;GC_API <span class="keywordtype">int</span> GC_CALL <a class="code" href="misc_8c.html#a17f7d0b0a9e584089033f0da55931781">GC_get_full_freq</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;{</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="alloc_8c.html#a8246c2d871978965ca64ec822ff89d63">GC_full_freq</a>;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;}</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;</div>
<div class="line"><a name="l01877"></a><span class="lineno"><a class="line" href="misc_8c.html#a792e72ee52640998425e0681b09e006e"> 1877</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a792e72ee52640998425e0681b09e006e">GC_set_time_limit</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> value)</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;{</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(value != (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)-1L);</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    <a class="code" href="alloc_8c.html#a8bcf6a3600810fc5bc8816cb680a8f66">GC_time_limit</a> = value;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;}</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div>
<div class="line"><a name="l01883"></a><span class="lineno"><a class="line" href="misc_8c.html#a0954cf3103c1916cae5cf7d38be2972c"> 1883</a></span>&#160;GC_API <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> GC_CALL <a class="code" href="misc_8c.html#a0954cf3103c1916cae5cf7d38be2972c">GC_get_time_limit</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;{</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="alloc_8c.html#a8bcf6a3600810fc5bc8816cb680a8f66">GC_time_limit</a>;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;}</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;</div>
<div class="line"><a name="l01888"></a><span class="lineno"><a class="line" href="misc_8c.html#a1b1b48b3d0b9e248186d6b47cc0c2d40"> 1888</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="misc_8c.html#a1b1b48b3d0b9e248186d6b47cc0c2d40">GC_set_force_unmap_on_gcollect</a>(<span class="keywordtype">int</span> value)</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;{</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <a class="code" href="misc_8c.html#a72088464ee0d648819c34fc67bf2ece1">GC_force_unmap_on_gcollect</a> = (<a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a>)value;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;}</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;</div>
<div class="line"><a name="l01893"></a><span class="lineno"><a class="line" href="misc_8c.html#a75439ced53817126446fa0e7fe23882e"> 1893</a></span>&#160;GC_API <span class="keywordtype">int</span> GC_CALL <a class="code" href="misc_8c.html#a75439ced53817126446fa0e7fe23882e">GC_get_force_unmap_on_gcollect</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;{</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)<a class="code" href="misc_8c.html#a72088464ee0d648819c34fc67bf2ece1">GC_force_unmap_on_gcollect</a>;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;}</div>
<div class="ttc" id="blacklst_8c_html_aa959cb7ecd954c5ce71a307a95e917b0"><div class="ttname"><a href="blacklst_8c.html#aa959cb7ecd954c5ce71a307a95e917b0">GC_bl_init_no_interiors</a></div><div class="ttdeci">GC_INNER void GC_bl_init_no_interiors(void)</div><div class="ttdef"><b>Definition:</b> <a href="blacklst_8c_source.html#l00086">blacklst.c:86</a></div></div>
<div class="ttc" id="misc_8c_html_af5ad77603185886be73352206f177370"><div class="ttname"><a href="misc_8c.html#af5ad77603185886be73352206f177370">GC_dump_regularly</a></div><div class="ttdeci">GC_INNER GC_bool GC_dump_regularly</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00102">misc.c:102</a></div></div>
<div class="ttc" id="misc_8c_html_aebb4da69c820838a579a15be2dfb7fd9"><div class="ttname"><a href="misc_8c.html#aebb4da69c820838a579a15be2dfb7fd9">GC_printf</a></div><div class="ttdeci">void GC_printf(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01315">misc.c:1315</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a3d02a54858f5498d3906e587bcce1a21"><div class="ttname"><a href="gc__priv_8h.html#a3d02a54858f5498d3906e587bcce1a21">GC_STATIC_ASSERT</a></div><div class="ttdeci">#define GC_STATIC_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l02153">gc_priv.h:2153</a></div></div>
<div class="ttc" id="alloc_8c_html_a1530f4c0a47ef9c4697411bd616a4e30"><div class="ttname"><a href="alloc_8c.html#a1530f4c0a47ef9c4697411bd616a4e30">GC_print_heap_sects</a></div><div class="ttdeci">void GC_print_heap_sects(void)</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l01092">alloc.c:1092</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a05e71f32a3daf32be8e14fd132ae8b8a"><div class="ttname"><a href="gc__priv_8h.html#a05e71f32a3daf32be8e14fd132ae8b8a">GC_size_map</a></div><div class="ttdeci">#define GC_size_map</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01190">gc_priv.h:1190</a></div></div>
<div class="ttc" id="misc_8c_html_aa5d967c20cf0f2fd9833a4f441dc3624"><div class="ttname"><a href="misc_8c.html#aa5d967c20cf0f2fd9833a4f441dc3624">GC_get_heap_usage_safe</a></div><div class="ttdeci">GC_API void GC_CALL GC_get_heap_usage_safe(GC_word *pheap_size, GC_word *pfree_bytes, GC_word *punmapped_bytes, GC_word *pbytes_since_gc, GC_word *ptotal_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00464">misc.c:464</a></div></div>
<div class="ttc" id="misc_8c_html_a4c94c1557e3434826cbf40645223b4f5"><div class="ttname"><a href="misc_8c.html#a4c94c1557e3434826cbf40645223b4f5">GC_get_free_space_divisor</a></div><div class="ttdeci">GC_API GC_word GC_CALL GC_get_free_space_divisor(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01838">misc.c:1838</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a5e89651d30448975f7c51c7e14a9a4de"><div class="ttname"><a href="gc__priv_8h.html#a5e89651d30448975f7c51c7e14a9a4de">WARN</a></div><div class="ttdeci">#define WARN(msg, arg)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00453">gc_priv.h:453</a></div></div>
<div class="ttc" id="gc__hdrs_8h_html_ad609849fc7123810d29394ce6142c229"><div class="ttname"><a href="gc__hdrs_8h.html#ad609849fc7123810d29394ce6142c229">FORWARDED_ADDR</a></div><div class="ttdeci">#define FORWARDED_ADDR(h, hhdr)</div><div class="ttdef"><b>Definition:</b> <a href="gc__hdrs_8h_source.html#l00202">gc_hdrs.h:202</a></div></div>
<div class="ttc" id="gc__priv_8h_html_aa71bed3da4bb24433e580732fe3fe288"><div class="ttname"><a href="gc__priv_8h.html#aa71bed3da4bb24433e580732fe3fe288">GETENV</a></div><div class="ttdeci">#define GETENV(name)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00492">gc_priv.h:492</a></div></div>
<div class="ttc" id="misc_8c_html_acb03602e43ea2de17a1f61cbfbfedf37"><div class="ttname"><a href="misc_8c.html#acb03602e43ea2de17a1f61cbfbfedf37">GC_get_finalize_on_demand</a></div><div class="ttdeci">GC_API int GC_CALL GC_get_finalize_on_demand(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01781">misc.c:1781</a></div></div>
<div class="ttc" id="misc_8c_html_a5f51cb1440036ec088e836dee7428193"><div class="ttname"><a href="misc_8c.html#a5f51cb1440036ec088e836dee7428193">GC_all_interior_pointers</a></div><div class="ttdeci">int GC_all_interior_pointers</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00128">misc.c:128</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ab7cd275c94e53346c7c853ae56bcf841"><div class="ttname"><a href="gc__priv_8h.html#ab7cd275c94e53346c7c853ae56bcf841">GC_noop</a></div><div class="ttdeci">void GC_noop()</div><div class="ttdef"><b>Definition:</b> <a href="mark_8c_source.html#l00034">mark.c:34</a></div></div>
<div class="ttc" id="alloc_8c_html_a726a8653def8e4e16be7e29c7617c7d5"><div class="ttname"><a href="alloc_8c.html#a726a8653def8e4e16be7e29c7617c7d5">GC_gcollect</a></div><div class="ttdeci">GC_API void GC_CALL GC_gcollect(void)</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l01003">alloc.c:1003</a></div></div>
<div class="ttc" id="misc_8c_html_a4c1aef76b701bd3ad575010672c2f2f3"><div class="ttname"><a href="misc_8c.html#a4c1aef76b701bd3ad575010672c2f2f3">GC_set_max_retries</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_max_retries(GC_word value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01843">misc.c:1843</a></div></div>
<div class="ttc" id="structbi_html"><div class="ttname"><a href="structbi.html">bi</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__hdrs_8h_source.html#l00118">gc_hdrs.h:118</a></div></div>
<div class="ttc" id="misc_8c_html_afd9f07543ac129359117c2223f2490b6"><div class="ttname"><a href="misc_8c.html#afd9f07543ac129359117c2223f2490b6">GC_get_java_finalization</a></div><div class="ttdeci">GC_API int GC_CALL GC_get_java_finalization(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01793">misc.c:1793</a></div></div>
<div class="ttc" id="misc_8c_html_a10ba8b641e4a9695f8cd99c022d6edda"><div class="ttname"><a href="misc_8c.html#a10ba8b641e4a9695f8cd99c022d6edda">GC_find_leak</a></div><div class="ttdeci">int GC_find_leak</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00114">misc.c:114</a></div></div>
<div class="ttc" id="misc_8c_html_a245f81f4b5d47d0740f47c9c72335344"><div class="ttname"><a href="misc_8c.html#a245f81f4b5d47d0740f47c9c72335344">GC_get_dont_expand</a></div><div class="ttdeci">GC_API int GC_CALL GC_get_dont_expand(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01805">misc.c:1805</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a65bc5bda2a7c750138dabc2f216c7762"><div class="ttname"><a href="gc__priv_8h.html#a65bc5bda2a7c750138dabc2f216c7762">GC_INLINE</a></div><div class="ttdeci">#define GC_INLINE</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00148">gc_priv.h:148</a></div></div>
<div class="ttc" id="misc_8c_html_a691385ebac25e337628c9308c8ffb30a"><div class="ttname"><a href="misc_8c.html#a691385ebac25e337628c9308c8ffb30a">GC_new_free_list_inner</a></div><div class="ttdeci">GC_API void **GC_CALL GC_new_free_list_inner(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01482">misc.c:1482</a></div></div>
<div class="ttc" id="misc_8c_html_a17f7d0b0a9e584089033f0da55931781"><div class="ttname"><a href="misc_8c.html#a17f7d0b0a9e584089033f0da55931781">GC_get_full_freq</a></div><div class="ttdeci">GC_API int GC_CALL GC_get_full_freq(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01872">misc.c:1872</a></div></div>
<div class="ttc" id="misc_8c_html_a1be6380985403f78ef137aaa2ebdffa1"><div class="ttname"><a href="misc_8c.html#a1be6380985403f78ef137aaa2ebdffa1">GC_get_non_gc_bytes</a></div><div class="ttdeci">GC_API GC_word GC_CALL GC_get_non_gc_bytes(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01827">misc.c:1827</a></div></div>
<div class="ttc" id="msvc__dbg_8h_html_aa8c0374618b33785ccb02f74bcfebc46"><div class="ttname"><a href="msvc__dbg_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a></div><div class="ttdeci">void * HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="msvc__dbg_8h_source.html#l00043">msvc_dbg.h:43</a></div></div>
<div class="ttc" id="alloc_8c_html_a21afc9beacdbb80d68fd66fd268d7478"><div class="ttname"><a href="alloc_8c.html#a21afc9beacdbb80d68fd66fd268d7478">GC_dont_expand</a></div><div class="ttdeci">GC_bool GC_dont_expand</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l00116">alloc.c:116</a></div></div>
<div class="ttc" id="misc_8c_html_a990df68146fe1180776176566851de30"><div class="ttname"><a href="misc_8c.html#a990df68146fe1180776176566851de30">GC_get_unmapped_bytes</a></div><div class="ttdeci">GC_API size_t GC_CALL GC_get_unmapped_bytes(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00446">misc.c:446</a></div></div>
<div class="ttc" id="misc_8c_html_a8b4ee5df65cbc545e33d1c0a873fbd27"><div class="ttname"><a href="misc_8c.html#a8b4ee5df65cbc545e33d1c0a873fbd27">GC_call_with_stack_base</a></div><div class="ttdeci">GC_API void *GC_CALL GC_call_with_stack_base(GC_stack_base_func fn, void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01545">misc.c:1545</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a4517f7e2967f5acb03ec0f7db14e1052"><div class="ttname"><a href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a></div><div class="ttdeci">#define ABORT(msg)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00441">gc_priv.h:441</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a9de5e042f9c16b0710e64611cfa92539"><div class="ttname"><a href="gc__priv_8h.html#a9de5e042f9c16b0710e64611cfa92539">GC_exclude_static_roots_inner</a></div><div class="ttdeci">GC_INNER void GC_exclude_static_roots_inner(void *start, void *finish)</div><div class="ttdef"><b>Definition:</b> <a href="mark__rts_8c_source.html#l00410">mark_rts.c:410</a></div></div>
<div class="ttc" id="struct_g_c__stack__base_html"><div class="ttname"><a href="struct_g_c__stack__base.html">GC_stack_base</a></div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l01047">gc.h:1047</a></div></div>
<div class="ttc" id="misc_8c_html_a792e72ee52640998425e0681b09e006e"><div class="ttname"><a href="misc_8c.html#a792e72ee52640998425e0681b09e006e">GC_set_time_limit</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_time_limit(unsigned long value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01877">misc.c:1877</a></div></div>
<div class="ttc" id="misc_8c_html_ab26c26cbf7a0c97d8960c3cfb413f882"><div class="ttname"><a href="misc_8c.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a></div><div class="ttdeci">#define BUFSZ</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01297">misc.c:1297</a></div></div>
<div class="ttc" id="misc_8c_html_aa03eec560fcd78d95c35a262d26fc668"><div class="ttname"><a href="misc_8c.html#aa03eec560fcd78d95c35a262d26fc668">GC_dont_gc</a></div><div class="ttdeci">GC_bool GC_dont_gc</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00085">misc.c:85</a></div></div>
<div class="ttc" id="misc_8c_html_a267ca5832928535c6a520737c705f9a4"><div class="ttname"><a href="misc_8c.html#a267ca5832928535c6a520737c705f9a4">GC_new_proc</a></div><div class="ttdeci">GC_API unsigned GC_CALL GC_new_proc(GC_mark_proc proc)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01535">misc.c:1535</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a0a8f64fba436c3448742e4f83fec4c45"><div class="ttname"><a href="gc__priv_8h.html#a0a8f64fba436c3448742e4f83fec4c45">PTRFREE</a></div><div class="ttdeci">#define PTRFREE</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01243">gc_priv.h:1243</a></div></div>
<div class="ttc" id="gc__priv_8h_html_af50a3cedff3d498711ccbfae79b3feb4"><div class="ttname"><a href="gc__priv_8h.html#af50a3cedff3d498711ccbfae79b3feb4">TINY_FREELISTS</a></div><div class="ttdeci">#define TINY_FREELISTS</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00581">gc_priv.h:581</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a4219d3a659bd9eae3fa568818ee3eb15"><div class="ttname"><a href="gc_2include_2gc_8h.html#a4219d3a659bd9eae3fa568818ee3eb15">GC_stack_base_func</a></div><div class="ttdeci">void *(GC_CALLBACK * GC_stack_base_func)(struct GC_stack_base *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l01054">gc.h:1054</a></div></div>
<div class="ttc" id="gc__priv_8h_html_aeaf66ef32d8fed74ced5a10a3b67e591"><div class="ttname"><a href="gc__priv_8h.html#aeaf66ef32d8fed74ced5a10a3b67e591">signed_word</a></div><div class="ttdeci">GC_signed_word signed_word</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00082">gc_priv.h:82</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a0b34a0b4ada2d4e9def040fe0305da8d"><div class="ttname"><a href="gc__priv_8h.html#a0b34a0b4ada2d4e9def040fe0305da8d">endGC_obj_kinds</a></div><div class="ttdeci">#define endGC_obj_kinds</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01221">gc_priv.h:1221</a></div></div>
<div class="ttc" id="misc_8c_html_ac4a6ab793f2311130ea29061d3f6cfbe"><div class="ttname"><a href="misc_8c.html#ac4a6ab793f2311130ea29061d3f6cfbe">GC_size</a></div><div class="ttdeci">GC_API size_t GC_CALL GC_size(const void *p)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00422">misc.c:422</a></div></div>
<div class="ttc" id="misc_8c_html_ac3e2d1701d7231796a986870576b8b9c"><div class="ttname"><a href="misc_8c.html#ac3e2d1701d7231796a986870576b8b9c">GC_clear_stack_inner</a></div><div class="ttdeci">void * GC_clear_stack_inner(void *arg, ptr_t limit)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00286">misc.c:286</a></div></div>
<div class="ttc" id="gc__priv_8h_html_aadd3a949cbcf35020473be2f72f773e4"><div class="ttname"><a href="gc__priv_8h.html#aadd3a949cbcf35020473be2f72f773e4">HBLKDISPL</a></div><div class="ttdeci">#define HBLKDISPL(objptr)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00684">gc_priv.h:684</a></div></div>
<div class="ttc" id="structblocking__data_html_a77252f2995cb707aed3a5cdd30c3b784"><div class="ttname"><a href="structblocking__data.html#a77252f2995cb707aed3a5cdd30c3b784">blocking_data::client_data</a></div><div class="ttdeci">void * client_data</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01306">gc_priv.h:1306</a></div></div>
<div class="ttc" id="alloc_8c_html_a8246c2d871978965ca64ec822ff89d63"><div class="ttname"><a href="alloc_8c.html#a8246c2d871978965ca64ec822ff89d63">GC_full_freq</a></div><div class="ttdeci">int GC_full_freq</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l00077">alloc.c:77</a></div></div>
<div class="ttc" id="misc_8c_html_af392ea5ea53c8cc40a806c93bc249e74"><div class="ttname"><a href="misc_8c.html#af392ea5ea53c8cc40a806c93bc249e74">GC_is_disabled</a></div><div class="ttdeci">GC_API int GC_CALL GC_is_disabled(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01476">misc.c:1476</a></div></div>
<div class="ttc" id="misc_8c_html_ab575ee7886679a10832ab6521cdec305"><div class="ttname"><a href="misc_8c.html#ab575ee7886679a10832ab6521cdec305">GC_print_back_height</a></div><div class="ttdeci">GC_INNER GC_bool GC_print_back_height</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00098">misc.c:98</a></div></div>
<div class="ttc" id="alloc_8c_html_ac5bcf928b3ddcd0be79f3b8e276ecb5c"><div class="ttname"><a href="alloc_8c.html#ac5bcf928b3ddcd0be79f3b8e276ecb5c">GC_expand_hp_inner</a></div><div class="ttdeci">GC_INNER GC_bool GC_expand_hp_inner(word n)</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l01140">alloc.c:1140</a></div></div>
<div class="ttc" id="misc_8c_html_a0306899a15e15b7803fe17a9ad237789"><div class="ttname"><a href="misc_8c.html#a0306899a15e15b7803fe17a9ad237789">GC_get_heap_size</a></div><div class="ttdeci">GC_API size_t GC_CALL GC_get_heap_size(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00433">misc.c:433</a></div></div>
<div class="ttc" id="alloc_8c_html_a799ca3b9e5be27291fd491c118cc3cb8"><div class="ttname"><a href="alloc_8c.html#a799ca3b9e5be27291fd491c118cc3cb8">GC_free_space_divisor</a></div><div class="ttdeci">word GC_free_space_divisor</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l00123">alloc.c:123</a></div></div>
<div class="ttc" id="misc_8c_html_adbdf06d2ff9093309198763aec64acd8"><div class="ttname"><a href="misc_8c.html#adbdf06d2ff9093309198763aec64acd8">GC_stack_last_cleared</a></div><div class="ttdeci">STATIC word GC_stack_last_cleared</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00266">misc.c:266</a></div></div>
<div class="ttc" id="misc_8c_html_a209b4545db6fe7ce8271711c5146d125"><div class="ttname"><a href="misc_8c.html#a209b4545db6fe7ce8271711c5146d125">GC_get_max_retries</a></div><div class="ttdeci">GC_API GC_word GC_CALL GC_get_max_retries(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01849">misc.c:1849</a></div></div>
<div class="ttc" id="alloc_8c_html_abdf5d149ee4ddc8c18810c0194f8e8b4"><div class="ttname"><a href="alloc_8c.html#abdf5d149ee4ddc8c18810c0194f8e8b4">GC_incremental</a></div><div class="ttdeci">GC_INNER int GC_incremental</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l00064">alloc.c:64</a></div></div>
<div class="ttc" id="misc_8c_html_a8e46c61cc92843bbb75cf2d242fc4563"><div class="ttname"><a href="misc_8c.html#a8e46c61cc92843bbb75cf2d242fc4563">GC_stdout</a></div><div class="ttdeci">STATIC int GC_stdout</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00636">misc.c:636</a></div></div>
<div class="ttc" id="alloc_8c_html_aeb66d11d5ad570e34c710e49ef674e7d"><div class="ttname"><a href="alloc_8c.html#aeb66d11d5ad570e34c710e49ef674e7d">GC_gc_no</a></div><div class="ttdeci">word GC_gc_no</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l00061">alloc.c:61</a></div></div>
<div class="ttc" id="gc__mark_8h_html_aebd3d40be6c4a85ffea9ca7e1d1be3b6"><div class="ttname"><a href="gc__mark_8h.html#aebd3d40be6c4a85ffea9ca7e1d1be3b6">GC_mark_proc</a></div><div class="ttdeci">struct GC_ms_entry *(* GC_mark_proc)(GC_word *, struct GC_ms_entry *, struct GC_ms_entry *, GC_word)</div><div class="ttdef"><b>Definition:</b> <a href="gc__mark_8h_source.html#l00060">gc_mark.h:60</a></div></div>
<div class="ttc" id="misc_8c_html_a92d7f3ba54c5ece2042d96ea2f942ab4"><div class="ttname"><a href="misc_8c.html#a92d7f3ba54c5ece2042d96ea2f942ab4">GC_bytes_allocd_at_reset</a></div><div class="ttdeci">STATIC word GC_bytes_allocd_at_reset</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00273">misc.c:273</a></div></div>
<div class="ttc" id="misc_8c_html_a3bc48995b6a21c51c40dc0c601ab4144"><div class="ttname"><a href="misc_8c.html#a3bc48995b6a21c51c40dc0c601ab4144">GC_current_warn_proc</a></div><div class="ttdeci">GC_INNER GC_warn_proc GC_current_warn_proc</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01369">misc.c:1369</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a5d956a420c2ad60be1e560ce94e24409"><div class="ttname"><a href="gc__priv_8h.html#a5d956a420c2ad60be1e560ce94e24409">GC_read_dirty</a></div><div class="ttdeci">GC_INNER void GC_read_dirty(void)</div></div>
<div class="ttc" id="misc_8c_html_a2fd47c9de5d3b0f62ee1b619a31a8945"><div class="ttname"><a href="misc_8c.html#a2fd47c9de5d3b0f62ee1b619a31a8945">GC_set_full_freq</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_full_freq(int value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01866">misc.c:1866</a></div></div>
<div class="ttc" id="misc_8c_html_a284db14a1be9f1c34a78d8644e48f97e"><div class="ttname"><a href="misc_8c.html#a284db14a1be9f1c34a78d8644e48f97e">GC_get_oom_fn</a></div><div class="ttdeci">GC_API GC_oom_func GC_CALL GC_get_oom_fn(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01705">misc.c:1705</a></div></div>
<div class="ttc" id="misc_8c_html_ad02b3b7edcc70db26cde673c94e409a9"><div class="ttname"><a href="misc_8c.html#ad02b3b7edcc70db26cde673c94e409a9">GC_log</a></div><div class="ttdeci">STATIC int GC_log</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00638">misc.c:638</a></div></div>
<div class="ttc" id="alloc_8c_html_a0808ee6aa604ce42bc136aaac613fe1c"><div class="ttname"><a href="alloc_8c.html#a0808ee6aa604ce42bc136aaac613fe1c">GC_non_gc_bytes</a></div><div class="ttdeci">word GC_non_gc_bytes</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l00059">alloc.c:59</a></div></div>
<div class="ttc" id="misc_8c_html_a05982583d9999bf57458c101d75261d3"><div class="ttname"><a href="misc_8c.html#a05982583d9999bf57458c101d75261d3">GC_set_finalizer_notifier</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_finalizer_notifier(GC_finalizer_notifier_proc fn)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01715">misc.c:1715</a></div></div>
<div class="ttc" id="structhblkhdr_html"><div class="ttname"><a href="structhblkhdr.html">hblkhdr</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00787">gc_priv.h:787</a></div></div>
<div class="ttc" id="misc_8c_html_a46be0c3517a60863ac70e23f170c0bca"><div class="ttname"><a href="misc_8c.html#a46be0c3517a60863ac70e23f170c0bca">GC_new_free_list</a></div><div class="ttdeci">GC_API void **GC_CALL GC_new_free_list(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01491">misc.c:1491</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a33ecdff4b5c2276302f84a82ccd31c73"><div class="ttname"><a href="gc__priv_8h.html#a33ecdff4b5c2276302f84a82ccd31c73">beginGC_arrays</a></div><div class="ttdeci">#define beginGC_arrays</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01196">gc_priv.h:1196</a></div></div>
<div class="ttc" id="misc_8c_html_a80e46580c66b4ce46f8c8881488cb59d"><div class="ttname"><a href="misc_8c.html#a80e46580c66b4ce46f8c8881488cb59d">GC_get_dont_precollect</a></div><div class="ttdeci">GC_API int GC_CALL GC_get_dont_precollect(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01861">misc.c:1861</a></div></div>
<div class="ttc" id="struct_g_c__traced__stack__sect__s_html"><div class="ttname"><a href="struct_g_c__traced__stack__sect__s.html">GC_traced_stack_sect_s</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01310">gc_priv.h:1310</a></div></div>
<div class="ttc" id="gc__priv_8h_html_aed862f8f1025b3901a2c09557dc827f2"><div class="ttname"><a href="gc__priv_8h.html#aed862f8f1025b3901a2c09557dc827f2">GC_n_kinds</a></div><div class="ttdeci">GC_EXTERN unsigned GC_n_kinds</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01255">gc_priv.h:1255</a></div></div>
<div class="ttc" id="structblocking__data_html"><div class="ttname"><a href="structblocking__data.html">blocking_data</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01304">gc_priv.h:1304</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a1291f416b069313021b519eea62d5bf1"><div class="ttname"><a href="gc__priv_8h.html#a1291f416b069313021b519eea62d5bf1">NORMAL</a></div><div class="ttdeci">#define NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01244">gc_priv.h:1244</a></div></div>
<div class="ttc" id="misc_8c_html_a2ebf0fec2073ca6ec4fe39f02e040770"><div class="ttname"><a href="misc_8c.html#a2ebf0fec2073ca6ec4fe39f02e040770">DEGRADE_RATE</a></div><div class="ttdeci">#define DEGRADE_RATE</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00274">misc.c:274</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ab74ef4b0c7f9dd5c1dc0fffd9aa3d727"><div class="ttname"><a href="gc__priv_8h.html#ab74ef4b0c7f9dd5c1dc0fffd9aa3d727">WORDS_TO_BYTES</a></div><div class="ttdeci">#define WORDS_TO_BYTES(x)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00555">gc_priv.h:555</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a7e0f997409f0b1753e44b648fcd6fc39"><div class="ttname"><a href="gc_2include_2gc_8h.html#a7e0f997409f0b1753e44b648fcd6fc39">void</a></div><div class="ttdeci">GC_API void(GC_CALLBACK *GC_same_obj_print_proc)(void *</div></div>
<div class="ttc" id="gc__priv_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00087">gc_priv.h:87</a></div></div>
<div class="ttc" id="misc_8c_html_aa9860f87402de4b1b32e673dcbf46654"><div class="ttname"><a href="misc_8c.html#aa9860f87402de4b1b32e673dcbf46654">GC_get_find_leak</a></div><div class="ttdeci">GC_API int GC_CALL GC_get_find_leak(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01747">misc.c:1747</a></div></div>
<div class="ttc" id="gcconfig_8h_html_a10b2d890d871e1489bb02b7e70d9bdfb"><div class="ttname"><a href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a></div><div class="ttdeci">#define STATIC</div><div class="ttdef"><b>Definition:</b> <a href="gcconfig_8h_source.html#l02507">gcconfig.h:2507</a></div></div>
<div class="ttc" id="headers_8c_html_ab7801e7a7fe68245da22dff8da4dfa63"><div class="ttname"><a href="headers_8c.html#ab7801e7a7fe68245da22dff8da4dfa63">GC_init_headers</a></div><div class="ttdeci">GC_INNER void GC_init_headers(void)</div><div class="ttdef"><b>Definition:</b> <a href="headers_8c_source.html#l00194">headers.c:194</a></div></div>
<div class="ttc" id="misc_8c_html_ac8e0ae3d9050e13056af620d0395c587"><div class="ttname"><a href="misc_8c.html#ac8e0ae3d9050e13056af620d0395c587">GC_err_puts</a></div><div class="ttdeci">void GC_err_puts(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01359">misc.c:1359</a></div></div>
<div class="ttc" id="misc_8c_html_aff4509bab8ec50da620c4c017fc9bb4e"><div class="ttname"><a href="misc_8c.html#aff4509bab8ec50da620c4c017fc9bb4e">GC_get_total_bytes</a></div><div class="ttdeci">GC_API size_t GC_CALL GC_get_total_bytes(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00456">misc.c:456</a></div></div>
<div class="ttc" id="misc_8c_html_ad117c82d02e558a4d93281bbc79a93a8"><div class="ttname"><a href="misc_8c.html#ad117c82d02e558a4d93281bbc79a93a8">GC_SLOP</a></div><div class="ttdeci">#define GC_SLOP</div></div>
<div class="ttc" id="gc__priv_8h_html_acf28ef8d07d67cee1a0ab936a8834e9d"><div class="ttname"><a href="gc__priv_8h.html#acf28ef8d07d67cee1a0ab936a8834e9d">GC_large_free_bytes</a></div><div class="ttdeci">#define GC_large_free_bytes</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01179">gc_priv.h:1179</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ac3118d0d85274bdc7e6f083c13364c76"><div class="ttname"><a href="gc__priv_8h.html#ac3118d0d85274bdc7e6f083c13364c76">DISABLE_CANCEL</a></div><div class="ttdeci">#define DISABLE_CANCEL(state)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l02318">gc_priv.h:2318</a></div></div>
<div class="ttc" id="finalize_8c_html_ae43ff144a2c6e24556bc6407f3789375"><div class="ttname"><a href="finalize_8c.html#ae43ff144a2c6e24556bc6407f3789375">GC_java_finalization</a></div><div class="ttdeci">int GC_java_finalization</div><div class="ttdef"><b>Definition:</b> <a href="finalize_8c_source.html#l00028">finalize.c:28</a></div></div>
<div class="ttc" id="misc_8c_html_a976030fe657aa701ed5b7faa7632ee4c"><div class="ttname"><a href="misc_8c.html#a976030fe657aa701ed5b7faa7632ee4c">GC_set_dont_precollect</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_dont_precollect(int value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01854">misc.c:1854</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a3a74067846a04c351a17a79f0650c273"><div class="ttname"><a href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a></div><div class="ttdeci">GC_word word</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00081">gc_priv.h:81</a></div></div>
<div class="ttc" id="gc__priv_8h_html_af8416535400ca18c3c16ac02d93642e5"><div class="ttname"><a href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a></div><div class="ttdeci">char * ptr_t</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00089">gc_priv.h:89</a></div></div>
<div class="ttc" id="struct___g_c__arrays_html"><div class="ttname"><a href="struct___g_c__arrays.html">_GC_arrays</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00983">gc_priv.h:983</a></div></div>
<div class="ttc" id="misc_8c_html_a21f6b7d65ba0f7dcda7cbf99f3a68c6f"><div class="ttname"><a href="misc_8c.html#a21f6b7d65ba0f7dcda7cbf99f3a68c6f">GC_call_with_gc_active</a></div><div class="ttdeci">GC_API void *GC_CALL GC_call_with_gc_active(GC_fn_type fn, void *client_data)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01570">misc.c:1570</a></div></div>
<div class="ttc" id="allchblk_8c_html_abe429a18caae8a4d85d4ce6fdd32af87"><div class="ttname"><a href="allchblk_8c.html#abe429a18caae8a4d85d4ce6fdd32af87">GC_print_hblkfreelist</a></div><div class="ttdeci">void GC_print_hblkfreelist(void)</div><div class="ttdef"><b>Definition:</b> <a href="allchblk_8c_source.html#l00117">allchblk.c:117</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_ac205df15787596b122ea31097314d429"><div class="ttname"><a href="gc_2include_2gc_8h.html#ac205df15787596b122ea31097314d429">GC_finalizer_notifier_proc</a></div><div class="ttdeci">void(GC_CALLBACK * GC_finalizer_notifier_proc)(void)</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l00166">gc.h:166</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a8e98e4bbb146886002bbbe70c023af70"><div class="ttname"><a href="gc_2include_2gc_8h.html#a8e98e4bbb146886002bbbe70c023af70">GC_oom_func</a></div><div class="ttdeci">void *(GC_CALLBACK * GC_oom_func)(size_t)</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l00103">gc.h:103</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a0956cc67945382e3f8e9b1d87dada262"><div class="ttname"><a href="gc__priv_8h.html#a0956cc67945382e3f8e9b1d87dada262">GC_mark_procs</a></div><div class="ttdeci">#define GC_mark_procs</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01181">gc_priv.h:1181</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a6af7c1476de5320028607f6ded366465"><div class="ttname"><a href="gc__priv_8h.html#a6af7c1476de5320028607f6ded366465">GC_print_block_list</a></div><div class="ttdeci">void GC_print_block_list(void)</div><div class="ttdef"><b>Definition:</b> <a href="reclaim_8c_source.html#l00440">reclaim.c:440</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a8915cbffcff0e8d94a1b863fabb4c636"><div class="ttname"><a href="gc__priv_8h.html#a8915cbffcff0e8d94a1b863fabb4c636">GC_gcollect_inner</a></div><div class="ttdeci">#define GC_gcollect_inner()</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01672">gc_priv.h:1672</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a366d9b4fc9ef1133ce6393a6d75781b0"><div class="ttname"><a href="gc__priv_8h.html#a366d9b4fc9ef1133ce6393a6d75781b0">GC_print_static_roots</a></div><div class="ttdeci">void GC_print_static_roots(void)</div><div class="ttdef"><b>Definition:</b> <a href="mark__rts_8c_source.html#l00044">mark_rts.c:44</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ae2333bc87e8a77d9d4a955aaa70e77e1"><div class="ttname"><a href="gc__priv_8h.html#ae2333bc87e8a77d9d4a955aaa70e77e1">MAX_MARK_PROCS</a></div><div class="ttdeci">#define MAX_MARK_PROCS</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00903">gc_priv.h:903</a></div></div>
<div class="ttc" id="misc_8c_html_afbf36429ac844bac9435bf02ed6ce175"><div class="ttname"><a href="misc_8c.html#afbf36429ac844bac9435bf02ed6ce175">GC_quiet</a></div><div class="ttdeci">GC_bool GC_quiet</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00089">misc.c:89</a></div></div>
<div class="ttc" id="misc_8c_html_a1fe2428737ed9b32253df511155429bc"><div class="ttname"><a href="misc_8c.html#a1fe2428737ed9b32253df511155429bc">GC_set_no_dls</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_no_dls(int value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01810">misc.c:1810</a></div></div>
<div class="ttc" id="struct_g_c__traced__stack__sect__s_html_a870b96eec04affbd508f2a0948ede102"><div class="ttname"><a href="struct_g_c__traced__stack__sect__s.html#a870b96eec04affbd508f2a0948ede102">GC_traced_stack_sect_s::saved_stack_ptr</a></div><div class="ttdeci">ptr_t saved_stack_ptr</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01311">gc_priv.h:1311</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a0fde23d5f3eddcc4d5f8f405fe5f2699"><div class="ttname"><a href="gc__priv_8h.html#a0fde23d5f3eddcc4d5f8f405fe5f2699">MAXOBJKINDS</a></div><div class="ttdeci">#define MAXOBJKINDS</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01201">gc_priv.h:1201</a></div></div>
<div class="ttc" id="misc_8c_html_a8c0380f396ebffa27b288c2dd7aeecc7"><div class="ttname"><a href="misc_8c.html#a8c0380f396ebffa27b288c2dd7aeecc7">GC_get_free_bytes</a></div><div class="ttdeci">GC_API size_t GC_CALL GC_get_free_bytes(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00440">misc.c:440</a></div></div>
<div class="ttc" id="headers_8c_html_a82a38fd3345ecdd1ab8e84422ed16022"><div class="ttname"><a href="headers_8c.html#a82a38fd3345ecdd1ab8e84422ed16022">GC_find_header</a></div><div class="ttdeci">GC_INNER hdr * GC_find_header(ptr_t h)</div><div class="ttdef"><b>Definition:</b> <a href="headers_8c_source.html#l00036">headers.c:36</a></div></div>
<div class="ttc" id="structblocking__data_html_ad75c17969609b18e968b6de22bfca287"><div class="ttname"><a href="structblocking__data.html#ad75c17969609b18e968b6de22bfca287">blocking_data::fn</a></div><div class="ttdeci">GC_fn_type fn</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01305">gc_priv.h:1305</a></div></div>
<div class="ttc" id="misc_8c_html_acd570fd46717c309dd599d8af446d907"><div class="ttname"><a href="misc_8c.html#acd570fd46717c309dd599d8af446d907">GC_min_sp</a></div><div class="ttdeci">STATIC ptr_t GC_min_sp</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00267">misc.c:267</a></div></div>
<div class="ttc" id="gc__mark_8h_html_a7f4d7334997f80d622e9b58a3cb4d71e"><div class="ttname"><a href="gc__mark_8h.html#a7f4d7334997f80d622e9b58a3cb4d71e">GC_DS_TAGS</a></div><div class="ttdeci">#define GC_DS_TAGS</div><div class="ttdef"><b>Definition:</b> <a href="gc__mark_8h_source.html#l00078">gc_mark.h:78</a></div></div>
<div class="ttc" id="structhblk_html"><div class="ttname"><a href="structhblk.html">hblk</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00889">gc_priv.h:889</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ae0177254091e0777d12536faa0ca3d7b"><div class="ttname"><a href="gc__priv_8h.html#ae0177254091e0777d12536faa0ca3d7b">MAKE_COOLER</a></div><div class="ttdeci">#define MAKE_COOLER(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00179">gc_priv.h:179</a></div></div>
<div class="ttc" id="structobj__kind_html_a2b0d9dffac953f8df005bbc32114b011"><div class="ttname"><a href="structobj__kind.html#a2b0d9dffac953f8df005bbc32114b011">obj_kind::ok_reclaim_list</a></div><div class="ttdeci">struct hblk ** ok_reclaim_list</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01207">gc_priv.h:1207</a></div></div>
<div class="ttc" id="misc_8c_html_a0b98961309c33426f408ecc5c312fa89"><div class="ttname"><a href="misc_8c.html#a0b98961309c33426f408ecc5c312fa89">GC_new_proc_inner</a></div><div class="ttdeci">GC_API unsigned GC_CALL GC_new_proc_inner(GC_mark_proc proc)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01526">misc.c:1526</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a0122578d82ac5c961ff3e1a341f33127"><div class="ttname"><a href="gc__priv_8h.html#a0122578d82ac5c961ff3e1a341f33127">ROUNDED_UP_GRANULES</a></div><div class="ttdeci">#define ROUNDED_UP_GRANULES(n)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00687">gc_priv.h:687</a></div></div>
<div class="ttc" id="misc_8c_html_a28b48d7c528209a6158075c4e15852d5"><div class="ttname"><a href="misc_8c.html#a28b48d7c528209a6158075c4e15852d5">GC_enable_incremental</a></div><div class="ttdeci">GC_API void GC_CALL GC_enable_incremental(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01078">misc.c:1078</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ad184c95b75ba99685e3078bcaf0e9f88"><div class="ttname"><a href="gc__priv_8h.html#ad184c95b75ba99685e3078bcaf0e9f88">endGC_arrays</a></div><div class="ttdeci">#define endGC_arrays</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01197">gc_priv.h:1197</a></div></div>
<div class="ttc" id="misc_8c_html_a8d1fa553a544a00c18291526a8f69c15"><div class="ttname"><a href="misc_8c.html#a8d1fa553a544a00c18291526a8f69c15">GC_print_stats</a></div><div class="ttdeci">GC_bool GC_print_stats</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00092">misc.c:92</a></div></div>
<div class="ttc" id="misc_8c_html_a30d991eedc467630c3175f6544f65f8d"><div class="ttname"><a href="misc_8c.html#a30d991eedc467630c3175f6544f65f8d">GC_large_alloc_warn_interval</a></div><div class="ttdeci">GC_INNER long GC_large_alloc_warn_interval</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00142">misc.c:142</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a42c496bb5c04fbc8bd8ee0f99dc73968"><div class="ttname"><a href="gc__priv_8h.html#a42c496bb5c04fbc8bd8ee0f99dc73968">MINHINCR</a></div><div class="ttdeci">#define MINHINCR</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00260">gc_priv.h:260</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a385d2dce9af79a7ce6f38b411bebf3a3"><div class="ttname"><a href="gc__priv_8h.html#a385d2dce9af79a7ce6f38b411bebf3a3">beginGC_obj_kinds</a></div><div class="ttdeci">#define beginGC_obj_kinds</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01220">gc_priv.h:1220</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a9e9be6f4e37fe4d11bce88c35944a432"><div class="ttname"><a href="gc__priv_8h.html#a9e9be6f4e37fe4d11bce88c35944a432">GRANULES_TO_BYTES</a></div><div class="ttdeci">#define GRANULES_TO_BYTES(n)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00590">gc_priv.h:590</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a47a92e637e9159058c2f71d7c3999504"><div class="ttname"><a href="gc__priv_8h.html#a47a92e637e9159058c2f71d7c3999504">HBLKSIZE</a></div><div class="ttdeci">#define HBLKSIZE</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00656">gc_priv.h:656</a></div></div>
<div class="ttc" id="gc__priv_8h_html_afacb16a0de020d776b935e63c17f617c"><div class="ttname"><a href="gc__priv_8h.html#afacb16a0de020d776b935e63c17f617c">GC_bytes_allocd_before_gc</a></div><div class="ttdeci">#define GC_bytes_allocd_before_gc</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01170">gc_priv.h:1170</a></div></div>
<div class="ttc" id="misc_8c_html_ac8ce161fe44e491bfe05beb5cf329f20"><div class="ttname"><a href="misc_8c.html#ac8ce161fe44e491bfe05beb5cf329f20">GC_set_all_interior_pointers</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_all_interior_pointers(int value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01752">misc.c:1752</a></div></div>
<div class="ttc" id="struct_g_c__stack__base_html_ac647c542d3abe58118c87695b0ab8d9b"><div class="ttname"><a href="struct_g_c__stack__base.html#ac647c542d3abe58118c87695b0ab8d9b">GC_stack_base::mem_base</a></div><div class="ttdeci">void * mem_base</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l01048">gc.h:1048</a></div></div>
<div class="ttc" id="misc_8c_html_a65add866e165472e33077885ab5cb57d"><div class="ttname"><a href="misc_8c.html#a65add866e165472e33077885ab5cb57d">GC_err_printf</a></div><div class="ttdeci">void GC_err_printf(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01330">misc.c:1330</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a506d5157af5adabf29c0dab8cc3f7c95"><div class="ttname"><a href="gc__priv_8h.html#a506d5157af5adabf29c0dab8cc3f7c95">GC_heapsize</a></div><div class="ttdeci">#define GC_heapsize</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01177">gc_priv.h:1177</a></div></div>
<div class="ttc" id="misc_8c_html_ac462936ce68d23ecf88bf197565b41e0"><div class="ttname"><a href="misc_8c.html#ac462936ce68d23ecf88bf197565b41e0">GC_REGISTER_MAIN_STATIC_DATA</a></div><div class="ttdeci">#define GC_REGISTER_MAIN_STATIC_DATA()</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00067">misc.c:67</a></div></div>
<div class="ttc" id="misc_8c_html_a5e8116978afd3c1d06874966fa6fc9c5"><div class="ttname"><a href="misc_8c.html#a5e8116978afd3c1d06874966fa6fc9c5">GC_write</a></div><div class="ttdeci">STATIC int GC_write(int fd, const char *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01260">misc.c:1260</a></div></div>
<div class="ttc" id="misc_8c_html_a5e3b1cb2a5667531d3c8cae015b8fe9e"><div class="ttname"><a href="misc_8c.html#a5e3b1cb2a5667531d3c8cae015b8fe9e">maybe_install_looping_handler</a></div><div class="ttdeci">#define maybe_install_looping_handler()</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00632">misc.c:632</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ab8f0e42710fa04ea66d4d8c13de90b8a"><div class="ttname"><a href="gc__priv_8h.html#ab8f0e42710fa04ea66d4d8c13de90b8a">HBLK_GRANULES</a></div><div class="ttdeci">#define HBLK_GRANULES</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00883">gc_priv.h:883</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_aca39fcc3bd4c99a5a0d560b5e913c61d"><div class="ttname"><a href="gc_2include_2gc_8h.html#aca39fcc3bd4c99a5a0d560b5e913c61d">GC_fn_type</a></div><div class="ttdeci">void *(GC_CALLBACK * GC_fn_type)(void *)</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l01031">gc.h:1031</a></div></div>
<div class="ttc" id="misc_8c_html_a2ab75715ed70c4b021789ad4fabefa3b"><div class="ttname"><a href="misc_8c.html#a2ab75715ed70c4b021789ad4fabefa3b">GC_disable</a></div><div class="ttdeci">GC_API void GC_CALL GC_disable(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01468">misc.c:1468</a></div></div>
<div class="ttc" id="misc_8c_html_a8a0ea28579200a7da108dff79eb5f8d1"><div class="ttname"><a href="misc_8c.html#a8a0ea28579200a7da108dff79eb5f8d1">GC_extend_size_map</a></div><div class="ttdeci">GC_INNER void GC_extend_size_map(size_t i)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00206">misc.c:206</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_ac7cb0b9e546fd96f126713bcffee4d23"><div class="ttname"><a href="gc_2include_2gc_8h.html#ac7cb0b9e546fd96f126713bcffee4d23">GC_word</a></div><div class="ttdeci">unsigned long GC_word</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l00065">gc.h:65</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a1a93e5168ada6285538dcbec495300db"><div class="ttname"><a href="gc__priv_8h.html#a1a93e5168ada6285538dcbec495300db">GC_unmapped_bytes</a></div><div class="ttdeci">#define GC_unmapped_bytes</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01062">gc_priv.h:1062</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a2a2204a2386781556aa1d3d70eb9bd04"><div class="ttname"><a href="gc__priv_8h.html#a2a2204a2386781556aa1d3d70eb9bd04">GC_register_displacement_inner</a></div><div class="ttdeci">GC_INNER void GC_register_displacement_inner(size_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="obj__map_8c_source.html#l00036">obj_map.c:36</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a35166caefedd5ca1c2f8aebcfe2b701d"><div class="ttname"><a href="gc__priv_8h.html#a35166caefedd5ca1c2f8aebcfe2b701d">divHBLKSZ</a></div><div class="ttdeci">#define divHBLKSZ(n)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00670">gc_priv.h:670</a></div></div>
<div class="ttc" id="misc_8c_html_a29af6b986555e2656ac2cd04e2dc8ddc"><div class="ttname"><a href="misc_8c.html#a29af6b986555e2656ac2cd04e2dc8ddc">GC_default_warn_proc</a></div><div class="ttdeci">STATIC void GC_CALLBACK GC_default_warn_proc(char *msg, GC_word arg)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01364">misc.c:1364</a></div></div>
<div class="ttc" id="misc_8c_html_a84db69be977370101c543668d21fd075"><div class="ttname"><a href="misc_8c.html#a84db69be977370101c543668d21fd075">SLOP</a></div><div class="ttdeci">#define SLOP</div></div>
<div class="ttc" id="gc__priv_8h_html_a6a80e9eb6e68fdd8bd990a6360dd31fc"><div class="ttname"><a href="gc__priv_8h.html#a6a80e9eb6e68fdd8bd990a6360dd31fc">GC_INTERNAL_MALLOC</a></div><div class="ttdeci">#define GC_INTERNAL_MALLOC</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01863">gc_priv.h:1863</a></div></div>
<div class="ttc" id="misc_8c_html_a497d5b8a0e1ded98de4e7ff361694d3d"><div class="ttname"><a href="misc_8c.html#a497d5b8a0e1ded98de4e7ff361694d3d">GC_stderr</a></div><div class="ttdeci">STATIC int GC_stderr</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00637">misc.c:637</a></div></div>
<div class="ttc" id="misc_8c_html_aa7a619ee9d8a0733402315d9bbc383cc"><div class="ttname"><a href="misc_8c.html#aa7a619ee9d8a0733402315d9bbc383cc">CLEAR_SIZE</a></div><div class="ttdeci">#define CLEAR_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00277">misc.c:277</a></div></div>
<div class="ttc" id="structobj__kind_html_a28a73d2654341ce0e4a06efd66bf7d01"><div class="ttname"><a href="structobj__kind.html#a28a73d2654341ce0e4a06efd66bf7d01">obj_kind::ok_freelist</a></div><div class="ttdeci">void ** ok_freelist</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01204">gc_priv.h:1204</a></div></div>
<div class="ttc" id="misc_8c_html_a8630ca36a509b7a5b0ff5091b59f261a"><div class="ttname"><a href="misc_8c.html#a8630ca36a509b7a5b0ff5091b59f261a">GC_init_size_map</a></div><div class="ttdeci">STATIC void GC_init_size_map(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00185">misc.c:185</a></div></div>
<div class="ttc" id="misc_8c_html_aa46aba4f1ac6738bfb91099143f964b0"><div class="ttname"><a href="misc_8c.html#aa46aba4f1ac6738bfb91099143f964b0">GC_arrays</a></div><div class="ttdeci">GC_FAR struct _GC_arrays GC_arrays</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00074">misc.c:74</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a42f8c497a1968074f38bf5055c650dca"><div class="ttname"><a href="gc__priv_8h.html#a42f8c497a1968074f38bf5055c650dca">VERBOSE</a></div><div class="ttdeci">#define VERBOSE</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01822">gc_priv.h:1822</a></div></div>
<div class="ttc" id="misc_8c_html_a163789d7867b15d928d5d1291c83750d"><div class="ttname"><a href="misc_8c.html#a163789d7867b15d928d5d1291c83750d">CLEAR_THRESHOLD</a></div><div class="ttdeci">#define CLEAR_THRESHOLD</div></div>
<div class="ttc" id="misc_8c_html_a15018ef217a6c9a74023896974b98caa"><div class="ttname"><a href="misc_8c.html#a15018ef217a6c9a74023896974b98caa">GC_new_kind</a></div><div class="ttdeci">GC_API unsigned GC_CALL GC_new_kind(void **fl, GC_word descr, int adjust, int clear)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01515">misc.c:1515</a></div></div>
<div class="ttc" id="misc_8c_html_a54806e1ceaabc93c61c71c008cb833e6"><div class="ttname"><a href="misc_8c.html#a54806e1ceaabc93c61c71c008cb833e6">GC_get_no_dls</a></div><div class="ttdeci">GC_API int GC_CALL GC_get_no_dls(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01817">misc.c:1817</a></div></div>
<div class="ttc" id="misc_8c_html_a985d9b7d7af1a79bef70bcdc46b9496d"><div class="ttname"><a href="misc_8c.html#a985d9b7d7af1a79bef70bcdc46b9496d">GC_set_finalize_on_demand</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_finalize_on_demand(int value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01774">misc.c:1774</a></div></div>
<div class="ttc" id="misc_8c_html_a3d462eb7c6c504430bf2c6bbe7967bb6"><div class="ttname"><a href="misc_8c.html#a3d462eb7c6c504430bf2c6bbe7967bb6">GC_get_finalizer_notifier</a></div><div class="ttdeci">GC_API GC_finalizer_notifier_proc GC_CALL GC_get_finalizer_notifier(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01724">misc.c:1724</a></div></div>
<div class="ttc" id="misc_8c_html_a923e2dee767a27d4322cc6db6b117a36"><div class="ttname"><a href="misc_8c.html#a923e2dee767a27d4322cc6db6b117a36">GC_ignore_warn_proc</a></div><div class="ttdeci">GC_API void GC_CALLBACK GC_ignore_warn_proc(char *msg, GC_word arg)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01372">misc.c:1372</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a9ccb54d5a61450671cded1b1dc22409c"><div class="ttname"><a href="gc__priv_8h.html#a9ccb54d5a61450671cded1b1dc22409c">GC_FAR</a></div><div class="ttdeci">#define GC_FAR</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00192">gc_priv.h:192</a></div></div>
<div class="ttc" id="gc__priv_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00086">gc_priv.h:86</a></div></div>
<div class="ttc" id="gc__priv_8h_html_acb518006643e05e763f3e5672a014515"><div class="ttname"><a href="gc__priv_8h.html#acb518006643e05e763f3e5672a014515">EXIT</a></div><div class="ttdeci">#define EXIT()</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00449">gc_priv.h:449</a></div></div>
<div class="ttc" id="misc_8c_html_aebed0843915f857a3004b0b9fc88846e"><div class="ttname"><a href="misc_8c.html#aebed0843915f857a3004b0b9fc88846e">GC_exit_check</a></div><div class="ttdeci">STATIC void GC_exit_check(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00607">misc.c:607</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ada15c1b9343d66a7c714d76e63f9c278"><div class="ttname"><a href="gc__priv_8h.html#ada15c1b9343d66a7c714d76e63f9c278">GC_stubborn_init</a></div><div class="ttdeci">void GC_stubborn_init(void)</div></div>
<div class="ttc" id="structobj__kind_html_a350f377474316e94c4ae74b188a14473"><div class="ttname"><a href="structobj__kind.html#a350f377474316e94c4ae74b188a14473">obj_kind::ok_descriptor</a></div><div class="ttdeci">word ok_descriptor</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01211">gc_priv.h:1211</a></div></div>
<div class="ttc" id="alloc_8c_html_a19ab7146b88522de1093da71555be260"><div class="ttname"><a href="alloc_8c.html#a19ab7146b88522de1093da71555be260">GC_set_max_heap_size</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_max_heap_size(GC_word n)</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l01126">alloc.c:1126</a></div></div>
<div class="ttc" id="misc_8c_html_a815f35ed4ec29b2769ec07e8dfed0ffb"><div class="ttname"><a href="misc_8c.html#a815f35ed4ec29b2769ec07e8dfed0ffb">GC_abort</a></div><div class="ttdeci">void GC_abort(const char *msg)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01409">misc.c:1409</a></div></div>
<div class="ttc" id="misc_8c_html_af7d8732a1092f3f0a5ea4ce4dad151f1"><div class="ttname"><a href="misc_8c.html#af7d8732a1092f3f0a5ea4ce4dad151f1">GC_set_warn_proc</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_warn_proc(GC_warn_proc p)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01380">misc.c:1380</a></div></div>
<div class="ttc" id="misc_8c_html_a60a2079690842f9539d6995f132276a4"><div class="ttname"><a href="misc_8c.html#a60a2079690842f9539d6995f132276a4">GC_set_handle_fork</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_handle_fork(int value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00167">misc.c:167</a></div></div>
<div class="ttc" id="misc_8c_html_a0c4b6fa2c94c9e2e9a2948d50a5a3b71"><div class="ttname"><a href="misc_8c.html#a0c4b6fa2c94c9e2e9a2948d50a5a3b71">GC_get_gc_no</a></div><div class="ttdeci">GC_API GC_word GC_CALL GC_get_gc_no(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01679">misc.c:1679</a></div></div>
<div class="ttc" id="gcconfig_8h_html_a60c687234544ba4c77de04ca5d1c9cc6"><div class="ttname"><a href="gcconfig_8h.html#a60c687234544ba4c77de04ca5d1c9cc6">STRTOULL</a></div><div class="ttdeci">#define STRTOULL</div><div class="ttdef"><b>Definition:</b> <a href="gcconfig_8h_source.html#l02630">gcconfig.h:2630</a></div></div>
<div class="ttc" id="finalize_8c_html_a441f3092694c8252f7074a44cbb1130a"><div class="ttname"><a href="finalize_8c.html#a441f3092694c8252f7074a44cbb1130a">GC_finalizer_notifier</a></div><div class="ttdeci">GC_finalizer_notifier_proc GC_finalizer_notifier</div><div class="ttdef"><b>Definition:</b> <a href="finalize_8c_source.html#l00835">finalize.c:835</a></div></div>
<div class="ttc" id="misc_8c_html_a711fb6e5e477e1ae333d7f90a537436c"><div class="ttname"><a href="misc_8c.html#a711fb6e5e477e1ae333d7f90a537436c">GC_findleak_delay_free</a></div><div class="ttdeci">GC_INNER GC_bool GC_findleak_delay_free</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00121">misc.c:121</a></div></div>
<div class="ttc" id="misc_8c_html_ab33974cd36b2028ddb585ccfe6577246"><div class="ttname"><a href="misc_8c.html#ab33974cd36b2028ddb585ccfe6577246">WRITE</a></div><div class="ttdeci">#define WRITE(f, buf, len)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01294">misc.c:1294</a></div></div>
<div class="ttc" id="gc__locks_8h_html_aefb7db7456a848e7cefe90816a5aaa88"><div class="ttname"><a href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a></div><div class="ttdeci">#define LOCK()</div><div class="ttdef"><b>Definition:</b> <a href="gc__locks_8h_source.html#l00192">gc_locks.h:192</a></div></div>
<div class="ttc" id="misc_8c_html_aa722a3752fead06ed532d775670e3356"><div class="ttname"><a href="misc_8c.html#aa722a3752fead06ed532d775670e3356">GC_get_warn_proc</a></div><div class="ttdeci">GC_API GC_warn_proc GC_CALL GC_get_warn_proc(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01397">misc.c:1397</a></div></div>
<div class="ttc" id="gc__locks_8h_html_a19b1665d85404627bdc076a60e21d926"><div class="ttname"><a href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a></div><div class="ttdeci">#define UNLOCK()</div><div class="ttdef"><b>Definition:</b> <a href="gc__locks_8h_source.html#l00193">gc_locks.h:193</a></div></div>
<div class="ttc" id="struct_g_c__traced__stack__sect__s_html_afba3f31fed73d7a3fb9ed30d5d13e8dc"><div class="ttname"><a href="struct_g_c__traced__stack__sect__s.html#afba3f31fed73d7a3fb9ed30d5d13e8dc">GC_traced_stack_sect_s::prev</a></div><div class="ttdeci">struct GC_traced_stack_sect_s * prev</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01316">gc_priv.h:1316</a></div></div>
<div class="ttc" id="gc__pmark_8h_html"><div class="ttname"><a href="gc__pmark_8h.html">gc_pmark.h</a></div></div>
<div class="ttc" id="misc_8c_html_a9d669e541faf3d64ac503f634fe7b8f9"><div class="ttname"><a href="misc_8c.html#a9d669e541faf3d64ac503f634fe7b8f9">GC_default_oom_fn</a></div><div class="ttdeci">STATIC void *GC_CALLBACK GC_default_oom_fn(size_t bytes_requested)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00146">misc.c:146</a></div></div>
<div class="ttc" id="misc_8c_html_ae9039ceb7777f77d357e7c160d0e8a55"><div class="ttname"><a href="misc_8c.html#ae9039ceb7777f77d357e7c160d0e8a55">GC_do_blocking</a></div><div class="ttdeci">GC_API void *GC_CALL GC_do_blocking(GC_fn_type fn, void *client_data)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01650">misc.c:1650</a></div></div>
<div class="ttc" id="_amiga_o_s_8c_html_a35e299c1577a51c6b5fb803620d0f7b5"><div class="ttname"><a href="_amiga_o_s_8c.html#a35e299c1577a51c6b5fb803620d0f7b5">GC_register_data_segments</a></div><div class="ttdeci">void GC_register_data_segments()</div><div class="ttdef"><b>Definition:</b> <a href="_amiga_o_s_8c_source.html#l00096">AmigaOS.c:96</a></div></div>
<div class="ttc" id="gc__priv_8h_html_add6ee8909135088810c22d3d27f245fc"><div class="ttname"><a href="gc__priv_8h.html#add6ee8909135088810c22d3d27f245fc">RESTORE_CANCEL</a></div><div class="ttdeci">#define RESTORE_CANCEL(state)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l02319">gc_priv.h:2319</a></div></div>
<div class="ttc" id="gc__hdrs_8h_html_af7e68898fb85ccd039fc6527d5d826bf"><div class="ttname"><a href="gc__hdrs_8h.html#af7e68898fb85ccd039fc6527d5d826bf">HDR_FROM_BI</a></div><div class="ttdeci">#define HDR_FROM_BI(bi, p)</div><div class="ttdef"><b>Definition:</b> <a href="gc__hdrs_8h_source.html#l00155">gc_hdrs.h:155</a></div></div>
<div class="ttc" id="misc_8c_html_a16a0e282a07c598595436b79e88d6e00"><div class="ttname"><a href="misc_8c.html#a16a0e282a07c598595436b79e88d6e00">GC_init</a></div><div class="ttdeci">GC_API void GC_CALL GC_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00675">misc.c:675</a></div></div>
<div class="ttc" id="misc_8c_html_a59522e69d44a400e738a15eb04ae6722"><div class="ttname"><a href="misc_8c.html#a59522e69d44a400e738a15eb04ae6722">GC_set_oom_fn</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_oom_fn(GC_oom_func fn)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01696">misc.c:1696</a></div></div>
<div class="ttc" id="misc_8c_html_ae5b30f26f92d47c992ff7556a0618a45"><div class="ttname"><a href="misc_8c.html#ae5b30f26f92d47c992ff7556a0618a45">GC_oom_fn</a></div><div class="ttdeci">GC_oom_func GC_oom_fn</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00152">misc.c:152</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a0f13d42ffdf9be2b3276c8d9a53740d7"><div class="ttname"><a href="gc__priv_8h.html#a0f13d42ffdf9be2b3276c8d9a53740d7">GC_dirty_maintained</a></div><div class="ttdeci">GC_EXTERN GC_bool GC_dirty_maintained</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01888">gc_priv.h:1888</a></div></div>
<div class="ttc" id="misc_8c_html_a75439ced53817126446fa0e7fe23882e"><div class="ttname"><a href="misc_8c.html#a75439ced53817126446fa0e7fe23882e">GC_get_force_unmap_on_gcollect</a></div><div class="ttdeci">GC_API int GC_CALL GC_get_force_unmap_on_gcollect(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01893">misc.c:1893</a></div></div>
<div class="ttc" id="misc_8c_html_a72088464ee0d648819c34fc67bf2ece1"><div class="ttname"><a href="misc_8c.html#a72088464ee0d648819c34fc67bf2ece1">GC_force_unmap_on_gcollect</a></div><div class="ttdeci">GC_INNER GC_bool GC_force_unmap_on_gcollect</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00136">misc.c:136</a></div></div>
<div class="ttc" id="misc_8c_html_a8ae65ac23d1eed7c3f5815c930784169"><div class="ttname"><a href="misc_8c.html#a8ae65ac23d1eed7c3f5815c930784169">GC_set_dont_expand</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_dont_expand(int value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01798">misc.c:1798</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a9221bf3e7d2c850767a313aedfaff4af"><div class="ttname"><a href="gc__priv_8h.html#a9221bf3e7d2c850767a313aedfaff4af">GC_dirty_init</a></div><div class="ttdeci">GC_INNER void GC_dirty_init(void)</div></div>
<div class="ttc" id="misc_8c_html_ae7cd055dbf261f10b2fc28ef572ff874"><div class="ttname"><a href="misc_8c.html#ae7cd055dbf261f10b2fc28ef572ff874">GC_traced_stack_sect</a></div><div class="ttdeci">GC_INNER struct GC_traced_stack_sect_s * GC_traced_stack_sect</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01567">misc.c:1567</a></div></div>
<div class="ttc" id="misc_8c_html_aca7fdce7b0fcb042c0b3505d0ee5f325"><div class="ttname"><a href="misc_8c.html#aca7fdce7b0fcb042c0b3505d0ee5f325">GC_do_blocking_inner</a></div><div class="ttdeci">STATIC void GC_do_blocking_inner(ptr_t data, void *context)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01616">misc.c:1616</a></div></div>
<div class="ttc" id="misc_8c_html_a0270034f7e3d6234751553ac98652676"><div class="ttname"><a href="misc_8c.html#a0270034f7e3d6234751553ac98652676">GC_debugging_started</a></div><div class="ttdeci">GC_INNER GC_bool GC_debugging_started</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00076">misc.c:76</a></div></div>
<div class="ttc" id="gc__inline_8h_html_a7cdd0fc8b2f97552cda7883ae036da6a"><div class="ttname"><a href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a></div><div class="ttdeci">#define GC_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="gc__inline_8h_source.html#l00042">gc_inline.h:42</a></div></div>
<div class="ttc" id="gc__pmark_8h_html_ae318060bf1881fc460f76af7a73a9f00"><div class="ttname"><a href="gc__pmark_8h.html#ae318060bf1881fc460f76af7a73a9f00">GC_n_mark_procs</a></div><div class="ttdeci">GC_EXTERN unsigned GC_n_mark_procs</div><div class="ttdef"><b>Definition:</b> <a href="gc__pmark_8h_source.html#l00067">gc_pmark.h:67</a></div></div>
<div class="ttc" id="misc_8c_html_a02ac36c336f2fd4ad93bec5b3dbb3fe7"><div class="ttname"><a href="misc_8c.html#a02ac36c336f2fd4ad93bec5b3dbb3fe7">GC_stackbottom</a></div><div class="ttdeci">ptr_t GC_stackbottom</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00079">misc.c:79</a></div></div>
<div class="ttc" id="allchblk_8c_html_ac91ee2c4d5b8d4c874a70a0537508d3e"><div class="ttname"><a href="allchblk_8c.html#ac91ee2c4d5b8d4c874a70a0537508d3e">GC_use_entire_heap</a></div><div class="ttdeci">int GC_use_entire_heap</div><div class="ttdef"><b>Definition:</b> <a href="allchblk_8c_source.html#l00024">allchblk.c:24</a></div></div>
<div class="ttc" id="blacklst_8c_html_af4183eead1835a06b5062b1a9980df57"><div class="ttname"><a href="blacklst_8c.html#af4183eead1835a06b5062b1a9980df57">GC_bl_init</a></div><div class="ttdeci">GC_INNER void GC_bl_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="blacklst_8c_source.html#l00101">blacklst.c:101</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a31f5ad3934663f6b9f6d6440cb4d8c54"><div class="ttname"><a href="gc__priv_8h.html#a31f5ad3934663f6b9f6d6440cb4d8c54">MAXOBJGRANULES</a></div><div class="ttdeci">#define MAXOBJGRANULES</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00668">gc_priv.h:668</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a012c81e036ca4f27a4e7dec180917e94"><div class="ttname"><a href="gc_2include_2gc_8h.html#a012c81e036ca4f27a4e7dec180917e94">GC_no_dls</a></div><div class="ttdeci">GC_API int GC_no_dls</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l00237">gc.h:237</a></div></div>
<div class="ttc" id="misc_8c_html_a1ad76d31bad3bc830e83c652a9862dd7"><div class="ttname"><a href="misc_8c.html#a1ad76d31bad3bc830e83c652a9862dd7">GC_enable</a></div><div class="ttdeci">GC_API void GC_CALL GC_enable(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01460">misc.c:1460</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a1f01451d673b02b32d3470229d36f06a"><div class="ttname"><a href="gc_2include_2gc_8h.html#a1f01451d673b02b32d3470229d36f06a">GC_warn_proc</a></div><div class="ttdeci">void(GC_CALLBACK * GC_warn_proc)(char *, GC_word)</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l00999">gc.h:999</a></div></div>
<div class="ttc" id="misc_8c_html_a65b513255e30e070462306e04e67eba2"><div class="ttname"><a href="misc_8c.html#a65b513255e30e070462306e04e67eba2">GC_LARGE_ALLOC_WARN_INTERVAL</a></div><div class="ttdeci">#define GC_LARGE_ALLOC_WARN_INTERVAL</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00140">misc.c:140</a></div></div>
<div class="ttc" id="gc__priv_8h_html_abd0730999fc57be7b375bce5869fb36e"><div class="ttname"><a href="gc__priv_8h.html#abd0730999fc57be7b375bce5869fb36e">HBLKPTR</a></div><div class="ttdeci">#define HBLKPTR(objptr)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00682">gc_priv.h:682</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a64108c12ea06e23af7be1d9c872be526"><div class="ttname"><a href="gc__priv_8h.html#a64108c12ea06e23af7be1d9c872be526">GC_mark_init</a></div><div class="ttdeci">GC_INNER void GC_mark_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="mark_8c_source.html#l01250">mark.c:1250</a></div></div>
<div class="ttc" id="misc_8c_html_a627c62b7929608903c68c4e0489167d0"><div class="ttname"><a href="misc_8c.html#a627c62b7929608903c68c4e0489167d0">GC_base</a></div><div class="ttdeci">GC_API void *GC_CALL GC_base(void *p)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00379">misc.c:379</a></div></div>
<div class="ttc" id="gc__hdrs_8h_html_a8b17e2892a1f1b760d41a09a198ff44d"><div class="ttname"><a href="gc__hdrs_8h.html#a8b17e2892a1f1b760d41a09a198ff44d">IS_FORWARDING_ADDR_OR_NIL</a></div><div class="ttdeci">#define IS_FORWARDING_ADDR_OR_NIL(hhdr)</div><div class="ttdef"><b>Definition:</b> <a href="gc__hdrs_8h_source.html#l00198">gc_hdrs.h:198</a></div></div>
<div class="ttc" id="misc_8c_html_a8039b1101b0c08ef2f699c2e945eb86d"><div class="ttname"><a href="misc_8c.html#a8039b1101b0c08ef2f699c2e945eb86d">GC_new_kind_inner</a></div><div class="ttdeci">GC_API unsigned GC_CALL GC_new_kind_inner(void **fl, GC_word descr, int adjust, int clear)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01501">misc.c:1501</a></div></div>
<div class="ttc" id="alloc_8c_html_a936ff7ea17610552bd652e2bf7a24cf9"><div class="ttname"><a href="alloc_8c.html#a936ff7ea17610552bd652e2bf7a24cf9">GC_max_retries</a></div><div class="ttdeci">GC_word GC_max_retries</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l01131">alloc.c:1131</a></div></div>
<div class="ttc" id="finalize_8c_html_adb340a4f45ca33b7af2d84fcac217844"><div class="ttname"><a href="finalize_8c.html#adb340a4f45ca33b7af2d84fcac217844">GC_call_with_alloc_lock</a></div><div class="ttdeci">GC_API void *GC_CALL GC_call_with_alloc_lock(GC_fn_type fn, void *client_data)</div><div class="ttdef"><b>Definition:</b> <a href="finalize_8c_source.html#l00912">finalize.c:912</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ad4f667eaf317615f1b036889e6bb002a"><div class="ttname"><a href="gc__priv_8h.html#ad4f667eaf317615f1b036889e6bb002a">GC_bytes_allocd</a></div><div class="ttdeci">#define GC_bytes_allocd</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01005">gc_priv.h:1005</a></div></div>
<div class="ttc" id="misc_8c_html_a170896abbdb201ab099c15de10a2055c"><div class="ttname"><a href="misc_8c.html#a170896abbdb201ab099c15de10a2055c">GC_blocked_sp</a></div><div class="ttdeci">GC_INNER ptr_t GC_blocked_sp</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01561">misc.c:1561</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a313c406cf1a541e58db208d5fbe503bb"><div class="ttname"><a href="gc__priv_8h.html#a313c406cf1a541e58db208d5fbe503bb">EXTRA_BYTES</a></div><div class="ttdeci">#define EXTRA_BYTES</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00250">gc_priv.h:250</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a63ad3c8487c6bdefff474f15bb986e81"><div class="ttname"><a href="gc__priv_8h.html#a63ad3c8487c6bdefff474f15bb986e81">GC_approx_sp</a></div><div class="ttdeci">GC_INNER ptr_t GC_approx_sp(void)</div><div class="ttdef"><b>Definition:</b> <a href="mark__rts_8c_source.html#l00358">mark_rts.c:358</a></div></div>
<div class="ttc" id="gc__priv_8h_html_abbd44583f2d985e9a2eb30303beb8f97"><div class="ttname"><a href="gc__priv_8h.html#abbd44583f2d985e9a2eb30303beb8f97">GC_initialize_offsets</a></div><div class="ttdeci">GC_INNER void GC_initialize_offsets(void)</div><div class="ttdef"><b>Definition:</b> <a href="obj__map_8c_source.html#l00079">obj_map.c:79</a></div></div>
<div class="ttc" id="misc_8c_html_a769bb27ac75db516543537e4ccc8e40b"><div class="ttname"><a href="misc_8c.html#a769bb27ac75db516543537e4ccc8e40b">GC_set_java_finalization</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_java_finalization(int value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01786">misc.c:1786</a></div></div>
<div class="ttc" id="misc_8c_html_a0954cf3103c1916cae5cf7d38be2972c"><div class="ttname"><a href="misc_8c.html#a0954cf3103c1916cae5cf7d38be2972c">GC_get_time_limit</a></div><div class="ttdeci">GC_API unsigned long GC_CALL GC_get_time_limit(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01883">misc.c:1883</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a5a1c34f689b8cac916d04dc425bcd9c9"><div class="ttname"><a href="gc__priv_8h.html#a5a1c34f689b8cac916d04dc425bcd9c9">GC_with_callee_saves_pushed</a></div><div class="ttdeci">GC_INNER void GC_with_callee_saves_pushed(void(*fn)(ptr_t, void *), ptr_t arg)</div><div class="ttdef"><b>Definition:</b> <a href="mach__dep_8c_source.html#l00187">mach_dep.c:187</a></div></div>
<div class="ttc" id="alloc_8c_html_a8bcf6a3600810fc5bc8816cb680a8f66"><div class="ttname"><a href="alloc_8c.html#a8bcf6a3600810fc5bc8816cb680a8f66">GC_time_limit</a></div><div class="ttdeci">unsigned long GC_time_limit</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l00135">alloc.c:135</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a49291a283b2fbdc21df1955c0c803969"><div class="ttname"><a href="gc__priv_8h.html#a49291a283b2fbdc21df1955c0c803969">COND_DUMP</a></div><div class="ttdeci">#define COND_DUMP</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01827">gc_priv.h:1827</a></div></div>
<div class="ttc" id="misc_8c_html_ab014cc6cbbe14a9e0af125ae7215a38f"><div class="ttname"><a href="misc_8c.html#ab014cc6cbbe14a9e0af125ae7215a38f">GC_set_free_space_divisor</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_free_space_divisor(GC_word value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01832">misc.c:1832</a></div></div>
<div class="ttc" id="atomic__ops__malloc_8c_html_a450f9d8af07bfe2f313dbe3a78738a5e"><div class="ttname"><a href="atomic__ops__malloc_8c.html#a450f9d8af07bfe2f313dbe3a78738a5e">ALIGNMENT</a></div><div class="ttdeci">#define ALIGNMENT</div><div class="ttdef"><b>Definition:</b> <a href="atomic__ops__malloc_8c_source.html#l00048">atomic_ops_malloc.c:48</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a7cc519745f6f05ab4c5486cecb2df0d9"><div class="ttname"><a href="gc__priv_8h.html#a7cc519745f6f05ab4c5486cecb2df0d9">GC_push_one</a></div><div class="ttdeci">void GC_push_one(word p)</div><div class="ttdef"><b>Definition:</b> <a href="mark_8c_source.html#l01356">mark.c:1356</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a2cb91ed497133eb4313ad46f8379bd9a"><div class="ttname"><a href="gc__priv_8h.html#a2cb91ed497133eb4313ad46f8379bd9a">COOLER_THAN</a></div><div class="ttdeci">#define COOLER_THAN</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00177">gc_priv.h:177</a></div></div>
<div class="ttc" id="alloc_8c_html_aac4d2dc5bce4b0c34a7fa0c6e79d1eee"><div class="ttname"><a href="alloc_8c.html#aac4d2dc5bce4b0c34a7fa0c6e79d1eee">GC_copyright</a></div><div class="ttdeci">char *const GC_copyright[]</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l00089">alloc.c:89</a></div></div>
<div class="ttc" id="gc__locks_8h_html_a162da961886f54869d0c990653e13136"><div class="ttname"><a href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a></div><div class="ttdeci">#define DCL_LOCK_STATE</div><div class="ttdef"><b>Definition:</b> <a href="gc__locks_8h_source.html#l00215">gc_locks.h:215</a></div></div>
<div class="ttc" id="gcconfig_8h_html_a4b6f6e2f219ad8cfc47aa16edf9d0333"><div class="ttname"><a href="gcconfig_8h.html#a4b6f6e2f219ad8cfc47aa16edf9d0333">IF_CANCEL</a></div><div class="ttdeci">#define IF_CANCEL(x)</div><div class="ttdef"><b>Definition:</b> <a href="gcconfig_8h_source.html#l02597">gcconfig.h:2597</a></div></div>
<div class="ttc" id="structobj__kind_html_ac11f9763ebb6bb66f591663f28aaa44c"><div class="ttname"><a href="structobj__kind.html#ac11f9763ebb6bb66f591663f28aaa44c">obj_kind::ok_relocate_descr</a></div><div class="ttdeci">GC_bool ok_relocate_descr</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01213">gc_priv.h:1213</a></div></div>
<div class="ttc" id="misc_8c_html_a4a09aecfe59c66d2c534820b1f5ea400"><div class="ttname"><a href="misc_8c.html#a4a09aecfe59c66d2c534820b1f5ea400">GC_set_non_gc_bytes</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_non_gc_bytes(GC_word value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01822">misc.c:1822</a></div></div>
<div class="ttc" id="gc__mark_8h_html_ae3fe6e667717973aee3fdb2e9b3dd47a"><div class="ttname"><a href="gc__mark_8h.html#ae3fe6e667717973aee3fdb2e9b3dd47a">GC_DS_LENGTH</a></div><div class="ttdeci">#define GC_DS_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="gc__mark_8h_source.html#l00079">gc_mark.h:79</a></div></div>
<div class="ttc" id="misc_8c_html_a7b9f7c38da657ee14a40ef214262fdfb"><div class="ttname"><a href="misc_8c.html#a7b9f7c38da657ee14a40ef214262fdfb">GC_get_all_interior_pointers</a></div><div class="ttdeci">GC_API int GC_CALL GC_get_all_interior_pointers(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01769">misc.c:1769</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a5d0ed260104e4234ef44537cb0317d4d"><div class="ttname"><a href="gc__priv_8h.html#a5d0ed260104e4234ef44537cb0317d4d">MAKE_HOTTER</a></div><div class="ttdeci">#define MAKE_HOTTER(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00181">gc_priv.h:181</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ac75eecd76316d9129109a8770edf76c9"><div class="ttname"><a href="gc__priv_8h.html#ac75eecd76316d9129109a8770edf76c9">HOTTER_THAN</a></div><div class="ttdeci">#define HOTTER_THAN</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00178">gc_priv.h:178</a></div></div>
<div class="ttc" id="misc_8c_html_aa5f7a38189b1328955565f058dde9ff5"><div class="ttname"><a href="misc_8c.html#aa5f7a38189b1328955565f058dde9ff5">GC_clear_stack</a></div><div class="ttdeci">GC_API void *GC_CALL GC_clear_stack(void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00304">misc.c:304</a></div></div>
<div class="ttc" id="misc_8c_html_a1b1b48b3d0b9e248186d6b47cc0c2d40"><div class="ttname"><a href="misc_8c.html#a1b1b48b3d0b9e248186d6b47cc0c2d40">GC_set_force_unmap_on_gcollect</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_force_unmap_on_gcollect(int value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01888">misc.c:1888</a></div></div>
<div class="ttc" id="misc_8c_html_a1434cc1aa0efb284493d1be3bed5ba90"><div class="ttname"><a href="misc_8c.html#a1434cc1aa0efb284493d1be3bed5ba90">GC_log_printf</a></div><div class="ttdeci">void GC_log_printf(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01344">misc.c:1344</a></div></div>
<div class="ttc" id="misc_8c_html_a702bc60de971ef20113892b92a2acb74"><div class="ttname"><a href="misc_8c.html#a702bc60de971ef20113892b92a2acb74">GC_high_water</a></div><div class="ttdeci">STATIC ptr_t GC_high_water</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00270">misc.c:270</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a9857eb16c5eaff556c3545851a06d3cb"><div class="ttname"><a href="gc__priv_8h.html#a9857eb16c5eaff556c3545851a06d3cb">GC_obj_kinds</a></div><div class="ttdeci">GC_EXTERN struct obj_kind GC_obj_kinds[MAXOBJKINDS]</div></div>
<div class="ttc" id="misc_8c_html_a6de78734ee9e2d575abf6574ca977f26"><div class="ttname"><a href="misc_8c.html#a6de78734ee9e2d575abf6574ca977f26">GC_dump</a></div><div class="ttdeci">GC_API void GC_CALL GC_dump(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01661">misc.c:1661</a></div></div>
<div class="ttc" id="_amiga_o_s_8c_html_a9c2c182d635df12cdc92efe09c8ee866"><div class="ttname"><a href="_amiga_o_s_8c.html#a9c2c182d635df12cdc92efe09c8ee866">GC_get_main_stack_base</a></div><div class="ttdeci">ptr_t GC_get_main_stack_base()</div><div class="ttdef"><b>Definition:</b> <a href="_amiga_o_s_8c_source.html#l00043">AmigaOS.c:43</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ae568a9cec5d3f9b21f1a00154e4c587e"><div class="ttname"><a href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a></div><div class="ttdeci">int GC_bool</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00085">gc_priv.h:85</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ae9a7d482d2b9533b050f4433503d6da1"><div class="ttname"><a href="gc__priv_8h.html#ae9a7d482d2b9533b050f4433503d6da1">HBLK_IS_FREE</a></div><div class="ttdeci">#define HBLK_IS_FREE(hdr)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00893">gc_priv.h:893</a></div></div>
<div class="ttc" id="misc_8c_html_ad6fefa01e4246ef7c4658456d0c8d51c"><div class="ttname"><a href="misc_8c.html#ad6fefa01e4246ef7c4658456d0c8d51c">GC_parse_mem_size_arg</a></div><div class="ttdeci">STATIC word GC_parse_mem_size_arg(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00641">misc.c:641</a></div></div>
<div class="ttc" id="misc_8c_html_ad94c118561f3026fc7039950af946188"><div class="ttname"><a href="misc_8c.html#ad94c118561f3026fc7039950af946188">GC_is_initialized</a></div><div class="ttdeci">GC_INNER GC_bool GC_is_initialized</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00601">misc.c:601</a></div></div>
<div class="ttc" id="finalize_8c_html_a28647f10185365f32bc3843e13b347c0"><div class="ttname"><a href="finalize_8c.html#a28647f10185365f32bc3843e13b347c0">GC_register_finalizer_no_order</a></div><div class="ttdeci">GC_API void GC_CALL GC_register_finalizer_no_order(void *obj, GC_finalization_proc fn, void *cd, GC_finalization_proc *ofn, void **ocd)</div><div class="ttdef"><b>Definition:</b> <a href="finalize_8c_source.html#l00441">finalize.c:441</a></div></div>
<div class="ttc" id="structobj__kind_html_a58630ee31950826f8ae11fe2e1af19c9"><div class="ttname"><a href="structobj__kind.html#a58630ee31950826f8ae11fe2e1af19c9">obj_kind::ok_init</a></div><div class="ttdeci">GC_bool ok_init</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01217">gc_priv.h:1217</a></div></div>
<div class="ttc" id="misc_8c_html_a89273b0b3e8e711805755cc09ead57fc"><div class="ttname"><a href="misc_8c.html#a89273b0b3e8e711805755cc09ead57fc">GC_get_bytes_since_gc</a></div><div class="ttdeci">GC_API size_t GC_CALL GC_get_bytes_since_gc(void)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00451">misc.c:451</a></div></div>
<div class="ttc" id="gc_8c_html_a747f41c6858a352cd3d7ec897592b04a"><div class="ttname"><a href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a></div><div class="ttdeci">#define GC_INNER</div><div class="ttdef"><b>Definition:</b> <a href="gc_8c_source.html#l00031">gc.c:31</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a233015def2a1752a7feb7c81d34f89e6"><div class="ttname"><a href="gc_2include_2gc_8h.html#a233015def2a1752a7feb7c81d34f89e6">GC_noop1</a></div><div class="ttdeci">GC_API void GC_CALL GC_noop1(GC_word)</div><div class="ttdef"><b>Definition:</b> <a href="mark_8c_source.html#l00040">mark.c:40</a></div></div>
<div class="ttc" id="gc__hdrs_8h_html_a21af38f06b325d5a6d1306351743ab5f"><div class="ttname"><a href="gc__hdrs_8h.html#a21af38f06b325d5a6d1306351743ab5f">GET_BI</a></div><div class="ttdeci">#define GET_BI(p, bottom_indx)</div><div class="ttdef"><b>Definition:</b> <a href="gc__hdrs_8h_source.html#l00166">gc_hdrs.h:166</a></div></div>
<div class="ttc" id="gc__priv_8h_html_aecdb09a44220e11b3009d01ac444a584"><div class="ttname"><a href="gc__priv_8h.html#aecdb09a44220e11b3009d01ac444a584">BZERO</a></div><div class="ttdeci">#define BZERO(x, n)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00388">gc_priv.h:388</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a69f36e8eacdbd088bfd0fe6b8187d13f"><div class="ttname"><a href="gc__priv_8h.html#a69f36e8eacdbd088bfd0fe6b8187d13f">GC_setpagesize</a></div><div class="ttdeci">GC_INNER void GC_setpagesize(void)</div><div class="ttdef"><b>Definition:</b> <a href="os__dep_8c_source.html#l00783">os_dep.c:783</a></div></div>
<div class="ttc" id="finalize_8c_html_a59a114f5855aa7309a977ceaddc45e27"><div class="ttname"><a href="finalize_8c.html#a59a114f5855aa7309a977ceaddc45e27">GC_finalize_on_demand</a></div><div class="ttdeci">int GC_finalize_on_demand</div><div class="ttdef"><b>Definition:</b> <a href="finalize_8c_source.html#l00022">finalize.c:22</a></div></div>
<div class="ttc" id="misc_8c_html_ae05ef326af0ff4e85282392ab05d51d1"><div class="ttname"><a href="misc_8c.html#ae05ef326af0ff4e85282392ab05d51d1">GC_dont_precollect</a></div><div class="ttdeci">GC_bool GC_dont_precollect</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00087">misc.c:87</a></div></div>
<div class="ttc" id="gc__hdrs_8h_html_a97a38494e52d432ab6df9704f8e9c7bb"><div class="ttname"><a href="gc__hdrs_8h.html#a97a38494e52d432ab6df9704f8e9c7bb">HDR</a></div><div class="ttdeci">#define HDR(p)</div><div class="ttdef"><b>Definition:</b> <a href="gc__hdrs_8h_source.html#l00164">gc_hdrs.h:164</a></div></div>
<div class="ttc" id="misc_8c_html_ab215529ffec88c8f30bc4e7380425dde"><div class="ttname"><a href="misc_8c.html#ab215529ffec88c8f30bc4e7380425dde">GC_set_find_leak</a></div><div class="ttdeci">GC_API void GC_CALL GC_set_find_leak(int value)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01741">misc.c:1741</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_408e3e109cd8ba6803532e2e583521a9.html">public</a></li><li class="navelem"><a class="el" href="dir_07dc26a9f4466d4d2837036336d7d337.html">gc</a></li><li class="navelem"><a class="el" href="misc_8c.html">misc.c</a></li>
    <li class="footer">Generated on Fri Jul 18 2014 09:25:31 for AlterNative Lib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
