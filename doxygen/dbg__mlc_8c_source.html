<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>AlterNative Lib: C:/Users/Alex/AlterNative-CXX-Lib/src/public/gc/dbg_mlc.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AlterNative Lib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dbg__mlc_8c_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">dbg_mlc.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="dbg__mlc_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright 1988, 1989 Hans-J. Boehm, Alan J. Demers</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (c) 1991-1995 by Xerox Corporation.  All rights reserved.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 1997 by Silicon Graphics.  All rights reserved.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Copyright (c) 1999-2004 Hewlett-Packard Development Company, L.P.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright (C) 2007 Free Software Foundation, Inc</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * THIS MATERIAL IS PROVIDED AS IS, WITH ABSOLUTELY NO WARRANTY EXPRESSED</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * OR IMPLIED.  ANY USE IS AT YOUR OWN RISK.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * Permission is hereby granted to use or copy this program</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * for any purpose,  provided the above notices are retained on all copies.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * Permission to modify the code and to distribute modified code is granted,</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * provided the above notices are retained, and a notice that the code was</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * modified is included with the above copyright notice.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dbg__mlc_8h.html">private/dbg_mlc.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#ifndef MSWINCE</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor"># include &lt;errno.h&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_string_8h.html">string.h</a>&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifndef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  <span class="comment">/* Check whether object with base pointer p has debugging info. */</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="comment">/* p is assumed to point to a legitimate object in our part     */</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="comment">/* of the heap.                                                 */</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="comment">/* This excludes the check as to whether the back pointer is    */</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <span class="comment">/* odd, which is added by the GC_HAS_DEBUG_INFO macro.          */</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="comment">/* Note that if DBG_HDRS_ALL is set, uncollectable objects      */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="comment">/* on free lists may not have debug information set.  Thus it&#39;s */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="comment">/* not always safe to return TRUE (1), even if the client does  */</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="comment">/* its part.  Return -1 if the object with debug info has been  */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="comment">/* marked as deallocated.                                       */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="dbg__mlc_8h.html#a1e8d4ec327bfee97d5936431e51c3ef6">   36</a></span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keywordtype">int</span> <a class="code" href="dbg__mlc_8c.html#a1e8d4ec327bfee97d5936431e51c3ef6">GC_has_other_debug_info</a>(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> p)</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> body = (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)((<a class="code" href="structoh.html">oh</a> *)p + 1);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> sz = <a class="code" href="gc_2include_2gc_8h.html#a499ad7765a60a7307ef93fddda6201a9">GC_size</a>(p);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gc__priv_8h.html#abd0730999fc57be7b375bce5869fb36e">HBLKPTR</a>(p) != <a class="code" href="gc__priv_8h.html#abd0730999fc57be7b375bce5869fb36e">HBLKPTR</a>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)body)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        || sz &lt; <a class="code" href="dbg__mlc_8h.html#a6337a59b6a92080b4315e682688eb4a7">DEBUG_BYTES</a> + <a class="code" href="gc__priv_8h.html#a313c406cf1a541e58db208d5fbe503bb">EXTRA_BYTES</a>) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="structoh.html">oh</a> *)p) -&gt; oh_sf != (<a class="code" href="dbg__mlc_8h.html#a266d8a825535c1bde183fb379c8fa6cd">START_FLAG</a> ^ (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)body)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        &amp;&amp; ((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *)p)[<a class="code" href="gc__priv_8h.html#abf406c74b931297bc770fe06857b29a1">BYTES_TO_WORDS</a>(sz)-1] != (<a class="code" href="dbg__mlc_8h.html#a43b0b4726d4eeaab5c058b5ee444f389">END_FLAG</a> ^ (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)body)) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="structoh.html">oh</a> *)p)-&gt;oh_sz == sz) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <span class="comment">/* Object may have had debug info, but has been deallocated     */</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !SHORT_DBG_HDRS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#ifdef KEEP_BACK_PTRS</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor"># include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor"># if defined(__GLIBC__) || defined(SOLARIS) \</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">     || defined(HPUX) || defined(IRIX5) || defined(OSF1)</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#   define RANDOM() random()</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#   define RANDOM() (long)rand()</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="comment">/* Store back pointer to source in dest, if that appears to be possible. */</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">/* This is not completely safe, since we may mistakenly conclude that    */</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="comment">/* dest has a debugging wrapper.  But the error probability is very      */</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">/* small, and this shouldn&#39;t be used in production code.                 */</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">/* We assume that dest is the real base pointer.  Source will usually    */</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">/* be a pointer to the interior of an object.                            */</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keywordtype">void</span> GC_store_back_pointer(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> <a class="code" href="mark_8c.html#a3e04a1a93a391d9d04332c9591fe25ba">source</a>, <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> dest)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dbg__mlc_8h.html#a836ef8044b82c7085862fa68fa806515">GC_HAS_DEBUG_INFO</a>(dest)) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      ((<a class="code" href="structoh.html">oh</a> *)dest) -&gt; oh_back_ptr = HIDE_BACK_PTR(source);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keywordtype">void</span> GC_marked_for_finalization(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> dest)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    GC_store_back_pointer(MARKED_FOR_FINALIZATION, dest);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="comment">/* Store information about the object referencing dest in *base_p     */</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">/* and *offset_p.                                                     */</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">/*   source is root ==&gt; *base_p = address, *offset_p = 0              */</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">/*   source is heap object ==&gt; *base_p != 0, *offset_p = offset       */</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">/*   Returns 1 on success, 0 if source couldn&#39;t be determined.        */</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">/* Dest can be any address within a heap object.                      */</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  GC_API <a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0">GC_ref_kind</a> GC_CALL <a class="code" href="gc__backptr_8h.html#acc9c7ee901d19019b304b8eee30134e5">GC_get_back_ptr_info</a>(<span class="keywordtype">void</span> *dest, <span class="keywordtype">void</span> **base_p,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                                                  <span class="keywordtype">size_t</span> *offset_p)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="structoh.html">oh</a> * <a class="code" href="structhblkhdr.html">hdr</a> = (<a class="code" href="structoh.html">oh</a> *)<a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(dest);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> bp;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> bp_base;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#   ifdef LINT2</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="comment">/* Explicitly instruct the code analysis tool that                */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="comment">/* GC_get_back_ptr_info is not expected to be called with an      */</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="comment">/* incorrect &quot;dest&quot; value.                                        */</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keywordflow">if</span> (!hdr) <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Invalid GC_get_back_ptr_info argument&quot;</span>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="dbg__mlc_8h.html#a836ef8044b82c7085862fa68fa806515">GC_HAS_DEBUG_INFO</a>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>) hdr)) <span class="keywordflow">return</span> <a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0a9723ce0bec1890101f769768a48ee23d">GC_NO_SPACE</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    bp = <a class="code" href="gc_2include_2gc_8h.html#a056bfef891169870e18ce2bacadf4830">GC_REVEAL_POINTER</a>(hdr -&gt; oh_back_ptr);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> (MARKED_FOR_FINALIZATION == bp) <span class="keywordflow">return</span> <a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0aa7eeac745587edd3fb5d590b0a9ee62a">GC_FINALIZER_REFD</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">if</span> (MARKED_FROM_REGISTER == bp) <span class="keywordflow">return</span> <a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0aaeefec622ae166ec7bd0770f341f81ba">GC_REFD_FROM_REG</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (NOT_MARKED == bp) <span class="keywordflow">return</span> <a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0a8b7dab44bbeef13767ba6927b5896bb6">GC_UNREFERENCED</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#   if ALIGNMENT == 1</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="comment">/* Heuristically try to fix off by 1 errors we introduced by      */</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="comment">/* insisting on even addresses.                                   */</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> alternate_ptr = bp + 1;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> target = *(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> *)bp;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> alternate_target = *(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> *)alternate_ptr;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">if</span> (alternate_target &gt;= <a class="code" href="mark_8c.html#a11ed2e2cdbe3eeb88f2af4b47767a223">GC_least_plausible_heap_addr</a></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            &amp;&amp; alternate_target &lt;= <a class="code" href="mark_8c.html#a34d73a67cf51f181aafd43b750ec938c">GC_greatest_plausible_heap_addr</a></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            &amp;&amp; (target &lt; <a class="code" href="mark_8c.html#a11ed2e2cdbe3eeb88f2af4b47767a223">GC_least_plausible_heap_addr</a></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                || target &gt; <a class="code" href="mark_8c.html#a34d73a67cf51f181aafd43b750ec938c">GC_greatest_plausible_heap_addr</a>)) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            bp = alternate_ptr;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    bp_base = <a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(bp);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (0 == bp_base) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      *base_p = bp;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      *offset_p = 0;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0a539c140af899cd9125d69012333c72d9">GC_REFD_FROM_ROOT</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="dbg__mlc_8h.html#a836ef8044b82c7085862fa68fa806515">GC_HAS_DEBUG_INFO</a>(bp_base)) bp_base += <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      *base_p = bp_base;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      *offset_p = bp - bp_base;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0a1f435bb321e7d472c1ca2c0d799e82bd">GC_REFD_FROM_HEAP</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">/* Generate a random heap address.            */</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">/* The resulting address is in the heap, but  */</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">/* not necessarily inside a valid object.     */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="gc__backptr_8h.html#a1d6517e661024a0531a120458a888654">GC_generate_random_heap_address</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> heap_offset = RANDOM();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gc__priv_8h.html#a506d5157af5adabf29c0dab8cc3f7c95">GC_heapsize</a> &gt; RAND_MAX) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        heap_offset *= RAND_MAX;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        heap_offset += RANDOM();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    heap_offset %= <a class="code" href="gc__priv_8h.html#a506d5157af5adabf29c0dab8cc3f7c95">GC_heapsize</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="comment">/* This doesn&#39;t yield a uniform distribution, especially if     */</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="comment">/* e.g. RAND_MAX = 1.5* GC_heapsize.  But for typical cases,    */</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="comment">/* it&#39;s not too bad.                                            */</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="alloc_8c.html#ae8e9329f2e235bafaec1a596db110c4d">GC_n_heap_sects</a>; ++ i) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordtype">size_t</span> size = <a class="code" href="gc__priv_8h.html#adb9619e9b0fb789b511639c6d504a659">GC_heap_sects</a>[i].hs_bytes;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">if</span> (heap_offset &lt; size) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="gc__priv_8h.html#adb9619e9b0fb789b511639c6d504a659">GC_heap_sects</a>[i].hs_start + heap_offset;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            heap_offset -= size;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;GC_generate_random_heap_address: size inconsistency&quot;</span>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">/*NOTREACHED*/</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">/* Generate a random address inside a valid marked heap object. */</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="gc__backptr_8h.html#a1a7cecbc608801ff228aa5b9a63203fb">GC_generate_random_valid_address</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> result;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> base;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      result = <a class="code" href="gc__backptr_8h.html#a1d6517e661024a0531a120458a888654">GC_generate_random_heap_address</a>();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      base = <a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(result);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    } <span class="keywordflow">while</span> (base == 0 || !<a class="code" href="gc__priv_8h.html#acd61070bde5ffc7ab1df410140aa4514">GC_is_marked</a>(base));</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">/* Print back trace for p */</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="gc__backptr_8h.html#abef2ca92d524b451e1cd0866ec5f2f5c">GC_print_backtrace</a>(<span class="keywordtype">void</span> *p)</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordtype">void</span> *current = p;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0">GC_ref_kind</a> <a class="code" href="mark_8c.html#a3e04a1a93a391d9d04332c9591fe25ba">source</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordtype">size_t</span> offset;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordtype">void</span> *base;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="blacklst_8c.html#aa22fd6a6f16ea7f22d574179518120fd">GC_print_heap_obj</a>(<a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(current));</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">for</span> (i = 0; ; ++i) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      source = <a class="code" href="gc__backptr_8h.html#acc9c7ee901d19019b304b8eee30134e5">GC_get_back_ptr_info</a>(current, &amp;base, &amp;offset);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0a8b7dab44bbeef13767ba6927b5896bb6">GC_UNREFERENCED</a> == source) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;Reference could not be found\n&quot;</span>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">goto</span> out;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0a9723ce0bec1890101f769768a48ee23d">GC_NO_SPACE</a> == source) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;No debug info in object: Can&#39;t find reference\n&quot;</span>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">goto</span> out;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;Reachable via %d levels of pointers from &quot;</span>, i);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">switch</span>(source) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0a539c140af899cd9125d69012333c72d9">GC_REFD_FROM_ROOT</a>:</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;          <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;root at %p\n\n&quot;</span>, base);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;          <span class="keywordflow">goto</span> out;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0aaeefec622ae166ec7bd0770f341f81ba">GC_REFD_FROM_REG</a>:</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;          <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;root in register\n\n&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;          <span class="keywordflow">goto</span> out;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0aa7eeac745587edd3fb5d590b0a9ee62a">GC_FINALIZER_REFD</a>:</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;list of finalizable objects\n\n&quot;</span>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;          <span class="keywordflow">goto</span> out;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0a1f435bb321e7d472c1ca2c0d799e82bd">GC_REFD_FROM_HEAP</a>:</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;          <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;offset %ld in object:\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)offset);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;          <span class="comment">/* Take GC_base(base) to get real base, i.e. header. */</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;          <a class="code" href="blacklst_8c.html#aa22fd6a6f16ea7f22d574179518120fd">GC_print_heap_obj</a>(<a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(base));</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;          <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;          <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;INTERNAL ERROR: UNEXPECTED SOURCE!!!!\n&quot;</span>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;          <span class="keywordflow">goto</span> out;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      current = base;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    out:;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">/* Force a garbage collection and generate a backtrace from a */</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">/* random heap address.                                       */</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keywordtype">void</span> GC_generate_random_backtrace_no_gc(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">void</span> * current;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    current = <a class="code" href="gc__backptr_8h.html#a1a7cecbc608801ff228aa5b9a63203fb">GC_generate_random_valid_address</a>();</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="gc__priv_8h.html#af88bfca208f01c5a5b986b6875d279c5">GC_printf</a>(<span class="stringliteral">&quot;\n****Chosen address %p in object\n&quot;</span>, current);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="gc__backptr_8h.html#abef2ca92d524b451e1cd0866ec5f2f5c">GC_print_backtrace</a>(current);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="gc__backptr_8h.html#abf6a51b99f26482e856763f27018f009">GC_generate_random_backtrace</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="alloc_8c.html#ad5a1cc1b1694e4370eef16ec02100a0a">GC_try_to_collect</a>(<a class="code" href="alloc_8c.html#a198983e95d71e4daf794092f12618009">GC_never_stop_func</a>) == 0) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;Cannot generate a backtrace: &quot;</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    <span class="stringliteral">&quot;garbage collection is disabled!\n&quot;</span>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    GC_generate_random_backtrace_no_gc();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* KEEP_BACK_PTRS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#abe8824d24d1838e290ec10bbda9557df">  248</a></span>&#160;<span class="preprocessor"># define CROSSES_HBLK(p, sz) \</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="preprocessor">        (((word)(p + sizeof(oh) + sz - 1) ^ (word)p) &gt;= HBLKSIZE)</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">/* Store debugging info into p.  Return displaced pointer.         */</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">/* This version assumes we do hold the allocation lock.            */</span></div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#a40ecf90a9e590cf90654314f4f4015f8">  253</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> <a class="code" href="dbg__mlc_8c.html#a40ecf90a9e590cf90654314f4f4015f8">GC_store_debug_info_inner</a>(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> p, <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> sz, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">string</span>,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                       <span class="keywordtype">int</span> linenum)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;{</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> * result = (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *)((<a class="code" href="structoh.html">oh</a> *)p + 1);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(<a class="code" href="gc_2include_2gc_8h.html#a499ad7765a60a7307ef93fddda6201a9">GC_size</a>(p) &gt;= <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>) + sz);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(!(<a class="code" href="gc__priv_8h.html#a4097788b4e0df04c2512538490270350">SMALL_OBJ</a>(sz) &amp;&amp; <a class="code" href="dbg__mlc_8c.html#abe8824d24d1838e290ec10bbda9557df">CROSSES_HBLK</a>(p, sz)));</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="preprocessor">#   ifdef KEEP_BACK_PTRS</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      ((<a class="code" href="structoh.html">oh</a> *)p) -&gt; oh_back_ptr = HIDE_BACK_PTR(NOT_MARKED);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="preprocessor">#   ifdef MAKE_BACK_GRAPH</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      ((<a class="code" href="structoh.html">oh</a> *)p) -&gt; oh_bg_ptr = HIDE_BACK_PTR((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)0);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    ((<a class="code" href="structoh.html">oh</a> *)p) -&gt; oh_string = string;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    ((<a class="code" href="structoh.html">oh</a> *)p) -&gt; oh_int = (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)linenum;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="preprocessor">#   ifndef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      ((<a class="code" href="structoh.html">oh</a> *)p) -&gt; oh_sz = sz;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      ((<a class="code" href="structoh.html">oh</a> *)p) -&gt; oh_sf = <a class="code" href="dbg__mlc_8h.html#a266d8a825535c1bde183fb379c8fa6cd">START_FLAG</a> ^ (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)result;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      ((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *)p)[<a class="code" href="gc__priv_8h.html#abf406c74b931297bc770fe06857b29a1">BYTES_TO_WORDS</a>(<a class="code" href="gc_2include_2gc_8h.html#a499ad7765a60a7307ef93fddda6201a9">GC_size</a>(p))-1] =</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;         result[<a class="code" href="dbg__mlc_8h.html#a9eb1e97a32626ed124aa8d38e1258877">SIMPLE_ROUNDED_UP_WORDS</a>(sz)] = <a class="code" href="dbg__mlc_8h.html#a43b0b4726d4eeaab5c058b5ee444f389">END_FLAG</a> ^ (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)result;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">return</span>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)result);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="gc__priv_8h.html#a7f763ca551cb7b3e41b981f23918c3b5">  277</a></span>&#160;<a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> <a class="code" href="dbg__mlc_8c.html#a9063de2121f2018f3f53096a10d50555">GC_store_debug_info</a>(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> p, <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> sz, <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">string</span>,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                                   <span class="keywordtype">int</span> linenum)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> result;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a>();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    result = <a class="code" href="dbg__mlc_8c.html#a40ecf90a9e590cf90654314f4f4015f8">GC_store_debug_info_inner</a>(p, sz, <span class="keywordtype">string</span>, linenum);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a>();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor">#ifndef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">/* Check the object with debugging info at ohdr.      */</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">/* Return NULL if it&#39;s OK.  Else return clobbered     */</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">/* address.                                           */</span></div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#ad714e5613bb976a1ed8ecd23f05f8b8b">  293</a></span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> <a class="code" href="dbg__mlc_8c.html#ad714e5613bb976a1ed8ecd23f05f8b8b">GC_check_annotated_obj</a>(<a class="code" href="structoh.html">oh</a> *ohdr)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> body = (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)(ohdr + 1);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> gc_sz = <a class="code" href="gc_2include_2gc_8h.html#a499ad7765a60a7307ef93fddda6201a9">GC_size</a>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)ohdr);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (ohdr -&gt; oh_sz + <a class="code" href="dbg__mlc_8h.html#a6337a59b6a92080b4315e682688eb4a7">DEBUG_BYTES</a> &gt; gc_sz) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">return</span>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)(&amp;(ohdr -&gt; oh_sz)));</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span> (ohdr -&gt; oh_sf != (<a class="code" href="dbg__mlc_8h.html#a266d8a825535c1bde183fb379c8fa6cd">START_FLAG</a> ^ (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)body)) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">return</span>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)(&amp;(ohdr -&gt; oh_sf)));</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *)ohdr)[<a class="code" href="gc__priv_8h.html#abf406c74b931297bc770fe06857b29a1">BYTES_TO_WORDS</a>(gc_sz)-1] != (<a class="code" href="dbg__mlc_8h.html#a43b0b4726d4eeaab5c058b5ee444f389">END_FLAG</a> ^ (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)body)) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">return</span>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *)ohdr + <a class="code" href="gc__priv_8h.html#abf406c74b931297bc770fe06857b29a1">BYTES_TO_WORDS</a>(gc_sz)-1));</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *)body)[<a class="code" href="dbg__mlc_8h.html#a9eb1e97a32626ed124aa8d38e1258877">SIMPLE_ROUNDED_UP_WORDS</a>(ohdr -&gt; oh_sz)]</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        != (<a class="code" href="dbg__mlc_8h.html#a43b0b4726d4eeaab5c058b5ee444f389">END_FLAG</a> ^ (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)body)) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">return</span>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *)body + <a class="code" href="dbg__mlc_8h.html#a9eb1e97a32626ed124aa8d38e1258877">SIMPLE_ROUNDED_UP_WORDS</a>(ohdr-&gt;oh_sz)));</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !SHORT_DBG_HDRS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#ad84e042fd9e3ab64d52c96f4bdd32c63">  314</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="gc__mark_8h.html#a7ae39a97d9efc5bfef64119cdcf24b86">GC_describe_type_fn</a> <a class="code" href="dbg__mlc_8c.html#ad84e042fd9e3ab64d52c96f4bdd32c63">GC_describe_type_fns</a>[<a class="code" href="gc__priv_8h.html#a0fde23d5f3eddcc4d5f8f405fe5f2699">MAXOBJKINDS</a>] = {0};</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="gc__mark_8h.html#a98e61a324dd1554e362a1d0260f4c7fe">  316</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="dbg__mlc_8c.html#a79ebcf3b2319ad03de49e1f15c37dd0c">GC_register_describe_type_fn</a>(<span class="keywordtype">int</span> kind,</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                                                 <a class="code" href="gc__mark_8h.html#a7ae39a97d9efc5bfef64119cdcf24b86">GC_describe_type_fn</a> fn)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  GC_describe_type_fns[kind] = fn;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">/* Print a type description for the object whose client-visible address */</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">/* is p.                                                                */</span></div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#a13e0ea5e5fdad29398321c008e1b4521">  324</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="dbg__mlc_8c.html#a13e0ea5e5fdad29398321c008e1b4521">GC_print_type</a>(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> p)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;{</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    hdr * hhdr = <a class="code" href="headers_8c.html#a82a38fd3345ecdd1ab8e84422ed16022">GC_find_header</a>(p);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordtype">char</span> buffer[<a class="code" href="gc__mark_8h.html#ad96dadf828206e48a6093cc1959c39e8">GC_TYPE_DESCR_LEN</a> + 1];</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordtype">int</span> kind = hhdr -&gt; hb_obj_kind;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (0 != GC_describe_type_fns[kind] &amp;&amp; <a class="code" href="gc__priv_8h.html#acd61070bde5ffc7ab1df410140aa4514">GC_is_marked</a>(<a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(p))) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="comment">/* This should preclude free list objects except with   */</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="comment">/* thread-local allocation.                             */</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        buffer[<a class="code" href="gc__mark_8h.html#ad96dadf828206e48a6093cc1959c39e8">GC_TYPE_DESCR_LEN</a>] = 0;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        (GC_describe_type_fns[kind])(p, buffer);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(buffer[<a class="code" href="gc__mark_8h.html#ad96dadf828206e48a6093cc1959c39e8">GC_TYPE_DESCR_LEN</a>] == 0);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(buffer);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">switch</span>(kind) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="gc__priv_8h.html#a0a8f64fba436c3448742e4f83fec4c45">PTRFREE</a>:</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(<span class="stringliteral">&quot;PTRFREE&quot;</span>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="gc__priv_8h.html#a1291f416b069313021b519eea62d5bf1">NORMAL</a>:</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(<span class="stringliteral">&quot;NORMAL&quot;</span>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="gc__priv_8h.html#a4d3b8fc450503380db0ac78d897086db">UNCOLLECTABLE</a>:</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(<span class="stringliteral">&quot;UNCOLLECTABLE&quot;</span>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="preprocessor">#         ifdef ATOMIC_UNCOLLECTABLE</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="keywordflow">case</span> AUNCOLLECTABLE:</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;              <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(<span class="stringliteral">&quot;ATOMIC UNCOLLECTABLE&quot;</span>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="preprocessor">#         endif</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="gc__priv_8h.html#a6cbc641fada959ef499b8e8475ba25dd">STUBBORN</a>:</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(<span class="stringliteral">&quot;STUBBORN&quot;</span>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;kind=%d descr=0x%lx&quot;</span>, kind,</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                          (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(hhdr -&gt; hb_descr));</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;}</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#aa8cc2ac41f8f9cc1fa4fe516c8a41411">  363</a></span>&#160;<span class="preprocessor">#define GET_OH_LINENUM(ohdr) ((int)(ohdr)-&gt;oh_int)</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">/* Print a human-readable description of the object to stderr. p points */</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">/* to somewhere inside an object with the debugging info.               */</span></div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#ab439114e56164099fe931456f14b590d">  367</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="dbg__mlc_8c.html#ab439114e56164099fe931456f14b590d">GC_print_obj</a>(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> p)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="structoh.html">oh</a> * ohdr = (<a class="code" href="structoh.html">oh</a> *)<a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(p);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(<a class="code" href="gc__locks_8h.html#a591dbb16071af0ea0177f1c7509e8aea">I_DONT_HOLD_LOCK</a>());</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor">#   ifdef LINT2</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordflow">if</span> (!ohdr) <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Invalid GC_print_obj argument&quot;</span>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;%p (&quot;</span>, ((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)ohdr + <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>)));</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(ohdr -&gt; oh_string);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#   ifdef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;:%d, &quot;</span>, <a class="code" href="dbg__mlc_8c.html#aa8cc2ac41f8f9cc1fa4fe516c8a41411">GET_OH_LINENUM</a>(ohdr));</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="preprocessor">#   else</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;:%d, sz=%lu, &quot;</span>,</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                    <a class="code" href="dbg__mlc_8c.html#aa8cc2ac41f8f9cc1fa4fe516c8a41411">GET_OH_LINENUM</a>(ohdr), (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(ohdr -&gt; oh_sz));</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="dbg__mlc_8c.html#a13e0ea5e5fdad29398321c008e1b4521">GC_print_type</a>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)(ohdr + 1));</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(<span class="stringliteral">&quot;)\n&quot;</span>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="dbg__mlc_8h.html#a114c4c9ff74350d4b4209b025161f6ea">PRINT_CALL_CHAIN</a>(ohdr);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#ae05478c793f3ec6a4222979f32cef62d">  388</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="dbg__mlc_8c.html#ae05478c793f3ec6a4222979f32cef62d">GC_debug_print_heap_obj_proc</a>(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> p)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;{</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(<a class="code" href="gc__locks_8h.html#a591dbb16071af0ea0177f1c7509e8aea">I_DONT_HOLD_LOCK</a>());</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="dbg__mlc_8h.html#a836ef8044b82c7085862fa68fa806515">GC_HAS_DEBUG_INFO</a>(p)) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <a class="code" href="dbg__mlc_8c.html#ab439114e56164099fe931456f14b590d">GC_print_obj</a>(p);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="blacklst_8c.html#aa98df15cdeabdc720834b5b176c91391">GC_default_print_heap_obj_proc</a>(p);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="preprocessor">#ifndef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">/* Use GC_err_printf and friends to print a description of the object */</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">/* whose client-visible address is p, and which was smashed at        */</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">/* clobbered_addr.                                                    */</span></div>
<div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#a33334d156baa8d766e10131e835a46cc">  402</a></span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="dbg__mlc_8c.html#a33334d156baa8d766e10131e835a46cc">GC_print_smashed_obj</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *msg, <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> p,</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                   <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> clobbered_addr)</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="structoh.html">oh</a> * ohdr = (<a class="code" href="structoh.html">oh</a> *)<a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(p);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(<a class="code" href="gc__locks_8h.html#a591dbb16071af0ea0177f1c7509e8aea">I_DONT_HOLD_LOCK</a>());</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="preprocessor">#   ifdef LINT2</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">if</span> (!ohdr) <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Invalid GC_print_smashed_obj argument&quot;</span>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">if</span> (clobbered_addr &lt;= (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)(&amp;(ohdr -&gt; oh_sz))</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        || ohdr -&gt; oh_string == 0) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <span class="stringliteral">&quot;%s %p in or near object at %p(&lt;smashed&gt;, appr. sz = %lu)\n&quot;</span>,</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                msg, clobbered_addr, p,</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(<a class="code" href="gc_2include_2gc_8h.html#a499ad7765a60a7307ef93fddda6201a9">GC_size</a>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)ohdr) - <a class="code" href="dbg__mlc_8h.html#a6337a59b6a92080b4315e682688eb4a7">DEBUG_BYTES</a>));</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;%s %p in or near object at %p (%s:%d, sz=%lu)\n&quot;</span>,</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                msg, clobbered_addr, p,</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)(ohdr -&gt; oh_string) &lt; <a class="code" href="gc__priv_8h.html#a47a92e637e9159058c2f71d7c3999504">HBLKSIZE</a> ? <span class="stringliteral">&quot;(smashed string)&quot;</span> :</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                ohdr -&gt; oh_string[0] == <span class="charliteral">&#39;\0&#39;</span> ? <span class="stringliteral">&quot;EMPTY(smashed?)&quot;</span> :</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                                ohdr -&gt; oh_string,</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                <a class="code" href="dbg__mlc_8c.html#aa8cc2ac41f8f9cc1fa4fe516c8a41411">GET_OH_LINENUM</a>(ohdr), (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(ohdr -&gt; oh_sz));</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <a class="code" href="dbg__mlc_8h.html#a114c4c9ff74350d4b4209b025161f6ea">PRINT_CALL_CHAIN</a>(ohdr);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="preprocessor">#ifndef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="dbg__mlc_8c.html#ac422a24ebb4519fa334d8ebadd453d75">GC_check_heap_proc</a> (<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="dbg__mlc_8c.html#adb3b437256974a46b9a6a7463f30bd56">GC_print_all_smashed_proc</a> (<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> GC_do_nothing(<span class="keywordtype">void</span>) {}</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="gc__priv_8h.html#ab70f3f41d0e9255fe75f75bd0db97f97">  436</a></span>&#160;<a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keywordtype">void</span> <a class="code" href="dbg__mlc_8c.html#ab70f3f41d0e9255fe75f75bd0db97f97">GC_start_debugging</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;{</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor"># ifndef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="alloc_8c.html#a0138baecb47c524a6b40ae35dce24d05">GC_check_heap</a> = <a class="code" href="dbg__mlc_8c.html#ac422a24ebb4519fa334d8ebadd453d75">GC_check_heap_proc</a>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="alloc_8c.html#ad0baa00025aeda16f1bb169f65b32386">GC_print_all_smashed</a> = <a class="code" href="dbg__mlc_8c.html#adb3b437256974a46b9a6a7463f30bd56">GC_print_all_smashed_proc</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="alloc_8c.html#a0138baecb47c524a6b40ae35dce24d05">GC_check_heap</a> = GC_do_nothing;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="alloc_8c.html#ad0baa00025aeda16f1bb169f65b32386">GC_print_all_smashed</a> = GC_do_nothing;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="blacklst_8c.html#aa22fd6a6f16ea7f22d574179518120fd">GC_print_heap_obj</a> = <a class="code" href="dbg__mlc_8c.html#ae05478c793f3ec6a4222979f32cef62d">GC_debug_print_heap_obj_proc</a>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="gc__priv_8h.html#adfd9c45e111e2c9475b244203f04ee6d">GC_debugging_started</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <a class="code" href="gc_2include_2gc_8h.html#a47ba660ad372a58543c01e69aa589c63">GC_register_displacement</a>((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)<span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>));</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#a722270791e4bf4ee4e9466cc00f1fbe0">  450</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="dbg__mlc_8c.html#a722270791e4bf4ee4e9466cc00f1fbe0">GC_debug_header_size</a> = <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#a0655978039076f58739412f2528de4af">  452</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="dbg__mlc_8c.html#a105bfc046cfc3b7cc619fe8d43db3614">GC_debug_register_displacement</a>(<span class="keywordtype">size_t</span> offset)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;{</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#a47ba660ad372a58543c01e69aa589c63">GC_register_displacement</a>(offset);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#a47ba660ad372a58543c01e69aa589c63">GC_register_displacement</a>((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)<span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>) + offset);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#aa693f895fbe543be023d56030bf14852">  458</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="dbg__mlc_8c.html#afb8ec003fec230c51afa59db96e84ecb">GC_debug_malloc</a>(<span class="keywordtype">size_t</span> lb, <a class="code" href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a>)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;{</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordtype">void</span> * result;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="comment">/* Note that according to malloc() specification, if size is 0 then */</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">/* malloc() returns either NULL, or a unique pointer value that can */</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="comment">/* later be successfully passed to free(). We always do the latter. */</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    result = <a class="code" href="gc_2include_2gc_8h.html#acdf040af35f59696a2d0ee945aac622f">GC_malloc</a>(lb + <a class="code" href="dbg__mlc_8h.html#a6337a59b6a92080b4315e682688eb4a7">DEBUG_BYTES</a>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">if</span> (result == 0) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;GC_debug_malloc(%lu) returning NULL (&quot;</span>,</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                      (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) lb);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(s);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;:%ld)\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)i);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="gc__priv_8h.html#adfd9c45e111e2c9475b244203f04ee6d">GC_debugging_started</a>) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <a class="code" href="dbg__mlc_8c.html#ab70f3f41d0e9255fe75f75bd0db97f97">GC_start_debugging</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="dbg__mlc_8h.html#a22ca2cd8e0c7f1402a653fd9e42caa74">ADD_CALL_CHAIN</a>(result, ra);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="dbg__mlc_8c.html#a9063de2121f2018f3f53096a10d50555">GC_store_debug_info</a>(result, (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)lb, s, i));</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#af71b92497ed39a4a8588e28519b64d7a">  480</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="dbg__mlc_8c.html#a306ddad6ddf1bd952e3bfea06ab0d9e2">GC_debug_malloc_ignore_off_page</a>(<span class="keywordtype">size_t</span> lb,</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                                                      <a class="code" href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a>)</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;{</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordtype">void</span> * result = <a class="code" href="gc_2include_2gc_8h.html#a4832fe55e4d394b6d44b1701c7f3457f">GC_malloc_ignore_off_page</a>(lb + <a class="code" href="dbg__mlc_8h.html#a6337a59b6a92080b4315e682688eb4a7">DEBUG_BYTES</a>);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordflow">if</span> (result == 0) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;GC_debug_malloc_ignore_off_page(%lu) returning NULL (&quot;</span>,</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                       (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) lb);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(s);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;:%lu)\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)i);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="gc__priv_8h.html#adfd9c45e111e2c9475b244203f04ee6d">GC_debugging_started</a>) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <a class="code" href="dbg__mlc_8c.html#ab70f3f41d0e9255fe75f75bd0db97f97">GC_start_debugging</a>();</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="dbg__mlc_8h.html#a22ca2cd8e0c7f1402a653fd9e42caa74">ADD_CALL_CHAIN</a>(result, ra);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="dbg__mlc_8c.html#a9063de2121f2018f3f53096a10d50555">GC_store_debug_info</a>(result, (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)lb, s, i));</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#aed8ecdf800e8a876666322c1ca84c2f9">  499</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="dbg__mlc_8c.html#a8c44d5e5617e93dc1655aaf4e060a362">GC_debug_malloc_atomic_ignore_off_page</a>(<span class="keywordtype">size_t</span> lb,</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                                                             <a class="code" href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a>)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;{</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordtype">void</span> * result = <a class="code" href="gc_2include_2gc_8h.html#a3d21444e60aac92cff7749851670f5f6">GC_malloc_atomic_ignore_off_page</a>(lb + <a class="code" href="dbg__mlc_8h.html#a6337a59b6a92080b4315e682688eb4a7">DEBUG_BYTES</a>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">if</span> (result == 0) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;GC_debug_malloc_atomic_ignore_off_page(%lu)&quot;</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                      <span class="stringliteral">&quot; returning NULL (&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)lb);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(s);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;:%lu)\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)i);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="gc__priv_8h.html#adfd9c45e111e2c9475b244203f04ee6d">GC_debugging_started</a>) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="dbg__mlc_8c.html#ab70f3f41d0e9255fe75f75bd0db97f97">GC_start_debugging</a>();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="dbg__mlc_8h.html#a22ca2cd8e0c7f1402a653fd9e42caa74">ADD_CALL_CHAIN</a>(result, ra);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="dbg__mlc_8c.html#a9063de2121f2018f3f53096a10d50555">GC_store_debug_info</a>(result, (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)lb, s, i));</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="preprocessor">#ifdef DBG_HDRS_ALL</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">/* An allocation function for internal use.  Normally internally      */</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">/* allocated objects do not have debug information.  But in this      */</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="comment">/* case, we need to make sure that all objects have debug headers.    */</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">/* We assume debugging was started in collector initialization, and   */</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="comment">/* we already hold the GC lock.                                       */</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keywordtype">void</span> * GC_debug_generic_malloc_inner(<span class="keywordtype">size_t</span> lb, <span class="keywordtype">int</span> k)</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordtype">void</span> * result = <a class="code" href="gc__priv_8h.html#aaf1ed9de3698d4fdb54f7f73b2dd253e">GC_generic_malloc_inner</a>(lb + <a class="code" href="dbg__mlc_8h.html#a6337a59b6a92080b4315e682688eb4a7">DEBUG_BYTES</a>, k);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (result == 0) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;GC internal allocation (%lu bytes) returning NULL\n&quot;</span>,</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                       (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) lb);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="dbg__mlc_8h.html#a22ca2cd8e0c7f1402a653fd9e42caa74">ADD_CALL_CHAIN</a>(result, GC_RETURN_ADDR);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="dbg__mlc_8c.html#a40ecf90a9e590cf90654314f4f4015f8">GC_store_debug_info_inner</a>(result, (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)lb, <span class="stringliteral">&quot;INTERNAL&quot;</span>, 0));</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keywordtype">void</span> * GC_debug_generic_malloc_inner_ignore_off_page(<span class="keywordtype">size_t</span> lb,</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                                                                <span class="keywordtype">int</span> k)</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordtype">void</span> * result = <a class="code" href="gc__priv_8h.html#abe43a78928b4a084553d8f70b899cae5">GC_generic_malloc_inner_ignore_off_page</a>(</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                                                lb + <a class="code" href="dbg__mlc_8h.html#a6337a59b6a92080b4315e682688eb4a7">DEBUG_BYTES</a>, k);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (result == 0) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;GC internal allocation (%lu bytes) returning NULL\n&quot;</span>,</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                       (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) lb);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="dbg__mlc_8h.html#a22ca2cd8e0c7f1402a653fd9e42caa74">ADD_CALL_CHAIN</a>(result, GC_RETURN_ADDR);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="dbg__mlc_8c.html#a40ecf90a9e590cf90654314f4f4015f8">GC_store_debug_info_inner</a>(result, (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)lb, <span class="stringliteral">&quot;INTERNAL&quot;</span>, 0));</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DBG_HDRS_ALL */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="preprocessor">#ifdef STUBBORN_ALLOC</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="dbg__mlc_8c.html#a18ad085fc6cd2f12c11d6b0371172165">GC_debug_malloc_stubborn</a>(<span class="keywordtype">size_t</span> lb, <a class="code" href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a>)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordtype">void</span> * result = <a class="code" href="gc_2include_2gc_8h.html#a83c0c6e0c5cf335e8813af6f8c8cd1cc">GC_malloc_stubborn</a>(lb + <a class="code" href="dbg__mlc_8h.html#a6337a59b6a92080b4315e682688eb4a7">DEBUG_BYTES</a>);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (result == 0) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;GC_debug_malloc(%lu) returning NULL (&quot;</span>,</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                      (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) lb);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(s);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;:%lu)\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)i);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="gc__priv_8h.html#adfd9c45e111e2c9475b244203f04ee6d">GC_debugging_started</a>) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <a class="code" href="dbg__mlc_8c.html#ab70f3f41d0e9255fe75f75bd0db97f97">GC_start_debugging</a>();</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="dbg__mlc_8h.html#a22ca2cd8e0c7f1402a653fd9e42caa74">ADD_CALL_CHAIN</a>(result, ra);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="dbg__mlc_8c.html#a9063de2121f2018f3f53096a10d50555">GC_store_debug_info</a>(result, (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)lb, s, i));</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="dbg__mlc_8c.html#a23592c3a3437ee89f4517cdb259121d5">GC_debug_change_stubborn</a>(<span class="keywordtype">void</span> *p)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordtype">void</span> * q = <a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(p);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    hdr * hhdr;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">if</span> (q == 0) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;Bad argument: %p to GC_debug_change_stubborn\n&quot;</span>, p);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;GC_debug_change_stubborn: bad arg&quot;</span>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    hhdr = <a class="code" href="gc__hdrs_8h.html#a97a38494e52d432ab6df9704f8e9c7bb">HDR</a>(q);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (hhdr -&gt; hb_obj_kind != <a class="code" href="gc__priv_8h.html#a6cbc641fada959ef499b8e8475ba25dd">STUBBORN</a>) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;GC_debug_change_stubborn arg not stubborn: %p\n&quot;</span>, p);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;GC_debug_change_stubborn: arg not stubborn&quot;</span>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#ad7eb1d334d2776844cf89e570cbe1f15">GC_change_stubborn</a>(q);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="dbg__mlc_8c.html#af38c827f7ffcce52d427e16e0eb22e93">GC_debug_end_stubborn_change</a>(<span class="keywordtype">void</span> *p)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordtype">void</span> * q = <a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(p);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    hdr * hhdr;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">if</span> (q == 0) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;Bad argument: %p to GC_debug_end_stubborn_change\n&quot;</span>, p);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;GC_debug_end_stubborn_change: bad arg&quot;</span>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    hhdr = <a class="code" href="gc__hdrs_8h.html#a97a38494e52d432ab6df9704f8e9c7bb">HDR</a>(q);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">if</span> (hhdr -&gt; hb_obj_kind != <a class="code" href="gc__priv_8h.html#a6cbc641fada959ef499b8e8475ba25dd">STUBBORN</a>) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;debug_end_stubborn_change arg not stubborn: %p\n&quot;</span>, p);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;GC_debug_end_stubborn_change: arg not stubborn&quot;</span>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#a53ca70595bf2608c79ddcda7f1a573cf">GC_end_stubborn_change</a>(q);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* !STUBBORN_ALLOC */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#a0700c4016428f9c46adc777d45b13e92">  608</a></span>&#160;  GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="dbg__mlc_8c.html#a18ad085fc6cd2f12c11d6b0371172165">GC_debug_malloc_stubborn</a>(<span class="keywordtype">size_t</span> lb, <a class="code" href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a>)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dbg__mlc_8c.html#afb8ec003fec230c51afa59db96e84ecb">GC_debug_malloc</a>(lb, <a class="code" href="dbg__mlc_8h.html#a3ce8b7b217e175b253921cddc2cc97ab">OPT_RA</a> s, i);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="comment">/*ARGSUSED*/</span></div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#ade4860defced19421328fef124d136e8">  614</a></span>&#160;  GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="dbg__mlc_8c.html#a23592c3a3437ee89f4517cdb259121d5">GC_debug_change_stubborn</a>(<span class="keywordtype">void</span> *p) {}</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="comment">/*ARGSUSED*/</span></div>
<div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#a12ba86754a2566f5963fe039bd62f6fe">  617</a></span>&#160;  GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="dbg__mlc_8c.html#af38c827f7ffcce52d427e16e0eb22e93">GC_debug_end_stubborn_change</a>(<span class="keywordtype">void</span> *p) {}</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !STUBBORN_ALLOC */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#a10876567af69963e64191b64757fbfb1">  620</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="dbg__mlc_8c.html#adfb41a848c633515a2617e836927c17d">GC_debug_malloc_atomic</a>(<span class="keywordtype">size_t</span> lb, <a class="code" href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a>)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;{</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordtype">void</span> * result = <a class="code" href="gc_2include_2gc_8h.html#af9585a385389c29d2a3643de45e17572">GC_malloc_atomic</a>(lb + <a class="code" href="dbg__mlc_8h.html#a6337a59b6a92080b4315e682688eb4a7">DEBUG_BYTES</a>);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">if</span> (result == 0) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;GC_debug_malloc_atomic(%lu) returning NULL (&quot;</span>,</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                      (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) lb);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(s);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;:%lu)\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)i);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="gc__priv_8h.html#adfd9c45e111e2c9475b244203f04ee6d">GC_debugging_started</a>) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <a class="code" href="dbg__mlc_8c.html#ab70f3f41d0e9255fe75f75bd0db97f97">GC_start_debugging</a>();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="dbg__mlc_8h.html#a22ca2cd8e0c7f1402a653fd9e42caa74">ADD_CALL_CHAIN</a>(result, ra);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="dbg__mlc_8c.html#a9063de2121f2018f3f53096a10d50555">GC_store_debug_info</a>(result, (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)lb, s, i));</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;}</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#a68b7723e57f73b3f40621371809cccfb">  638</a></span>&#160;GC_API <span class="keywordtype">char</span> * GC_CALL <a class="code" href="dbg__mlc_8c.html#a09a99dc0802ad74d032821a3ddb3ed22">GC_debug_strdup</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str, <a class="code" href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a>)</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordtype">char</span> *copy;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordtype">size_t</span> lb;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">if</span> (str == NULL) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gc_2include_2gc_8h.html#aa13c04154a58a6ba59f090c230300fc0">GC_find_leak</a>)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;strdup(NULL) behavior is undefined\n&quot;</span>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  lb = strlen(str) + 1;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  copy = <a class="code" href="dbg__mlc_8c.html#adfb41a848c633515a2617e836927c17d">GC_debug_malloc_atomic</a>(lb, <a class="code" href="dbg__mlc_8h.html#a3ce8b7b217e175b253921cddc2cc97ab">OPT_RA</a> s, i);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordflow">if</span> (copy == NULL) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="preprocessor">#   ifndef MSWINCE</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      errno = ENOMEM;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="preprocessor"># ifndef MSWINCE</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    strcpy(copy, str);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="comment">/* strcpy() is deprecated in WinCE */</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    memcpy(copy, str, lb);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordflow">return</span> copy;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;}</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#a8d31f6d91985017aa8d42384e2431ab0">  665</a></span>&#160;GC_API <span class="keywordtype">char</span> * GC_CALL <a class="code" href="dbg__mlc_8c.html#a2c3e3dd753bf5a547dc317546f79e561">GC_debug_strndup</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str, <span class="keywordtype">size_t</span> size,</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                                       <a class="code" href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a>)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;{</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordtype">char</span> *copy;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordtype">size_t</span> len = strlen(str); <span class="comment">/* str is expected to be non-NULL  */</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordflow">if</span> (len &gt; size)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    len = size;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  copy = <a class="code" href="dbg__mlc_8c.html#adfb41a848c633515a2617e836927c17d">GC_debug_malloc_atomic</a>(len + 1, <a class="code" href="dbg__mlc_8h.html#a3ce8b7b217e175b253921cddc2cc97ab">OPT_RA</a> s, i);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">if</span> (copy == NULL) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="preprocessor">#   ifndef MSWINCE</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      errno = ENOMEM;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <a class="code" href="gc__priv_8h.html#a9aa4a58c5343499b7caadb392721e5b5">BCOPY</a>(str, copy, len);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  copy[len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keywordflow">return</span> copy;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="preprocessor">#ifdef GC_REQUIRE_WCSDUP</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="preprocessor"># include &lt;wchar.h&gt;</span> <span class="comment">/* for wcslen() */</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  GC_API <span class="keywordtype">wchar_t</span> * GC_CALL GC_debug_wcsdup(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *str, <a class="code" href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a>)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordtype">size_t</span> lb = (wcslen(str) + 1) * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordtype">wchar_t</span> *copy = <a class="code" href="dbg__mlc_8c.html#adfb41a848c633515a2617e836927c17d">GC_debug_malloc_atomic</a>(lb, <a class="code" href="dbg__mlc_8h.html#a3ce8b7b217e175b253921cddc2cc97ab">OPT_RA</a> s, i);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (copy == NULL) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="preprocessor">#     ifndef MSWINCE</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        errno = ENOMEM;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="preprocessor">#     endif</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="gc__priv_8h.html#a9aa4a58c5343499b7caadb392721e5b5">BCOPY</a>(str, copy, lb);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">return</span> copy;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* GC_REQUIRE_WCSDUP */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#afa8870eede24b2a80b4ade9232d2dbe8">  702</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="dbg__mlc_8c.html#af9f980ce69ac4f0faf93d5086375fc0d">GC_debug_malloc_uncollectable</a>(<span class="keywordtype">size_t</span> lb,</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                                                    <a class="code" href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a>)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordtype">void</span> * result = <a class="code" href="gc_2include_2gc_8h.html#a5c518667f163c7b8963ee35f18ebac1a">GC_malloc_uncollectable</a>(lb + <a class="code" href="dbg__mlc_8h.html#a52afd7403b7736c0db2d6c4527c1b08a">UNCOLLECTABLE_DEBUG_BYTES</a>);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">if</span> (result == 0) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;GC_debug_malloc_uncollectable(%lu) returning NULL (&quot;</span>,</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                      (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) lb);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(s);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;:%lu)\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)i);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="gc__priv_8h.html#adfd9c45e111e2c9475b244203f04ee6d">GC_debugging_started</a>) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <a class="code" href="dbg__mlc_8c.html#ab70f3f41d0e9255fe75f75bd0db97f97">GC_start_debugging</a>();</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="dbg__mlc_8h.html#a22ca2cd8e0c7f1402a653fd9e42caa74">ADD_CALL_CHAIN</a>(result, ra);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="dbg__mlc_8c.html#a9063de2121f2018f3f53096a10d50555">GC_store_debug_info</a>(result, (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)lb, s, i));</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="preprocessor">#ifdef ATOMIC_UNCOLLECTABLE</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="gc_2include_2gc_8h.html#adb1f52100ee50f39a23fd185b8a1df88">GC_debug_malloc_atomic_uncollectable</a>(<span class="keywordtype">size_t</span> lb,</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                                                             <a class="code" href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a>)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordtype">void</span> * result =</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        <a class="code" href="gc_2include_2gc_8h.html#a66744f4c78d0a8054573f5fa7617c840">GC_malloc_atomic_uncollectable</a>(lb + <a class="code" href="dbg__mlc_8h.html#a52afd7403b7736c0db2d6c4527c1b08a">UNCOLLECTABLE_DEBUG_BYTES</a>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">if</span> (result == 0) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                <span class="stringliteral">&quot;GC_debug_malloc_atomic_uncollectable(%lu) returning NULL (&quot;</span>,</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) lb);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <a class="code" href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a>(s);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;:%lu)\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)i);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="gc__priv_8h.html#adfd9c45e111e2c9475b244203f04ee6d">GC_debugging_started</a>) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <a class="code" href="dbg__mlc_8c.html#ab70f3f41d0e9255fe75f75bd0db97f97">GC_start_debugging</a>();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <a class="code" href="dbg__mlc_8h.html#a22ca2cd8e0c7f1402a653fd9e42caa74">ADD_CALL_CHAIN</a>(result, ra);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="dbg__mlc_8c.html#a9063de2121f2018f3f53096a10d50555">GC_store_debug_info</a>(result, (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a>)lb, s, i));</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  }</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ATOMIC_UNCOLLECTABLE */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="preprocessor">#ifndef GC_FREED_MEM_MARKER</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="preprocessor"># if CPP_WORDSZ == 32</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="preprocessor">#   define GC_FREED_MEM_MARKER 0xdeadbeef</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="preprocessor"># else</span></div>
<div class="line"><a name="l00748"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#a212a7a1aae8afd0923c850024ec3788a">  748</a></span>&#160;<span class="preprocessor">#   define GC_FREED_MEM_MARKER GC_WORD_C(0xEFBEADDEdeadbeef)</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="preprocessor"># endif</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div>
<div class="line"><a name="l00752"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#ad830840174f5bcdfa0c49e2d6f8c47fd">  752</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="dbg__mlc_8c.html#aa761bb0d2afe59510c750450eca94167">GC_debug_free</a>(<span class="keywordtype">void</span> * p)</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;{</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> base;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">if</span> (0 == p) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    base = <a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(p);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> (base == 0) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;Attempt to free invalid pointer %p\n&quot;</span>, p);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Invalid pointer passed to free()&quot;</span>);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)p - (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)base != <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>)) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;               <span class="stringliteral">&quot;GC_debug_free called on pointer %p w/o debugging info\n&quot;</span>, p);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="preprocessor">#     ifndef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> clobbered = <a class="code" href="dbg__mlc_8c.html#ad714e5613bb976a1ed8ecd23f05f8b8b">GC_check_annotated_obj</a>((<a class="code" href="structoh.html">oh</a> *)base);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> sz = <a class="code" href="gc_2include_2gc_8h.html#a499ad7765a60a7307ef93fddda6201a9">GC_size</a>(base);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <span class="keywordflow">if</span> (clobbered != 0) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;          <a class="code" href="gc__priv_8h.html#ae74ed6424d0071286074bbacf58e4f00">GC_have_errors</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;          <span class="keywordflow">if</span> (((<a class="code" href="structoh.html">oh</a> *)base) -&gt; oh_sz == sz) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            <a class="code" href="dbg__mlc_8c.html#a33334d156baa8d766e10131e835a46cc">GC_print_smashed_obj</a>(</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                  <span class="stringliteral">&quot;GC_debug_free: found previously deallocated (?) object at&quot;</span>,</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                  p, clobbered);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            <span class="keywordflow">return</span>; <span class="comment">/* ignore double free */</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            <a class="code" href="dbg__mlc_8c.html#a33334d156baa8d766e10131e835a46cc">GC_print_smashed_obj</a>(<span class="stringliteral">&quot;GC_debug_free: found smashed location at&quot;</span>,</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                                 p, clobbered);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;          }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="comment">/* Invalidate size (mark the object as deallocated) */</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        ((<a class="code" href="structoh.html">oh</a> *)base) -&gt; oh_sz = sz;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="preprocessor">#     endif </span><span class="comment">/* SHORT_DBG_HDRS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gc_2include_2gc_8h.html#aa13c04154a58a6ba59f090c230300fc0">GC_find_leak</a></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;#       ifndef SHORT_DBG_HDRS</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;          &amp;&amp; ((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)p - (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)base != <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>) || !<a class="code" href="gc__priv_8h.html#a5e523e362f7a1d95a0554c8c4b4aab4d">GC_findleak_delay_free</a>)</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;#       endif</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        ) {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <a class="code" href="gc_2include_2gc_8h.html#aef11fb85e24d9cdb7da9ef9df26d45b3">GC_free</a>(base);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      hdr * hhdr = <a class="code" href="gc__hdrs_8h.html#a97a38494e52d432ab6df9704f8e9c7bb">HDR</a>(p);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="keywordflow">if</span> (hhdr -&gt; hb_obj_kind == <a class="code" href="gc__priv_8h.html#a4d3b8fc450503380db0ac78d897086db">UNCOLLECTABLE</a></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;#         ifdef ATOMIC_UNCOLLECTABLE</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            || hhdr -&gt; hb_obj_kind == AUNCOLLECTABLE</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;#         endif</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;          ) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="gc_2include_2gc_8h.html#aef11fb85e24d9cdb7da9ef9df26d45b3">GC_free</a>(base);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="keywordtype">size_t</span> obj_sz = <a class="code" href="gc__priv_8h.html#abf406c74b931297bc770fe06857b29a1">BYTES_TO_WORDS</a>(hhdr -&gt; hb_sz - <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>));</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; obj_sz; ++i)</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;          ((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *)p)[i] = <a class="code" href="dbg__mlc_8c.html#a212a7a1aae8afd0923c850024ec3788a">GC_FREED_MEM_MARKER</a>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>((<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *)p + i == (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *)(base + hhdr -&gt; hb_sz));</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    } <span class="comment">/* !GC_find_leak */</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;}</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="preprocessor">#if defined(THREADS) &amp;&amp; defined(DBG_HDRS_ALL)</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="comment">/* Used internally; we assume it&#39;s called correctly.    */</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <span class="keywordtype">void</span> GC_debug_free_inner(<span class="keywordtype">void</span> * p)</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> base = <a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(p);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)p - (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)base == <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>));</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="preprocessor">#   ifdef LINT2</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">if</span> (!base) <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Invalid GC_debug_free_inner argument&quot;</span>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="preprocessor">#   ifndef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="comment">/* Invalidate size */</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      ((<a class="code" href="structoh.html">oh</a> *)base) -&gt; oh_sz = <a class="code" href="gc_2include_2gc_8h.html#a499ad7765a60a7307ef93fddda6201a9">GC_size</a>(base);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    GC_free_inner(base);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div>
<div class="line"><a name="l00827"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#ac0fc85cd6aabd28cd9483c12d4e8514f">  827</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="dbg__mlc_8c.html#ae214ee6bb66a60ef6761c10cdda9a0bb">GC_debug_realloc</a>(<span class="keywordtype">void</span> * p, <span class="keywordtype">size_t</span> lb, <a class="code" href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a>)</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;{</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordtype">void</span> * base;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordtype">void</span> * result;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    hdr * hhdr;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">if</span> (p == 0)</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      <span class="keywordflow">return</span>(<a class="code" href="dbg__mlc_8c.html#afb8ec003fec230c51afa59db96e84ecb">GC_debug_malloc</a>(lb, <a class="code" href="dbg__mlc_8h.html#a3ce8b7b217e175b253921cddc2cc97ab">OPT_RA</a> s, i));</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    base = <a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(p);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">if</span> (base == 0) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;Attempt to reallocate invalid pointer %p\n&quot;</span>, p);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Invalid pointer passed to realloc()&quot;</span>);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)p - (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)base != <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>)) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;              <span class="stringliteral">&quot;GC_debug_realloc called on pointer %p w/o debugging info\n&quot;</span>, p);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="gc_2include_2gc_8h.html#a757701059a5401d6c166e623c71a1b6c">GC_realloc</a>(p, lb));</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    hhdr = <a class="code" href="gc__hdrs_8h.html#a97a38494e52d432ab6df9704f8e9c7bb">HDR</a>(base);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">switch</span> (hhdr -&gt; hb_obj_kind) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="preprocessor">#    ifdef STUBBORN_ALLOC</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="gc__priv_8h.html#a6cbc641fada959ef499b8e8475ba25dd">STUBBORN</a>:</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        result = <a class="code" href="dbg__mlc_8c.html#a18ad085fc6cd2f12c11d6b0371172165">GC_debug_malloc_stubborn</a>(lb, <a class="code" href="dbg__mlc_8h.html#a3ce8b7b217e175b253921cddc2cc97ab">OPT_RA</a> s, i);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="preprocessor">#    endif</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="gc__priv_8h.html#a1291f416b069313021b519eea62d5bf1">NORMAL</a>:</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        result = <a class="code" href="dbg__mlc_8c.html#afb8ec003fec230c51afa59db96e84ecb">GC_debug_malloc</a>(lb, <a class="code" href="dbg__mlc_8h.html#a3ce8b7b217e175b253921cddc2cc97ab">OPT_RA</a> s, i);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="gc__priv_8h.html#a0a8f64fba436c3448742e4f83fec4c45">PTRFREE</a>:</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        result = <a class="code" href="dbg__mlc_8c.html#adfb41a848c633515a2617e836927c17d">GC_debug_malloc_atomic</a>(lb, <a class="code" href="dbg__mlc_8h.html#a3ce8b7b217e175b253921cddc2cc97ab">OPT_RA</a> s, i);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="gc__priv_8h.html#a4d3b8fc450503380db0ac78d897086db">UNCOLLECTABLE</a>:</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        result = <a class="code" href="dbg__mlc_8c.html#af9f980ce69ac4f0faf93d5086375fc0d">GC_debug_malloc_uncollectable</a>(lb, <a class="code" href="dbg__mlc_8h.html#a3ce8b7b217e175b253921cddc2cc97ab">OPT_RA</a> s, i);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="preprocessor">#    ifdef ATOMIC_UNCOLLECTABLE</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <span class="keywordflow">case</span> AUNCOLLECTABLE:</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        result = <a class="code" href="gc_2include_2gc_8h.html#adb1f52100ee50f39a23fd185b8a1df88">GC_debug_malloc_atomic_uncollectable</a>(lb, <a class="code" href="dbg__mlc_8h.html#a3ce8b7b217e175b253921cddc2cc97ab">OPT_RA</a> s, i);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="preprocessor">#    endif</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        result = NULL; <span class="comment">/* initialized to prevent warning. */</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;GC_debug_realloc: encountered bad kind\n&quot;</span>);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <a class="code" href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a>(<span class="stringliteral">&quot;Bad kind&quot;</span>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> (result != NULL) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="keywordtype">size_t</span> old_sz;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="preprocessor">#     ifdef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        old_sz = <a class="code" href="gc_2include_2gc_8h.html#a499ad7765a60a7307ef93fddda6201a9">GC_size</a>(base) - <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="preprocessor">#     else</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        old_sz = ((<a class="code" href="structoh.html">oh</a> *)base) -&gt; oh_sz;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="preprocessor">#     endif</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      <a class="code" href="gc__priv_8h.html#a9aa4a58c5343499b7caadb392721e5b5">BCOPY</a>(p, result, old_sz &lt; lb ? old_sz : lb);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;      <a class="code" href="dbg__mlc_8c.html#aa761bb0d2afe59510c750450eca94167">GC_debug_free</a>(p);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">return</span>(result);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;}</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="preprocessor">#ifndef SHORT_DBG_HDRS</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">/* List of smashed (clobbered) locations.  We defer printing these,     */</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">/* since we can&#39;t always print them nicely with the allocation lock     */</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment">/* held.  We put them here instead of in GC_arrays, since it may be     */</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">/* useful to be able to look at them with the debugger.                 */</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="preprocessor">#ifndef MAX_SMASHED</span></div>
<div class="line"><a name="l00892"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#ab007e55541f4df2438c0a37b76152294">  892</a></span>&#160;<span class="preprocessor"># define MAX_SMASHED 20</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00894"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#af3c3bc765f6596c2da3d7eaee6dc7156">  894</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> <a class="code" href="dbg__mlc_8c.html#af3c3bc765f6596c2da3d7eaee6dc7156">GC_smashed</a>[<a class="code" href="dbg__mlc_8c.html#ab007e55541f4df2438c0a37b76152294">MAX_SMASHED</a>] = {0};</div>
<div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#aece80f7d71755554cdf34942d5392b50">  895</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">unsigned</span> <a class="code" href="dbg__mlc_8c.html#aece80f7d71755554cdf34942d5392b50">GC_n_smashed</a> = 0;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div>
<div class="line"><a name="l00897"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#a25d9083b1d677389672528b7e55c0ce6">  897</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="dbg__mlc_8c.html#a25d9083b1d677389672528b7e55c0ce6">GC_add_smashed</a>(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> smashed)</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;{</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(<a class="code" href="gc__priv_8h.html#acd61070bde5ffc7ab1df410140aa4514">GC_is_marked</a>(<a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(smashed)));</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="comment">/* FIXME: Prevent adding an object while printing smashed list.     */</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    GC_smashed[<a class="code" href="dbg__mlc_8c.html#aece80f7d71755554cdf34942d5392b50">GC_n_smashed</a>] = smashed;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keywordflow">if</span> (GC_n_smashed &lt; <a class="code" href="dbg__mlc_8c.html#ab007e55541f4df2438c0a37b76152294">MAX_SMASHED</a> - 1) ++<a class="code" href="dbg__mlc_8c.html#aece80f7d71755554cdf34942d5392b50">GC_n_smashed</a>;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="comment">/* In case of overflow, we keep the first MAX_SMASHED-1   */</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      <span class="comment">/* entries plus the last one.                             */</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="gc__priv_8h.html#ae74ed6424d0071286074bbacf58e4f00">GC_have_errors</a> = <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;}</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">/* Print all objects on the list.  Clear the list.      */</span></div>
<div class="line"><a name="l00909"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#adb3b437256974a46b9a6a7463f30bd56">  909</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="dbg__mlc_8c.html#adb3b437256974a46b9a6a7463f30bd56">GC_print_all_smashed_proc</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;{</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordtype">unsigned</span> i;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <a class="code" href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a>(<a class="code" href="gc__locks_8h.html#a591dbb16071af0ea0177f1c7509e8aea">I_DONT_HOLD_LOCK</a>());</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">if</span> (GC_n_smashed == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;GC_check_heap_block: found smashed heap objects:\n&quot;</span>);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="dbg__mlc_8c.html#aece80f7d71755554cdf34942d5392b50">GC_n_smashed</a>; ++i) {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <a class="code" href="dbg__mlc_8c.html#a33334d156baa8d766e10131e835a46cc">GC_print_smashed_obj</a>(<span class="stringliteral">&quot;&quot;</span>, (<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)<a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(GC_smashed[i]) + <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>),</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                             GC_smashed[i]);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        GC_smashed[i] = 0;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    GC_n_smashed = 0;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;}</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">/* Check all marked objects in the given block for validity     */</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">/* Avoid GC_apply_to_each_object for performance reasons.       */</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">/*ARGSUSED*/</span></div>
<div class="line"><a name="l00928"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#a6ee30af73c04023537677e4f77063b15">  928</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="dbg__mlc_8c.html#a6ee30af73c04023537677e4f77063b15">GC_check_heap_block</a>(<span class="keyword">struct</span> <a class="code" href="structhblk.html">hblk</a> *hbp, <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> dummy)</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;{</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhblkhdr.html">hblkhdr</a> * hhdr = <a class="code" href="gc__hdrs_8h.html#a97a38494e52d432ab6df9704f8e9c7bb">HDR</a>(hbp);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordtype">size_t</span> sz = hhdr -&gt; <a class="code" href="structhblkhdr.html#afc76e9581c538c71bd9b539e130c3331">hb_sz</a>;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordtype">size_t</span> bit_no;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordtype">char</span> *p, *plim;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    p = hbp-&gt;<a class="code" href="structhblk.html#abdbe70e316cf0f4235d27374855c30b7">hb_body</a>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> (sz &gt; <a class="code" href="gc__priv_8h.html#a4bbcc2c493efc890077484da2bdaed3e">MAXOBJBYTES</a>) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      plim = p;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      plim = hbp-&gt;<a class="code" href="structhblk.html#abdbe70e316cf0f4235d27374855c30b7">hb_body</a> + <a class="code" href="gc__priv_8h.html#a47a92e637e9159058c2f71d7c3999504">HBLKSIZE</a> - sz;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="comment">/* go through all words in block */</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">for</span> (bit_no = 0; p &lt;= plim; bit_no += <a class="code" href="gc__priv_8h.html#a15d35559da7372da5be0da9ad6ae1ef6">MARK_BIT_OFFSET</a>(sz), p += sz) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="gc__priv_8h.html#af61cd0783d222bbf0ad9a6b239054a3a">mark_bit_from_hdr</a>(hhdr, bit_no) &amp;&amp; <a class="code" href="dbg__mlc_8h.html#a836ef8044b82c7085862fa68fa806515">GC_HAS_DEBUG_INFO</a>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)p)) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> clobbered = <a class="code" href="dbg__mlc_8c.html#ad714e5613bb976a1ed8ecd23f05f8b8b">GC_check_annotated_obj</a>((<a class="code" href="structoh.html">oh</a> *)p);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">if</span> (clobbered != 0)</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;          <a class="code" href="dbg__mlc_8c.html#a25d9083b1d677389672528b7e55c0ce6">GC_add_smashed</a>(clobbered);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;}</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment">/* This assumes that all accessible objects are marked, and that        */</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">/* I hold the allocation lock.  Normally called by collector.           */</span></div>
<div class="line"><a name="l00953"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#ac422a24ebb4519fa334d8ebadd453d75">  953</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> <a class="code" href="dbg__mlc_8c.html#ac422a24ebb4519fa334d8ebadd453d75">GC_check_heap_proc</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;{</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <a class="code" href="gc__priv_8h.html#a3d02a54858f5498d3906e587bcce1a21">GC_STATIC_ASSERT</a>((<span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>) &amp; (<a class="code" href="gc__priv_8h.html#a2dcb49850010e342d65046f36f4b2c2a">GRANULE_BYTES</a> - 1)) == 0);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="comment">/* FIXME: Should we check for twice that alignment?   */</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <a class="code" href="headers_8c.html#a48a8aa76f61165c1116bb7a3a52d9ac5">GC_apply_to_all_blocks</a>(<a class="code" href="dbg__mlc_8c.html#a6ee30af73c04023537677e4f77063b15">GC_check_heap_block</a>, 0);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;}</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div>
<div class="line"><a name="l00960"></a><span class="lineno"><a class="line" href="gc__priv_8h.html#a4985b7b1cc5846b5fc372ada1a410071">  960</a></span>&#160;<a class="code" href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a> <a class="code" href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a> <a class="code" href="dbg__mlc_8c.html#a4985b7b1cc5846b5fc372ada1a410071">GC_check_leaked</a>(<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> base)</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;{</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordtype">size_t</span> obj_sz;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *p;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordflow">if</span> (</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;#     <span class="keywordflow">if</span> defined(KEEP_BACK_PTRS) || defined(MAKE_BACK_GRAPH)</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        (*(<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *)base &amp; 1) != 0 &amp;&amp;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;#     endif</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <a class="code" href="dbg__mlc_8c.html#a1e8d4ec327bfee97d5936431e51c3ef6">GC_has_other_debug_info</a>(base) &gt;= 0)</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>; <span class="comment">/* object has leaked */</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="comment">/* Validate freed object&#39;s content. */</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  p = (<a class="code" href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a> *)(base + <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>));</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  obj_sz = <a class="code" href="gc__priv_8h.html#abf406c74b931297bc770fe06857b29a1">BYTES_TO_WORDS</a>(<a class="code" href="gc__hdrs_8h.html#a97a38494e52d432ab6df9704f8e9c7bb">HDR</a>(base)-&gt;<a class="code" href="structhblkhdr.html#afc76e9581c538c71bd9b539e130c3331">hb_sz</a> - <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>));</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; obj_sz; ++i)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">if</span> (p[i] != <a class="code" href="dbg__mlc_8c.html#a212a7a1aae8afd0923c850024ec3788a">GC_FREED_MEM_MARKER</a>) {</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <a class="code" href="gc__priv_8h.html#a00ea68d1c7f466442a29bfd963b12f86">GC_set_mark_bit</a>(base); <span class="comment">/* do not reclaim it in this cycle */</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <a class="code" href="dbg__mlc_8c.html#a25d9083b1d677389672528b7e55c0ce6">GC_add_smashed</a>((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)(&amp;p[i])); <span class="comment">/* alter-after-free detected */</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <span class="keywordflow">break</span>; <span class="comment">/* don&#39;t report any other smashed locations in the object */</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">/* GC_debug_free() has been called */</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;}</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !SHORT_DBG_HDRS */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div>
<div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="structclosure.html">  988</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structclosure.html">closure</a> {</div>
<div class="line"><a name="l00989"></a><span class="lineno"><a class="line" href="structclosure.html#a1c5a888fe38191f2bdbb713460f28ec9">  989</a></span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> <a class="code" href="structclosure.html#a1c5a888fe38191f2bdbb713460f28ec9">cl_fn</a>;</div>
<div class="line"><a name="l00990"></a><span class="lineno"><a class="line" href="structclosure.html#aba17f167ae3db632c50855c9933f4308">  990</a></span>&#160;    <span class="keywordtype">void</span> * <a class="code" href="structclosure.html#aba17f167ae3db632c50855c9933f4308">cl_data</a>;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;};</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div>
<div class="line"><a name="l00993"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#a0d909b267b7ff2bdf81d95a1d81e508e">  993</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> * <a class="code" href="dbg__mlc_8c.html#a0d909b267b7ff2bdf81d95a1d81e508e">GC_make_closure</a>(<a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> fn, <span class="keywordtype">void</span> * data)</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;{</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keyword">struct </span><a class="code" href="structclosure.html">closure</a> * result =</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="preprocessor">#   ifdef DBG_HDRS_ALL</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      (<span class="keyword">struct </span><a class="code" href="structclosure.html">closure</a> *) <a class="code" href="dbg__mlc_8c.html#afb8ec003fec230c51afa59db96e84ecb">GC_debug_malloc</a>(<span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structclosure.html">closure</a>),</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                                         <a class="code" href="gc_2include_2gc_8h.html#afff34fde28aa7dbf54c4d991c95a1f6d">GC_EXTRAS</a>);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="preprocessor">#   else</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      (<span class="keyword">struct </span><a class="code" href="structclosure.html">closure</a> *) <a class="code" href="gc_2include_2gc_8h.html#acdf040af35f59696a2d0ee945aac622f">GC_malloc</a>(<span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code" href="structclosure.html">closure</a>));</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">if</span> (result != 0) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      result -&gt; <a class="code" href="structclosure.html#a1c5a888fe38191f2bdbb713460f28ec9">cl_fn</a> = fn;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      result -&gt; <a class="code" href="structclosure.html#aba17f167ae3db632c50855c9933f4308">cl_data</a> = data;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">return</span>((<span class="keywordtype">void</span> *)result);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;}</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">/* An auxiliary fns to make finalization work correctly with displaced  */</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">/* pointers introduced by the debugging allocators.                     */</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#a11f94446abf1541b64505377a6d3b934"> 1011</a></span>&#160;<a class="code" href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a> <span class="keywordtype">void</span> GC_CALLBACK <a class="code" href="dbg__mlc_8c.html#a11f94446abf1541b64505377a6d3b934">GC_debug_invoke_finalizer</a>(<span class="keywordtype">void</span> * obj, <span class="keywordtype">void</span> * data)</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;{</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keyword">struct </span><a class="code" href="structclosure.html">closure</a> * cl = (<span class="keyword">struct </span><a class="code" href="structclosure.html">closure</a> *) data;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    (*(cl -&gt; <a class="code" href="structclosure.html#a1c5a888fe38191f2bdbb713460f28ec9">cl_fn</a>))((<span class="keywordtype">void</span> *)((<span class="keywordtype">char</span> *)obj + <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>)), cl -&gt; <a class="code" href="structclosure.html#aba17f167ae3db632c50855c9933f4308">cl_data</a>);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;}</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment">/* Special finalizer_proc value to detect GC_register_finalizer() failure. */</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"><a class="line" href="dbg__mlc_8c.html#a9b85a9fb03b84c0c6656074875115911"> 1018</a></span>&#160;<span class="preprocessor">#define OFN_UNSET (GC_finalization_proc)(signed_word)-1</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">/* Set ofn and ocd to reflect the values we got back.   */</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> store_old(<span class="keywordtype">void</span> *obj, <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> my_old_fn,</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                      <span class="keyword">struct</span> <a class="code" href="structclosure.html">closure</a> *my_old_cd, <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> *ofn,</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                      <span class="keywordtype">void</span> **ocd)</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;{</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">if</span> (0 != my_old_fn) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      <span class="keywordflow">if</span> (my_old_fn == <a class="code" href="dbg__mlc_8c.html#a9b85a9fb03b84c0c6656074875115911">OFN_UNSET</a>) {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="comment">/* register_finalizer() failed; (*ofn) and (*ocd) are unchanged. */</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      }</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <span class="keywordflow">if</span> (my_old_fn != <a class="code" href="dbg__mlc_8c.html#a11f94446abf1541b64505377a6d3b934">GC_debug_invoke_finalizer</a>) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(<span class="stringliteral">&quot;Debuggable object at %p had a non-debug finalizer\n&quot;</span>,</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                      obj);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <span class="comment">/* This should probably be fatal. */</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordflow">if</span> (ofn) *ofn = my_old_cd -&gt; <a class="code" href="structclosure.html#a1c5a888fe38191f2bdbb713460f28ec9">cl_fn</a>;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="keywordflow">if</span> (ocd) *ocd = my_old_cd -&gt; <a class="code" href="structclosure.html#aba17f167ae3db632c50855c9933f4308">cl_data</a>;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      <span class="keywordflow">if</span> (ofn) *ofn = 0;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      <span class="keywordflow">if</span> (ocd) *ocd = 0;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    }</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;}</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div>
<div class="line"><a name="l01044"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#a5760294c548394034af973eeed4ab7d3"> 1044</a></span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="dbg__mlc_8c.html#a05c19f2bece8b471d57f63edf7e35bb8">GC_debug_register_finalizer</a>(<span class="keywordtype">void</span> * obj,</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                                        <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> fn,</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                                        <span class="keywordtype">void</span> * cd, <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> *ofn,</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                                        <span class="keywordtype">void</span> * *ocd)</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;{</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> my_old_fn = <a class="code" href="dbg__mlc_8c.html#a9b85a9fb03b84c0c6656074875115911">OFN_UNSET</a>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordtype">void</span> * my_old_cd;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> base = <a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(obj);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">if</span> (0 == base) {</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <span class="comment">/* We won&#39;t collect it, hence finalizer wouldn&#39;t be run. */</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="keywordflow">if</span> (ocd) *ocd = 0;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keywordflow">if</span> (ofn) *ofn = 0;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)obj - base != <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>)) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <span class="stringliteral">&quot;GC_debug_register_finalizer called with non-base-pointer %p\n&quot;</span>,</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            obj);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">if</span> (0 == fn) {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      <a class="code" href="finalize_8c.html#a677e51bf0dea27f0ff0c2828c21fbea1">GC_register_finalizer</a>(base, 0, 0, &amp;my_old_fn, &amp;my_old_cd);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      cd = <a class="code" href="dbg__mlc_8c.html#a0d909b267b7ff2bdf81d95a1d81e508e">GC_make_closure</a>(fn, cd);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      <span class="keywordflow">if</span> (cd == 0) <span class="keywordflow">return</span>; <span class="comment">/* out of memory */</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <a class="code" href="finalize_8c.html#a677e51bf0dea27f0ff0c2828c21fbea1">GC_register_finalizer</a>(base, <a class="code" href="dbg__mlc_8c.html#a11f94446abf1541b64505377a6d3b934">GC_debug_invoke_finalizer</a>,</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                            cd, &amp;my_old_fn, &amp;my_old_cd);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    store_old(obj, my_old_fn, (<span class="keyword">struct</span> <a class="code" href="structclosure.html">closure</a> *)my_old_cd, ofn, ocd);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;}</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="dbg__mlc_8c.html#aa5cca2155708f9de501d8e7d926fbac0">GC_debug_register_finalizer_no_order</a></div>
<div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#a3882e78b31bf438b629f8169927c47d4"> 1075</a></span>&#160;                                    (<span class="keywordtype">void</span> * obj, <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> fn,</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                                     <span class="keywordtype">void</span> * cd, <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> *ofn,</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                                     <span class="keywordtype">void</span> * *ocd)</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;{</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> my_old_fn = <a class="code" href="dbg__mlc_8c.html#a9b85a9fb03b84c0c6656074875115911">OFN_UNSET</a>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordtype">void</span> * my_old_cd;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> base = <a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(obj);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keywordflow">if</span> (0 == base) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <span class="comment">/* We won&#39;t collect it, hence finalizer wouldn&#39;t be run. */</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="keywordflow">if</span> (ocd) *ocd = 0;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="keywordflow">if</span> (ofn) *ofn = 0;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)obj - base != <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>)) {</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;          <span class="stringliteral">&quot;GC_debug_register_finalizer_no_order called with &quot;</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;          <span class="stringliteral">&quot;non-base-pointer %p\n&quot;</span>,</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;          obj);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">if</span> (0 == fn) {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <a class="code" href="finalize_8c.html#a28647f10185365f32bc3843e13b347c0">GC_register_finalizer_no_order</a>(base, 0, 0, &amp;my_old_fn, &amp;my_old_cd);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      cd = <a class="code" href="dbg__mlc_8c.html#a0d909b267b7ff2bdf81d95a1d81e508e">GC_make_closure</a>(fn, cd);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <span class="keywordflow">if</span> (cd == 0) <span class="keywordflow">return</span>; <span class="comment">/* out of memory */</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <a class="code" href="finalize_8c.html#a28647f10185365f32bc3843e13b347c0">GC_register_finalizer_no_order</a>(base, <a class="code" href="dbg__mlc_8c.html#a11f94446abf1541b64505377a6d3b934">GC_debug_invoke_finalizer</a>,</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                                     cd, &amp;my_old_fn, &amp;my_old_cd);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    }</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    store_old(obj, my_old_fn, (<span class="keyword">struct</span> <a class="code" href="structclosure.html">closure</a> *)my_old_cd, ofn, ocd);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;}</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="dbg__mlc_8c.html#a3752b9febc0c3bcca5dea7929f26bc11">GC_debug_register_finalizer_unreachable</a></div>
<div class="line"><a name="l01106"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#a6b28fd527ccdc58c082c8bdeafcaca1d"> 1106</a></span>&#160;                                    (<span class="keywordtype">void</span> * obj, <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> fn,</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                                     <span class="keywordtype">void</span> * cd, <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> *ofn,</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                                     <span class="keywordtype">void</span> * *ocd)</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;{</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> my_old_fn = <a class="code" href="dbg__mlc_8c.html#a9b85a9fb03b84c0c6656074875115911">OFN_UNSET</a>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordtype">void</span> * my_old_cd;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> base = <a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(obj);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">if</span> (0 == base) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="comment">/* We won&#39;t collect it, hence finalizer wouldn&#39;t be run. */</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <span class="keywordflow">if</span> (ocd) *ocd = 0;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="keywordflow">if</span> (ofn) *ofn = 0;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    }</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)obj - base != <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>)) {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            <span class="stringliteral">&quot;GC_debug_register_finalizer_unreachable called with &quot;</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            <span class="stringliteral">&quot;non-base-pointer %p\n&quot;</span>,</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            obj);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    }</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">if</span> (0 == fn) {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      <a class="code" href="finalize_8c.html#a75f552b4d91d9a9c244495e5bd77134f">GC_register_finalizer_unreachable</a>(base, 0, 0, &amp;my_old_fn, &amp;my_old_cd);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      cd = <a class="code" href="dbg__mlc_8c.html#a0d909b267b7ff2bdf81d95a1d81e508e">GC_make_closure</a>(fn, cd);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      <span class="keywordflow">if</span> (cd == 0) <span class="keywordflow">return</span>; <span class="comment">/* out of memory */</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <a class="code" href="finalize_8c.html#a75f552b4d91d9a9c244495e5bd77134f">GC_register_finalizer_unreachable</a>(base, <a class="code" href="dbg__mlc_8c.html#a11f94446abf1541b64505377a6d3b934">GC_debug_invoke_finalizer</a>,</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                                        cd, &amp;my_old_fn, &amp;my_old_cd);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    store_old(obj, my_old_fn, (<span class="keyword">struct</span> <a class="code" href="structclosure.html">closure</a> *)my_old_cd, ofn, ocd);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;}</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;GC_API <span class="keywordtype">void</span> GC_CALL <a class="code" href="dbg__mlc_8c.html#a5a048dc2f5e9e5476cc73c6d02f12ee0">GC_debug_register_finalizer_ignore_self</a></div>
<div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#a384543f1009cd85349d8e15095484cfc"> 1137</a></span>&#160;                                    (<span class="keywordtype">void</span> * obj, <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> fn,</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                                     <span class="keywordtype">void</span> * cd, <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> *ofn,</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                                     <span class="keywordtype">void</span> * *ocd)</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;{</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <a class="code" href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a> my_old_fn = <a class="code" href="dbg__mlc_8c.html#a9b85a9fb03b84c0c6656074875115911">OFN_UNSET</a>;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordtype">void</span> * my_old_cd;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a> base = <a class="code" href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a>(obj);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordflow">if</span> (0 == base) {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="comment">/* We won&#39;t collect it, hence finalizer wouldn&#39;t be run. */</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="keywordflow">if</span> (ocd) *ocd = 0;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="keywordflow">if</span> (ofn) *ofn = 0;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a>)obj - base != <span class="keyword">sizeof</span>(<a class="code" href="structoh.html">oh</a>)) {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <a class="code" href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a>(</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            <span class="stringliteral">&quot;GC_debug_register_finalizer_ignore_self called with &quot;</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            <span class="stringliteral">&quot;non-base-pointer %p\n&quot;</span>, obj);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">if</span> (0 == fn) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      <a class="code" href="finalize_8c.html#a8e941f295c39454e8adf37c19a9e52ea">GC_register_finalizer_ignore_self</a>(base, 0, 0, &amp;my_old_fn, &amp;my_old_cd);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      cd = <a class="code" href="dbg__mlc_8c.html#a0d909b267b7ff2bdf81d95a1d81e508e">GC_make_closure</a>(fn, cd);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;      <span class="keywordflow">if</span> (cd == 0) <span class="keywordflow">return</span>; <span class="comment">/* out of memory */</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <a class="code" href="finalize_8c.html#a8e941f295c39454e8adf37c19a9e52ea">GC_register_finalizer_ignore_self</a>(base, <a class="code" href="dbg__mlc_8c.html#a11f94446abf1541b64505377a6d3b934">GC_debug_invoke_finalizer</a>,</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                                        cd, &amp;my_old_fn, &amp;my_old_cd);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    store_old(obj, my_old_fn, (<span class="keyword">struct</span> <a class="code" href="structclosure.html">closure</a> *)my_old_cd, ofn, ocd);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;}</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div>
<div class="line"><a name="l01166"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#aa5f1355dde86bafcb4610f5b5e1ede70"> 1166</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="dbg__mlc_8c.html#ab11878b8fb90c8b2eb77c496f1b94620">GC_debug_malloc_replacement</a>(<span class="keywordtype">size_t</span> lb)</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;{</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dbg__mlc_8c.html#afb8ec003fec230c51afa59db96e84ecb">GC_debug_malloc</a>(lb, <a class="code" href="gc__priv_8h.html#afd07ee9c79f3f6116c68f68ac497559c">GC_DBG_RA</a> <span class="stringliteral">&quot;unknown&quot;</span>, 0);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;}</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div>
<div class="line"><a name="l01171"></a><span class="lineno"><a class="line" href="gc_2include_2gc_8h.html#a25ca94661cc879ab9b03068a785e6d0e"> 1171</a></span>&#160;GC_API <span class="keywordtype">void</span> * GC_CALL <a class="code" href="dbg__mlc_8c.html#a92bfe9ab938a109d9444b1f1a896b763">GC_debug_realloc_replacement</a>(<span class="keywordtype">void</span> *p, <span class="keywordtype">size_t</span> lb)</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;{</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dbg__mlc_8c.html#ae214ee6bb66a60ef6761c10cdda9a0bb">GC_debug_realloc</a>(p, lb, <a class="code" href="gc__priv_8h.html#afd07ee9c79f3f6116c68f68ac497559c">GC_DBG_RA</a> <span class="stringliteral">&quot;unknown&quot;</span>, 0);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;}</div>
<div class="ttc" id="gc__backptr_8h_html_a6649ddafb3f14bb69a5cec1a3dbb9ec0a1f435bb321e7d472c1ca2c0d799e82bd"><div class="ttname"><a href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0a1f435bb321e7d472c1ca2c0d799e82bd">GC_REFD_FROM_HEAP</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__backptr_8h_source.html#l00066">gc_backptr.h:66</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a3d02a54858f5498d3906e587bcce1a21"><div class="ttname"><a href="gc__priv_8h.html#a3d02a54858f5498d3906e587bcce1a21">GC_STATIC_ASSERT</a></div><div class="ttdeci">#define GC_STATIC_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l02153">gc_priv.h:2153</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_ab439114e56164099fe931456f14b590d"><div class="ttname"><a href="dbg__mlc_8c.html#ab439114e56164099fe931456f14b590d">GC_print_obj</a></div><div class="ttdeci">STATIC void GC_print_obj(ptr_t p)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00367">dbg_mlc.c:367</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a66744f4c78d0a8054573f5fa7617c840"><div class="ttname"><a href="gc_2include_2gc_8h.html#a66744f4c78d0a8054573f5fa7617c840">GC_malloc_atomic_uncollectable</a></div><div class="ttdeci">GC_API void *GC_CALL GC_malloc_atomic_uncollectable(size_t) GC_ATTR_MALLOC GC_ATTR_ALLOC_SIZE(1)</div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_ad7eb1d334d2776844cf89e570cbe1f15"><div class="ttname"><a href="gc_2include_2gc_8h.html#ad7eb1d334d2776844cf89e570cbe1f15">GC_change_stubborn</a></div><div class="ttdeci">GC_API void GC_CALL GC_change_stubborn(void *)</div><div class="ttdef"><b>Definition:</b> <a href="stubborn_8c_source.html#l00055">stubborn.c:55</a></div></div>
<div class="ttc" id="structclosure_html_aba17f167ae3db632c50855c9933f4308"><div class="ttname"><a href="structclosure.html#aba17f167ae3db632c50855c9933f4308">closure::cl_data</a></div><div class="ttdeci">void * cl_data</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00990">dbg_mlc.c:990</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a40ecf90a9e590cf90654314f4f4015f8"><div class="ttname"><a href="dbg__mlc_8c.html#a40ecf90a9e590cf90654314f4f4015f8">GC_store_debug_info_inner</a></div><div class="ttdeci">STATIC ptr_t GC_store_debug_info_inner(ptr_t p, word sz, const char *string, int linenum)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00253">dbg_mlc.c:253</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a6cbc641fada959ef499b8e8475ba25dd"><div class="ttname"><a href="gc__priv_8h.html#a6cbc641fada959ef499b8e8475ba25dd">STUBBORN</a></div><div class="ttdeci">#define STUBBORN</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01251">gc_priv.h:1251</a></div></div>
<div class="ttc" id="structclosure_html"><div class="ttname"><a href="structclosure.html">closure</a></div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00988">dbg_mlc.c:988</a></div></div>
<div class="ttc" id="gc__priv_8h_html_afd07ee9c79f3f6116c68f68ac497559c"><div class="ttname"><a href="gc__priv_8h.html#afd07ee9c79f3f6116c68f68ac497559c">GC_DBG_RA</a></div><div class="ttdeci">#define GC_DBG_RA</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01720">gc_priv.h:1720</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a7c932866758cf3cddd8f900365b0d6b1"><div class="ttname"><a href="gc_2include_2gc_8h.html#a7c932866758cf3cddd8f900365b0d6b1">GC_finalization_proc</a></div><div class="ttdeci">void(GC_CALLBACK * GC_finalization_proc)(void *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l00802">gc.h:802</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_aa13c04154a58a6ba59f090c230300fc0"><div class="ttname"><a href="gc_2include_2gc_8h.html#aa13c04154a58a6ba59f090c230300fc0">GC_find_leak</a></div><div class="ttdeci">GC_API int GC_find_leak</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l00117">gc.h:117</a></div></div>
<div class="ttc" id="dbg__mlc_8h_html_a22ca2cd8e0c7f1402a653fd9e42caa74"><div class="ttname"><a href="dbg__mlc_8h.html#a22ca2cd8e0c7f1402a653fd9e42caa74">ADD_CALL_CHAIN</a></div><div class="ttdeci">#define ADD_CALL_CHAIN(base, ra)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8h_source.html#l00140">dbg_mlc.h:140</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a3752b9febc0c3bcca5dea7929f26bc11"><div class="ttname"><a href="dbg__mlc_8c.html#a3752b9febc0c3bcca5dea7929f26bc11">GC_debug_register_finalizer_unreachable</a></div><div class="ttdeci">GC_API void GC_CALL GC_debug_register_finalizer_unreachable(void *obj, GC_finalization_proc fn, void *cd, GC_finalization_proc *ofn, void **ocd)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l01106">dbg_mlc.c:1106</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a2dcb49850010e342d65046f36f4b2c2a"><div class="ttname"><a href="gc__priv_8h.html#a2dcb49850010e342d65046f36f4b2c2a">GRANULE_BYTES</a></div><div class="ttdeci">#define GRANULE_BYTES</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00580">gc_priv.h:580</a></div></div>
<div class="ttc" id="dbg__mlc_8h_html_a9eb1e97a32626ed124aa8d38e1258877"><div class="ttname"><a href="dbg__mlc_8h.html#a9eb1e97a32626ed124aa8d38e1258877">SIMPLE_ROUNDED_UP_WORDS</a></div><div class="ttdeci">#define SIMPLE_ROUNDED_UP_WORDS(n)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8h_source.html#l00121">dbg_mlc.h:121</a></div></div>
<div class="ttc" id="gc__priv_8h_html_af61cd0783d222bbf0ad9a6b239054a3a"><div class="ttname"><a href="gc__priv_8h.html#af61cd0783d222bbf0ad9a6b239054a3a">mark_bit_from_hdr</a></div><div class="ttdeci">#define mark_bit_from_hdr(hhdr, n)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01366">gc_priv.h:1366</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a4d3b8fc450503380db0ac78d897086db"><div class="ttname"><a href="gc__priv_8h.html#a4d3b8fc450503380db0ac78d897086db">UNCOLLECTABLE</a></div><div class="ttdeci">#define UNCOLLECTABLE</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01245">gc_priv.h:1245</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a5e523e362f7a1d95a0554c8c4b4aab4d"><div class="ttname"><a href="gc__priv_8h.html#a5e523e362f7a1d95a0554c8c4b4aab4d">GC_findleak_delay_free</a></div><div class="ttdeci">GC_EXTERN GC_bool GC_findleak_delay_free</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01801">gc_priv.h:1801</a></div></div>
<div class="ttc" id="gc__backptr_8h_html_a6649ddafb3f14bb69a5cec1a3dbb9ec0"><div class="ttname"><a href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0">GC_ref_kind</a></div><div class="ttdeci">GC_ref_kind</div><div class="ttdef"><b>Definition:</b> <a href="gc__backptr_8h_source.html#l00060">gc_backptr.h:60</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_ae05478c793f3ec6a4222979f32cef62d"><div class="ttname"><a href="dbg__mlc_8c.html#ae05478c793f3ec6a4222979f32cef62d">GC_debug_print_heap_obj_proc</a></div><div class="ttdeci">STATIC void GC_debug_print_heap_obj_proc(ptr_t p)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00388">dbg_mlc.c:388</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a4517f7e2967f5acb03ec0f7db14e1052"><div class="ttname"><a href="gc__priv_8h.html#a4517f7e2967f5acb03ec0f7db14e1052">ABORT</a></div><div class="ttdeci">#define ABORT(msg)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00441">gc_priv.h:441</a></div></div>
<div class="ttc" id="gc__backptr_8h_html_a6649ddafb3f14bb69a5cec1a3dbb9ec0aa7eeac745587edd3fb5d590b0a9ee62a"><div class="ttname"><a href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0aa7eeac745587edd3fb5d590b0a9ee62a">GC_FINALIZER_REFD</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__backptr_8h_source.html#l00067">gc_backptr.h:67</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a0a8f64fba436c3448742e4f83fec4c45"><div class="ttname"><a href="gc__priv_8h.html#a0a8f64fba436c3448742e4f83fec4c45">PTRFREE</a></div><div class="ttdeci">#define PTRFREE</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01243">gc_priv.h:1243</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_abe8824d24d1838e290ec10bbda9557df"><div class="ttname"><a href="dbg__mlc_8c.html#abe8824d24d1838e290ec10bbda9557df">CROSSES_HBLK</a></div><div class="ttdeci">#define CROSSES_HBLK(p, sz)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00248">dbg_mlc.c:248</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_ad714e5613bb976a1ed8ecd23f05f8b8b"><div class="ttname"><a href="dbg__mlc_8c.html#ad714e5613bb976a1ed8ecd23f05f8b8b">GC_check_annotated_obj</a></div><div class="ttdeci">STATIC ptr_t GC_check_annotated_obj(oh *ohdr)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00293">dbg_mlc.c:293</a></div></div>
<div class="ttc" id="gc__priv_8h_html_af88bfca208f01c5a5b986b6875d279c5"><div class="ttname"><a href="gc__priv_8h.html#af88bfca208f01c5a5b986b6875d279c5">GC_printf</a></div><div class="ttdeci">GC_API_PRIV void GC_printf(const char *format,...) GC_ATTR_FORMAT_PRINTF(1</div></div>
<div class="ttc" id="dbg__mlc_8c_html_a105bfc046cfc3b7cc619fe8d43db3614"><div class="ttname"><a href="dbg__mlc_8c.html#a105bfc046cfc3b7cc619fe8d43db3614">GC_debug_register_displacement</a></div><div class="ttdeci">GC_API void GC_CALL GC_debug_register_displacement(size_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00452">dbg_mlc.c:452</a></div></div>
<div class="ttc" id="alloc_8c_html_ad5a1cc1b1694e4370eef16ec02100a0a"><div class="ttname"><a href="alloc_8c.html#ad5a1cc1b1694e4370eef16ec02100a0a">GC_try_to_collect</a></div><div class="ttdeci">GC_API int GC_CALL GC_try_to_collect(GC_stop_func stop_func)</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l00997">alloc.c:997</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a4985b7b1cc5846b5fc372ada1a410071"><div class="ttname"><a href="dbg__mlc_8c.html#a4985b7b1cc5846b5fc372ada1a410071">GC_check_leaked</a></div><div class="ttdeci">GC_INNER GC_bool GC_check_leaked(ptr_t base)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00960">dbg_mlc.c:960</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a9aa4a58c5343499b7caadb392721e5b5"><div class="ttname"><a href="gc__priv_8h.html#a9aa4a58c5343499b7caadb392721e5b5">BCOPY</a></div><div class="ttdeci">#define BCOPY(x, y, n)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00387">gc_priv.h:387</a></div></div>
<div class="ttc" id="gc__mark_8h_html_a7ae39a97d9efc5bfef64119cdcf24b86"><div class="ttname"><a href="gc__mark_8h.html#a7ae39a97d9efc5bfef64119cdcf24b86">GC_describe_type_fn</a></div><div class="ttdeci">void(GC_CALLBACK * GC_describe_type_fn)(void *, char *)</div><div class="ttdef"><b>Definition:</b> <a href="gc__mark_8h_source.html#l00189">gc_mark.h:189</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a3d21444e60aac92cff7749851670f5f6"><div class="ttname"><a href="gc_2include_2gc_8h.html#a3d21444e60aac92cff7749851670f5f6">GC_malloc_atomic_ignore_off_page</a></div><div class="ttdeci">GC_API void *GC_CALL GC_malloc_atomic_ignore_off_page(size_t) GC_ATTR_MALLOC GC_ATTR_ALLOC_SIZE(1)</div><div class="ttdef"><b>Definition:</b> <a href="mallocx_8c_source.html#l00226">mallocx.c:226</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_afb8ec003fec230c51afa59db96e84ecb"><div class="ttname"><a href="dbg__mlc_8c.html#afb8ec003fec230c51afa59db96e84ecb">GC_debug_malloc</a></div><div class="ttdeci">GC_API void *GC_CALL GC_debug_malloc(size_t lb, GC_EXTRA_PARAMS)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00458">dbg_mlc.c:458</a></div></div>
<div class="ttc" id="alloc_8c_html_a0138baecb47c524a6b40ae35dce24d05"><div class="ttname"><a href="alloc_8c.html#a0138baecb47c524a6b40ae35dce24d05">GC_check_heap</a></div><div class="ttdeci">GC_INNER void(* GC_check_heap)(void)=0</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l00544">alloc.c:544</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a00ea68d1c7f466442a29bfd963b12f86"><div class="ttname"><a href="gc__priv_8h.html#a00ea68d1c7f466442a29bfd963b12f86">GC_set_mark_bit</a></div><div class="ttdeci">GC_API_PRIV void GC_set_mark_bit(ptr_t p)</div><div class="ttdef"><b>Definition:</b> <a href="mark_8c_source.html#l00190">mark.c:190</a></div></div>
<div class="ttc" id="dbg__mlc_8h_html_a836ef8044b82c7085862fa68fa806515"><div class="ttname"><a href="dbg__mlc_8h.html#a836ef8044b82c7085862fa68fa806515">GC_HAS_DEBUG_INFO</a></div><div class="ttdeci">#define GC_HAS_DEBUG_INFO(p)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8h_source.html#l00163">dbg_mlc.h:163</a></div></div>
<div class="ttc" id="gc__backptr_8h_html_a6649ddafb3f14bb69a5cec1a3dbb9ec0aaeefec622ae166ec7bd0770f341f81ba"><div class="ttname"><a href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0aaeefec622ae166ec7bd0770f341f81ba">GC_REFD_FROM_REG</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__backptr_8h_source.html#l00064">gc_backptr.h:64</a></div></div>
<div class="ttc" id="dbg__mlc_8h_html_a52afd7403b7736c0db2d6c4527c1b08a"><div class="ttname"><a href="dbg__mlc_8h.html#a52afd7403b7736c0db2d6c4527c1b08a">UNCOLLECTABLE_DEBUG_BYTES</a></div><div class="ttdeci">#define UNCOLLECTABLE_DEBUG_BYTES</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8h_source.html#l00116">dbg_mlc.h:116</a></div></div>
<div class="ttc" id="alloc_8c_html_ae8e9329f2e235bafaec1a596db110c4d"><div class="ttname"><a href="alloc_8c.html#ae8e9329f2e235bafaec1a596db110c4d">GC_n_heap_sects</a></div><div class="ttdeci">GC_INNER word GC_n_heap_sects</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l01016">alloc.c:1016</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a515817b1cc28538efe42e953361e6cb1"><div class="ttname"><a href="gc__priv_8h.html#a515817b1cc28538efe42e953361e6cb1">GC_err_printf</a></div><div class="ttdeci">GC_API_PRIV void GC_API_PRIV void GC_err_printf(const char *format,...) GC_ATTR_FORMAT_PRINTF(1</div></div>
<div class="ttc" id="structhblkhdr_html"><div class="ttname"><a href="structhblkhdr.html">hblkhdr</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00787">gc_priv.h:787</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_adfb41a848c633515a2617e836927c17d"><div class="ttname"><a href="dbg__mlc_8c.html#adfb41a848c633515a2617e836927c17d">GC_debug_malloc_atomic</a></div><div class="ttdeci">GC_API void *GC_CALL GC_debug_malloc_atomic(size_t lb, GC_EXTRA_PARAMS)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00620">dbg_mlc.c:620</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a05c19f2bece8b471d57f63edf7e35bb8"><div class="ttname"><a href="dbg__mlc_8c.html#a05c19f2bece8b471d57f63edf7e35bb8">GC_debug_register_finalizer</a></div><div class="ttdeci">GC_API void GC_CALL GC_debug_register_finalizer(void *obj, GC_finalization_proc fn, void *cd, GC_finalization_proc *ofn, void **ocd)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l01044">dbg_mlc.c:1044</a></div></div>
<div class="ttc" id="gc__backptr_8h_html_a6649ddafb3f14bb69a5cec1a3dbb9ec0a539c140af899cd9125d69012333c72d9"><div class="ttname"><a href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0a539c140af899cd9125d69012333c72d9">GC_REFD_FROM_ROOT</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__backptr_8h_source.html#l00063">gc_backptr.h:63</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_af38c827f7ffcce52d427e16e0eb22e93"><div class="ttname"><a href="dbg__mlc_8c.html#af38c827f7ffcce52d427e16e0eb22e93">GC_debug_end_stubborn_change</a></div><div class="ttdeci">GC_API void GC_CALL GC_debug_end_stubborn_change(void *p)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00617">dbg_mlc.c:617</a></div></div>
<div class="ttc" id="gc__mark_8h_html_ad96dadf828206e48a6093cc1959c39e8"><div class="ttname"><a href="gc__mark_8h.html#ad96dadf828206e48a6093cc1959c39e8">GC_TYPE_DESCR_LEN</a></div><div class="ttdeci">#define GC_TYPE_DESCR_LEN</div><div class="ttdef"><b>Definition:</b> <a href="gc__mark_8h_source.html#l00202">gc_mark.h:202</a></div></div>
<div class="ttc" id="dbg__mlc_8h_html"><div class="ttname"><a href="dbg__mlc_8h.html">dbg_mlc.h</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a1291f416b069313021b519eea62d5bf1"><div class="ttname"><a href="gc__priv_8h.html#a1291f416b069313021b519eea62d5bf1">NORMAL</a></div><div class="ttdeci">#define NORMAL</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01244">gc_priv.h:1244</a></div></div>
<div class="ttc" id="gc__backptr_8h_html_a1d6517e661024a0531a120458a888654"><div class="ttname"><a href="gc__backptr_8h.html#a1d6517e661024a0531a120458a888654">GC_generate_random_heap_address</a></div><div class="ttdeci">GC_API void *GC_CALL GC_generate_random_heap_address(void)</div></div>
<div class="ttc" id="gc__priv_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="gc__priv_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00087">gc_priv.h:87</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a4832fe55e4d394b6d44b1701c7f3457f"><div class="ttname"><a href="gc_2include_2gc_8h.html#a4832fe55e4d394b6d44b1701c7f3457f">GC_malloc_ignore_off_page</a></div><div class="ttdeci">GC_API void *GC_CALL GC_malloc_ignore_off_page(size_t) GC_ATTR_MALLOC GC_ATTR_ALLOC_SIZE(1)</div><div class="ttdef"><b>Definition:</b> <a href="mallocx_8c_source.html#l00221">mallocx.c:221</a></div></div>
<div class="ttc" id="mark_8c_html_a3e04a1a93a391d9d04332c9591fe25ba"><div class="ttname"><a href="mark_8c.html#a3e04a1a93a391d9d04332c9591fe25ba">source</a></div><div class="ttdeci">#define source</div></div>
<div class="ttc" id="gcconfig_8h_html_a10b2d890d871e1489bb02b7e70d9bdfb"><div class="ttname"><a href="gcconfig_8h.html#a10b2d890d871e1489bb02b7e70d9bdfb">STATIC</a></div><div class="ttdeci">#define STATIC</div><div class="ttdef"><b>Definition:</b> <a href="gcconfig_8h_source.html#l02507">gcconfig.h:2507</a></div></div>
<div class="ttc" id="gc__backptr_8h_html_abef2ca92d524b451e1cd0866ec5f2f5c"><div class="ttname"><a href="gc__backptr_8h.html#abef2ca92d524b451e1cd0866ec5f2f5c">GC_print_backtrace</a></div><div class="ttdeci">GC_API void GC_CALL GC_print_backtrace(void *)</div></div>
<div class="ttc" id="headers_8c_html_a48a8aa76f61165c1116bb7a3a52d9ac5"><div class="ttname"><a href="headers_8c.html#a48a8aa76f61165c1116bb7a3a52d9ac5">GC_apply_to_all_blocks</a></div><div class="ttdeci">void GC_apply_to_all_blocks(void(*fn)(struct hblk *h, word client_data), word client_data)</div><div class="ttdef"><b>Definition:</b> <a href="headers_8c_source.html#l00314">headers.c:314</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_af8729632cf314d297c9c67072f6b8753"><div class="ttname"><a href="gc_2include_2gc_8h.html#af8729632cf314d297c9c67072f6b8753">GC_EXTRA_PARAMS</a></div><div class="ttdeci">#define GC_EXTRA_PARAMS</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l00646">gc.h:646</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ae74ed6424d0071286074bbacf58e4f00"><div class="ttname"><a href="gc__priv_8h.html#ae74ed6424d0071286074bbacf58e4f00">GC_have_errors</a></div><div class="ttdeci">GC_EXTERN GC_bool GC_have_errors</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01808">gc_priv.h:1808</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_aa761bb0d2afe59510c750450eca94167"><div class="ttname"><a href="dbg__mlc_8c.html#aa761bb0d2afe59510c750450eca94167">GC_debug_free</a></div><div class="ttdeci">GC_API void GC_CALL GC_debug_free(void *p)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00752">dbg_mlc.c:752</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a3a74067846a04c351a17a79f0650c273"><div class="ttname"><a href="gc__priv_8h.html#a3a74067846a04c351a17a79f0650c273">word</a></div><div class="ttdeci">GC_word word</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00081">gc_priv.h:81</a></div></div>
<div class="ttc" id="gc__backptr_8h_html_a6649ddafb3f14bb69a5cec1a3dbb9ec0a9723ce0bec1890101f769768a48ee23d"><div class="ttname"><a href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0a9723ce0bec1890101f769768a48ee23d">GC_NO_SPACE</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__backptr_8h_source.html#l00062">gc_backptr.h:62</a></div></div>
<div class="ttc" id="gc__priv_8h_html_af8416535400ca18c3c16ac02d93642e5"><div class="ttname"><a href="gc__priv_8h.html#af8416535400ca18c3c16ac02d93642e5">ptr_t</a></div><div class="ttdeci">char * ptr_t</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00089">gc_priv.h:89</a></div></div>
<div class="ttc" id="dbg__mlc_8h_html_a266d8a825535c1bde183fb379c8fa6cd"><div class="ttname"><a href="dbg__mlc_8h.html#a266d8a825535c1bde183fb379c8fa6cd">START_FLAG</a></div><div class="ttdeci">#define START_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8h_source.html#l00034">dbg_mlc.h:34</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a056bfef891169870e18ce2bacadf4830"><div class="ttname"><a href="gc_2include_2gc_8h.html#a056bfef891169870e18ce2bacadf4830">GC_REVEAL_POINTER</a></div><div class="ttdeci">#define GC_REVEAL_POINTER(p)</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l01022">gc.h:1022</a></div></div>
<div class="ttc" id="dbg__mlc_8h_html_a43b0b4726d4eeaab5c058b5ee444f389"><div class="ttname"><a href="dbg__mlc_8h.html#a43b0b4726d4eeaab5c058b5ee444f389">END_FLAG</a></div><div class="ttdeci">#define END_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8h_source.html#l00035">dbg_mlc.h:35</a></div></div>
<div class="ttc" id="gc__priv_8h_html_abf406c74b931297bc770fe06857b29a1"><div class="ttname"><a href="gc__priv_8h.html#abf406c74b931297bc770fe06857b29a1">BYTES_TO_WORDS</a></div><div class="ttdeci">#define BYTES_TO_WORDS(x)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00556">gc_priv.h:556</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a18ad085fc6cd2f12c11d6b0371172165"><div class="ttname"><a href="dbg__mlc_8c.html#a18ad085fc6cd2f12c11d6b0371172165">GC_debug_malloc_stubborn</a></div><div class="ttdeci">GC_API void *GC_CALL GC_debug_malloc_stubborn(size_t lb, GC_EXTRA_PARAMS)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00608">dbg_mlc.c:608</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a9b85a9fb03b84c0c6656074875115911"><div class="ttname"><a href="dbg__mlc_8c.html#a9b85a9fb03b84c0c6656074875115911">OFN_UNSET</a></div><div class="ttdeci">#define OFN_UNSET</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l01018">dbg_mlc.c:1018</a></div></div>
<div class="ttc" id="gc__backptr_8h_html_a1a7cecbc608801ff228aa5b9a63203fb"><div class="ttname"><a href="gc__backptr_8h.html#a1a7cecbc608801ff228aa5b9a63203fb">GC_generate_random_valid_address</a></div><div class="ttdeci">GC_API void *GC_CALL GC_generate_random_valid_address(void)</div></div>
<div class="ttc" id="gc__priv_8h_html_a0fde23d5f3eddcc4d5f8f405fe5f2699"><div class="ttname"><a href="gc__priv_8h.html#a0fde23d5f3eddcc4d5f8f405fe5f2699">MAXOBJKINDS</a></div><div class="ttdeci">#define MAXOBJKINDS</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01201">gc_priv.h:1201</a></div></div>
<div class="ttc" id="headers_8c_html_a82a38fd3345ecdd1ab8e84422ed16022"><div class="ttname"><a href="headers_8c.html#a82a38fd3345ecdd1ab8e84422ed16022">GC_find_header</a></div><div class="ttdeci">GC_INNER hdr * GC_find_header(ptr_t h)</div><div class="ttdef"><b>Definition:</b> <a href="headers_8c_source.html#l00036">headers.c:36</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_af9f980ce69ac4f0faf93d5086375fc0d"><div class="ttname"><a href="dbg__mlc_8c.html#af9f980ce69ac4f0faf93d5086375fc0d">GC_debug_malloc_uncollectable</a></div><div class="ttdeci">GC_API void *GC_CALL GC_debug_malloc_uncollectable(size_t lb, GC_EXTRA_PARAMS)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00702">dbg_mlc.c:702</a></div></div>
<div class="ttc" id="structhblk_html"><div class="ttname"><a href="structhblk.html">hblk</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00889">gc_priv.h:889</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_af3c3bc765f6596c2da3d7eaee6dc7156"><div class="ttname"><a href="dbg__mlc_8c.html#af3c3bc765f6596c2da3d7eaee6dc7156">GC_smashed</a></div><div class="ttdeci">STATIC ptr_t GC_smashed[MAX_SMASHED]</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00894">dbg_mlc.c:894</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_aa8cc2ac41f8f9cc1fa4fe516c8a41411"><div class="ttname"><a href="dbg__mlc_8c.html#aa8cc2ac41f8f9cc1fa4fe516c8a41411">GET_OH_LINENUM</a></div><div class="ttdeci">#define GET_OH_LINENUM(ohdr)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00363">dbg_mlc.c:363</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a47ba660ad372a58543c01e69aa589c63"><div class="ttname"><a href="gc_2include_2gc_8h.html#a47ba660ad372a58543c01e69aa589c63">GC_register_displacement</a></div><div class="ttdeci">GC_API void GC_CALL GC_register_displacement(size_t)</div><div class="ttdef"><b>Definition:</b> <a href="obj__map_8c_source.html#l00027">obj_map.c:27</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a4097788b4e0df04c2512538490270350"><div class="ttname"><a href="gc__priv_8h.html#a4097788b4e0df04c2512538490270350">SMALL_OBJ</a></div><div class="ttdeci">#define SMALL_OBJ(bytes)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00692">gc_priv.h:692</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a47a92e637e9159058c2f71d7c3999504"><div class="ttname"><a href="gc__priv_8h.html#a47a92e637e9159058c2f71d7c3999504">HBLKSIZE</a></div><div class="ttdeci">#define HBLKSIZE</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00656">gc_priv.h:656</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a11f94446abf1541b64505377a6d3b934"><div class="ttname"><a href="dbg__mlc_8c.html#a11f94446abf1541b64505377a6d3b934">GC_debug_invoke_finalizer</a></div><div class="ttdeci">STATIC void GC_CALLBACK GC_debug_invoke_finalizer(void *obj, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l01011">dbg_mlc.c:1011</a></div></div>
<div class="ttc" id="dbg__mlc_8h_html_a114c4c9ff74350d4b4209b025161f6ea"><div class="ttname"><a href="dbg__mlc_8h.html#a114c4c9ff74350d4b4209b025161f6ea">PRINT_CALL_CHAIN</a></div><div class="ttdeci">#define PRINT_CALL_CHAIN(base)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8h_source.html#l00141">dbg_mlc.h:141</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_ad84e042fd9e3ab64d52c96f4bdd32c63"><div class="ttname"><a href="dbg__mlc_8c.html#ad84e042fd9e3ab64d52c96f4bdd32c63">GC_describe_type_fns</a></div><div class="ttdeci">STATIC GC_describe_type_fn GC_describe_type_fns[MAXOBJKINDS]</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00314">dbg_mlc.c:314</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a506d5157af5adabf29c0dab8cc3f7c95"><div class="ttname"><a href="gc__priv_8h.html#a506d5157af5adabf29c0dab8cc3f7c95">GC_heapsize</a></div><div class="ttdeci">#define GC_heapsize</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01177">gc_priv.h:1177</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a5a048dc2f5e9e5476cc73c6d02f12ee0"><div class="ttname"><a href="dbg__mlc_8c.html#a5a048dc2f5e9e5476cc73c6d02f12ee0">GC_debug_register_finalizer_ignore_self</a></div><div class="ttdeci">GC_API void GC_CALL GC_debug_register_finalizer_ignore_self(void *obj, GC_finalization_proc fn, void *cd, GC_finalization_proc *ofn, void **ocd)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l01137">dbg_mlc.c:1137</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a5c518667f163c7b8963ee35f18ebac1a"><div class="ttname"><a href="gc_2include_2gc_8h.html#a5c518667f163c7b8963ee35f18ebac1a">GC_malloc_uncollectable</a></div><div class="ttdeci">GC_API void *GC_CALL GC_malloc_uncollectable(size_t) GC_ATTR_MALLOC GC_ATTR_ALLOC_SIZE(1)</div><div class="ttdef"><b>Definition:</b> <a href="malloc_8c_source.html#l00268">malloc.c:268</a></div></div>
<div class="ttc" id="blacklst_8c_html_aa98df15cdeabdc720834b5b176c91391"><div class="ttname"><a href="blacklst_8c.html#aa98df15cdeabdc720834b5b176c91391">GC_default_print_heap_obj_proc</a></div><div class="ttdeci">GC_INNER void GC_default_print_heap_obj_proc(ptr_t p)</div><div class="ttdef"><b>Definition:</b> <a href="blacklst_8c_source.html#l00057">blacklst.c:57</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a1e8d4ec327bfee97d5936431e51c3ef6"><div class="ttname"><a href="dbg__mlc_8c.html#a1e8d4ec327bfee97d5936431e51c3ef6">GC_has_other_debug_info</a></div><div class="ttdeci">GC_INNER int GC_has_other_debug_info(ptr_t p)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00036">dbg_mlc.c:36</a></div></div>
<div class="ttc" id="alloc_8c_html_a198983e95d71e4daf794092f12618009"><div class="ttname"><a href="alloc_8c.html#a198983e95d71e4daf794092f12618009">GC_never_stop_func</a></div><div class="ttdeci">GC_INNER int GC_CALLBACK GC_never_stop_func(void)</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l00125">alloc.c:125</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_ab70f3f41d0e9255fe75f75bd0db97f97"><div class="ttname"><a href="dbg__mlc_8c.html#ab70f3f41d0e9255fe75f75bd0db97f97">GC_start_debugging</a></div><div class="ttdeci">GC_INNER void GC_start_debugging(void)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00436">dbg_mlc.c:436</a></div></div>
<div class="ttc" id="gc__priv_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="gc__priv_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00086">gc_priv.h:86</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a15d35559da7372da5be0da9ad6ae1ef6"><div class="ttname"><a href="gc__priv_8h.html#a15d35559da7372da5be0da9ad6ae1ef6">MARK_BIT_OFFSET</a></div><div class="ttdeci">#define MARK_BIT_OFFSET(sz)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01385">gc_priv.h:1385</a></div></div>
<div class="ttc" id="gc__locks_8h_html_a591dbb16071af0ea0177f1c7509e8aea"><div class="ttname"><a href="gc__locks_8h.html#a591dbb16071af0ea0177f1c7509e8aea">I_DONT_HOLD_LOCK</a></div><div class="ttdeci">#define I_DONT_HOLD_LOCK()</div><div class="ttdef"><b>Definition:</b> <a href="gc__locks_8h_source.html#l00197">gc_locks.h:197</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_adb1f52100ee50f39a23fd185b8a1df88"><div class="ttname"><a href="gc_2include_2gc_8h.html#adb1f52100ee50f39a23fd185b8a1df88">GC_debug_malloc_atomic_uncollectable</a></div><div class="ttdeci">GC_API void *GC_CALL GC_debug_malloc_atomic_uncollectable(size_t, GC_EXTRA_PARAMS) GC_ATTR_MALLOC GC_ATTR_ALLOC_SIZE(1)</div></div>
<div class="ttc" id="dbg__mlc_8c_html_a306ddad6ddf1bd952e3bfea06ab0d9e2"><div class="ttname"><a href="dbg__mlc_8c.html#a306ddad6ddf1bd952e3bfea06ab0d9e2">GC_debug_malloc_ignore_off_page</a></div><div class="ttdeci">GC_API void *GC_CALL GC_debug_malloc_ignore_off_page(size_t lb, GC_EXTRA_PARAMS)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00480">dbg_mlc.c:480</a></div></div>
<div class="ttc" id="structhblkhdr_html_afc76e9581c538c71bd9b539e130c3331"><div class="ttname"><a href="structhblkhdr.html#afc76e9581c538c71bd9b539e130c3331">hblkhdr::hb_sz</a></div><div class="ttdeci">size_t hb_sz</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00816">gc_priv.h:816</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a0d909b267b7ff2bdf81d95a1d81e508e"><div class="ttname"><a href="dbg__mlc_8c.html#a0d909b267b7ff2bdf81d95a1d81e508e">GC_make_closure</a></div><div class="ttdeci">STATIC void * GC_make_closure(GC_finalization_proc fn, void *data)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00993">dbg_mlc.c:993</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_ab007e55541f4df2438c0a37b76152294"><div class="ttname"><a href="dbg__mlc_8c.html#ab007e55541f4df2438c0a37b76152294">MAX_SMASHED</a></div><div class="ttdeci">#define MAX_SMASHED</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00892">dbg_mlc.c:892</a></div></div>
<div class="ttc" id="alloc_8c_html_ad0baa00025aeda16f1bb169f65b32386"><div class="ttname"><a href="alloc_8c.html#ad0baa00025aeda16f1bb169f65b32386">GC_print_all_smashed</a></div><div class="ttdeci">GC_INNER void(* GC_print_all_smashed)(void)=0</div><div class="ttdef"><b>Definition:</b> <a href="alloc_8c_source.html#l00545">alloc.c:545</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a92bfe9ab938a109d9444b1f1a896b763"><div class="ttname"><a href="dbg__mlc_8c.html#a92bfe9ab938a109d9444b1f1a896b763">GC_debug_realloc_replacement</a></div><div class="ttdeci">GC_API void *GC_CALL GC_debug_realloc_replacement(void *p, size_t lb)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l01171">dbg_mlc.c:1171</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a499ad7765a60a7307ef93fddda6201a9"><div class="ttname"><a href="gc_2include_2gc_8h.html#a499ad7765a60a7307ef93fddda6201a9">GC_size</a></div><div class="ttdeci">GC_API size_t GC_CALL GC_size(const void *)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00422">misc.c:422</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_af9585a385389c29d2a3643de45e17572"><div class="ttname"><a href="gc_2include_2gc_8h.html#af9585a385389c29d2a3643de45e17572">GC_malloc_atomic</a></div><div class="ttdeci">GC_API void *GC_CALL GC_malloc_atomic(size_t) GC_ATTR_MALLOC GC_ATTR_ALLOC_SIZE(1)</div><div class="ttdef"><b>Definition:</b> <a href="malloc_8c_source.html#l00207">malloc.c:207</a></div></div>
<div class="ttc" id="gc__priv_8h_html_acd61070bde5ffc7ab1df410140aa4514"><div class="ttname"><a href="gc__priv_8h.html#acd61070bde5ffc7ab1df410140aa4514">GC_is_marked</a></div><div class="ttdeci">GC_API_PRIV GC_bool GC_is_marked(ptr_t p)</div><div class="ttdef"><b>Definition:</b> <a href="mark_8c_source.html#l00224">mark.c:224</a></div></div>
<div class="ttc" id="gc__locks_8h_html_aefb7db7456a848e7cefe90816a5aaa88"><div class="ttname"><a href="gc__locks_8h.html#aefb7db7456a848e7cefe90816a5aaa88">LOCK</a></div><div class="ttdeci">#define LOCK()</div><div class="ttdef"><b>Definition:</b> <a href="gc__locks_8h_source.html#l00192">gc_locks.h:192</a></div></div>
<div class="ttc" id="gc__priv_8h_html_aaf1ed9de3698d4fdb54f7f73b2dd253e"><div class="ttname"><a href="gc__priv_8h.html#aaf1ed9de3698d4fdb54f7f73b2dd253e">GC_generic_malloc_inner</a></div><div class="ttdeci">GC_INNER void * GC_generic_malloc_inner(size_t lb, int k)</div><div class="ttdef"><b>Definition:</b> <a href="malloc_8c_source.html#l00103">malloc.c:103</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a4bbcc2c493efc890077484da2bdaed3e"><div class="ttname"><a href="gc__priv_8h.html#a4bbcc2c493efc890077484da2bdaed3e">MAXOBJBYTES</a></div><div class="ttdeci">#define MAXOBJBYTES</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00664">gc_priv.h:664</a></div></div>
<div class="ttc" id="gc__locks_8h_html_a19b1665d85404627bdc076a60e21d926"><div class="ttname"><a href="gc__locks_8h.html#a19b1665d85404627bdc076a60e21d926">UNLOCK</a></div><div class="ttdeci">#define UNLOCK()</div><div class="ttdef"><b>Definition:</b> <a href="gc__locks_8h_source.html#l00193">gc_locks.h:193</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a79ebcf3b2319ad03de49e1f15c37dd0c"><div class="ttname"><a href="dbg__mlc_8c.html#a79ebcf3b2319ad03de49e1f15c37dd0c">GC_register_describe_type_fn</a></div><div class="ttdeci">GC_API void GC_CALL GC_register_describe_type_fn(int kind, GC_describe_type_fn fn)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00316">dbg_mlc.c:316</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_aece80f7d71755554cdf34942d5392b50"><div class="ttname"><a href="dbg__mlc_8c.html#aece80f7d71755554cdf34942d5392b50">GC_n_smashed</a></div><div class="ttdeci">STATIC unsigned GC_n_smashed</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00895">dbg_mlc.c:895</a></div></div>
<div class="ttc" id="gc__backptr_8h_html_abf6a51b99f26482e856763f27018f009"><div class="ttname"><a href="gc__backptr_8h.html#abf6a51b99f26482e856763f27018f009">GC_generate_random_backtrace</a></div><div class="ttdeci">GC_API void GC_CALL GC_generate_random_backtrace(void)</div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a757701059a5401d6c166e623c71a1b6c"><div class="ttname"><a href="gc_2include_2gc_8h.html#a757701059a5401d6c166e623c71a1b6c">GC_realloc</a></div><div class="ttdeci">GC_API void *GC_CALL GC_realloc(void *, size_t) GC_ATTR_ALLOC_SIZE(2)</div><div class="ttdef"><b>Definition:</b> <a href="mallocx_8c_source.html#l00076">mallocx.c:76</a></div></div>
<div class="ttc" id="blacklst_8c_html_aa22fd6a6f16ea7f22d574179518120fd"><div class="ttname"><a href="blacklst_8c.html#aa22fd6a6f16ea7f22d574179518120fd">GC_print_heap_obj</a></div><div class="ttdeci">GC_INNER void(* GC_print_heap_obj)(ptr_t p)</div><div class="ttdef"><b>Definition:</b> <a href="blacklst_8c_source.html#l00064">blacklst.c:64</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_ae214ee6bb66a60ef6761c10cdda9a0bb"><div class="ttname"><a href="dbg__mlc_8c.html#ae214ee6bb66a60ef6761c10cdda9a0bb">GC_debug_realloc</a></div><div class="ttdeci">GC_API void *GC_CALL GC_debug_realloc(void *p, size_t lb, GC_EXTRA_PARAMS)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00827">dbg_mlc.c:827</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_acdf040af35f59696a2d0ee945aac622f"><div class="ttname"><a href="gc_2include_2gc_8h.html#acdf040af35f59696a2d0ee945aac622f">GC_malloc</a></div><div class="ttdeci">GC_API void *GC_CALL GC_malloc(size_t) GC_ATTR_MALLOC GC_ATTR_ALLOC_SIZE(1)</div><div class="ttdef"><b>Definition:</b> <a href="malloc_8c_source.html#l00236">malloc.c:236</a></div></div>
<div class="ttc" id="structclosure_html_a1c5a888fe38191f2bdbb713460f28ec9"><div class="ttname"><a href="structclosure.html#a1c5a888fe38191f2bdbb713460f28ec9">closure::cl_fn</a></div><div class="ttdeci">GC_finalization_proc cl_fn</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00989">dbg_mlc.c:989</a></div></div>
<div class="ttc" id="finalize_8c_html_a677e51bf0dea27f0ff0c2828c21fbea1"><div class="ttname"><a href="finalize_8c.html#a677e51bf0dea27f0ff0c2828c21fbea1">GC_register_finalizer</a></div><div class="ttdeci">GC_API void GC_CALL GC_register_finalizer(void *obj, GC_finalization_proc fn, void *cd, GC_finalization_proc *ofn, void **ocd)</div><div class="ttdef"><b>Definition:</b> <a href="finalize_8c_source.html#l00425">finalize.c:425</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a23592c3a3437ee89f4517cdb259121d5"><div class="ttname"><a href="dbg__mlc_8c.html#a23592c3a3437ee89f4517cdb259121d5">GC_debug_change_stubborn</a></div><div class="ttdeci">GC_API void GC_CALL GC_debug_change_stubborn(void *p)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00614">dbg_mlc.c:614</a></div></div>
<div class="ttc" id="gc__inline_8h_html_a7cdd0fc8b2f97552cda7883ae036da6a"><div class="ttname"><a href="gc__inline_8h.html#a7cdd0fc8b2f97552cda7883ae036da6a">GC_ASSERT</a></div><div class="ttdeci">#define GC_ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="gc__inline_8h_source.html#l00042">gc_inline.h:42</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a8e5675e534d5ef436fc241c816c52962"><div class="ttname"><a href="gc__priv_8h.html#a8e5675e534d5ef436fc241c816c52962">GC_err_puts</a></div><div class="ttdeci">GC_API_PRIV void GC_API_PRIV void GC_API_PRIV void void GC_err_puts(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l01359">misc.c:1359</a></div></div>
<div class="ttc" id="dbg__mlc_8h_html_a3ce8b7b217e175b253921cddc2cc97ab"><div class="ttname"><a href="dbg__mlc_8h.html#a3ce8b7b217e175b253921cddc2cc97ab">OPT_RA</a></div><div class="ttdeci">#define OPT_RA</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8h_source.html#l00147">dbg_mlc.h:147</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_aa5cca2155708f9de501d8e7d926fbac0"><div class="ttname"><a href="dbg__mlc_8c.html#aa5cca2155708f9de501d8e7d926fbac0">GC_debug_register_finalizer_no_order</a></div><div class="ttdeci">GC_API void GC_CALL GC_debug_register_finalizer_no_order(void *obj, GC_finalization_proc fn, void *cd, GC_finalization_proc *ofn, void **ocd)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l01075">dbg_mlc.c:1075</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a2c3e3dd753bf5a547dc317546f79e561"><div class="ttname"><a href="dbg__mlc_8c.html#a2c3e3dd753bf5a547dc317546f79e561">GC_debug_strndup</a></div><div class="ttdeci">GC_API char *GC_CALL GC_debug_strndup(const char *str, size_t size, GC_EXTRA_PARAMS)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00665">dbg_mlc.c:665</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a6ee30af73c04023537677e4f77063b15"><div class="ttname"><a href="dbg__mlc_8c.html#a6ee30af73c04023537677e4f77063b15">GC_check_heap_block</a></div><div class="ttdeci">STATIC void GC_check_heap_block(struct hblk *hbp, word dummy)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00928">dbg_mlc.c:928</a></div></div>
<div class="ttc" id="gc__priv_8h_html_abd0730999fc57be7b375bce5869fb36e"><div class="ttname"><a href="gc__priv_8h.html#abd0730999fc57be7b375bce5869fb36e">HBLKPTR</a></div><div class="ttdeci">#define HBLKPTR(objptr)</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00682">gc_priv.h:682</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a53ca70595bf2608c79ddcda7f1a573cf"><div class="ttname"><a href="gc_2include_2gc_8h.html#a53ca70595bf2608c79ddcda7f1a573cf">GC_end_stubborn_change</a></div><div class="ttdeci">GC_API void GC_CALL GC_end_stubborn_change(void *)</div><div class="ttdef"><b>Definition:</b> <a href="stubborn_8c_source.html#l00050">stubborn.c:50</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_adb3b437256974a46b9a6a7463f30bd56"><div class="ttname"><a href="dbg__mlc_8c.html#adb3b437256974a46b9a6a7463f30bd56">GC_print_all_smashed_proc</a></div><div class="ttdeci">STATIC void GC_print_all_smashed_proc(void)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00909">dbg_mlc.c:909</a></div></div>
<div class="ttc" id="gc__backptr_8h_html_a6649ddafb3f14bb69a5cec1a3dbb9ec0a8b7dab44bbeef13767ba6927b5896bb6"><div class="ttname"><a href="gc__backptr_8h.html#a6649ddafb3f14bb69a5cec1a3dbb9ec0a8b7dab44bbeef13767ba6927b5896bb6">GC_UNREFERENCED</a></div><div class="ttdef"><b>Definition:</b> <a href="gc__backptr_8h_source.html#l00061">gc_backptr.h:61</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a9063de2121f2018f3f53096a10d50555"><div class="ttname"><a href="dbg__mlc_8c.html#a9063de2121f2018f3f53096a10d50555">GC_store_debug_info</a></div><div class="ttdeci">GC_INNER ptr_t GC_store_debug_info(ptr_t p, word sz, const char *string, int linenum)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00277">dbg_mlc.c:277</a></div></div>
<div class="ttc" id="gc__priv_8h_html_adfd9c45e111e2c9475b244203f04ee6d"><div class="ttname"><a href="gc__priv_8h.html#adfd9c45e111e2c9475b244203f04ee6d">GC_debugging_started</a></div><div class="ttdeci">GC_EXTERN GC_bool GC_debugging_started</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01300">gc_priv.h:1300</a></div></div>
<div class="ttc" id="gc__priv_8h_html_a313c406cf1a541e58db208d5fbe503bb"><div class="ttname"><a href="gc__priv_8h.html#a313c406cf1a541e58db208d5fbe503bb">EXTRA_BYTES</a></div><div class="ttdeci">#define EXTRA_BYTES</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00250">gc_priv.h:250</a></div></div>
<div class="ttc" id="dbg__mlc_8h_html_a6337a59b6a92080b4315e682688eb4a7"><div class="ttname"><a href="dbg__mlc_8h.html#a6337a59b6a92080b4315e682688eb4a7">DEBUG_BYTES</a></div><div class="ttdeci">#define DEBUG_BYTES</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8h_source.html#l00117">dbg_mlc.h:117</a></div></div>
<div class="ttc" id="_string_8h_html"><div class="ttname"><a href="_string_8h.html">String.h</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_ac422a24ebb4519fa334d8ebadd453d75"><div class="ttname"><a href="dbg__mlc_8c.html#ac422a24ebb4519fa334d8ebadd453d75">GC_check_heap_proc</a></div><div class="ttdeci">STATIC void GC_check_heap_proc(void)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00953">dbg_mlc.c:953</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a13e0ea5e5fdad29398321c008e1b4521"><div class="ttname"><a href="dbg__mlc_8c.html#a13e0ea5e5fdad29398321c008e1b4521">GC_print_type</a></div><div class="ttdeci">STATIC void GC_print_type(ptr_t p)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00324">dbg_mlc.c:324</a></div></div>
<div class="ttc" id="gc__locks_8h_html_a162da961886f54869d0c990653e13136"><div class="ttname"><a href="gc__locks_8h.html#a162da961886f54869d0c990653e13136">DCL_LOCK_STATE</a></div><div class="ttdeci">#define DCL_LOCK_STATE</div><div class="ttdef"><b>Definition:</b> <a href="gc__locks_8h_source.html#l00215">gc_locks.h:215</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a8b93cd0c8d9c312bbdf0e679d10b680a"><div class="ttname"><a href="gc_2include_2gc_8h.html#a8b93cd0c8d9c312bbdf0e679d10b680a">GC_base</a></div><div class="ttdeci">GC_API void *GC_CALL GC_base(void *)</div><div class="ttdef"><b>Definition:</b> <a href="misc_8c_source.html#l00379">misc.c:379</a></div></div>
<div class="ttc" id="gc__priv_8h_html_abe43a78928b4a084553d8f70b899cae5"><div class="ttname"><a href="gc__priv_8h.html#abe43a78928b4a084553d8f70b899cae5">GC_generic_malloc_inner_ignore_off_page</a></div><div class="ttdeci">GC_INNER void * GC_generic_malloc_inner_ignore_off_page(size_t lb, int k)</div><div class="ttdef"><b>Definition:</b> <a href="malloc_8c_source.html#l00139">malloc.c:139</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a722270791e4bf4ee4e9466cc00f1fbe0"><div class="ttname"><a href="dbg__mlc_8c.html#a722270791e4bf4ee4e9466cc00f1fbe0">GC_debug_header_size</a></div><div class="ttdeci">size_t GC_debug_header_size</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00450">dbg_mlc.c:450</a></div></div>
<div class="ttc" id="finalize_8c_html_a75f552b4d91d9a9c244495e5bd77134f"><div class="ttname"><a href="finalize_8c.html#a75f552b4d91d9a9c244495e5bd77134f">GC_register_finalizer_unreachable</a></div><div class="ttdeci">GC_API void GC_CALL GC_register_finalizer_unreachable(void *obj, GC_finalization_proc fn, void *cd, GC_finalization_proc *ofn, void **ocd)</div><div class="ttdef"><b>Definition:</b> <a href="finalize_8c_source.html#l00452">finalize.c:452</a></div></div>
<div class="ttc" id="finalize_8c_html_a8e941f295c39454e8adf37c19a9e52ea"><div class="ttname"><a href="finalize_8c.html#a8e941f295c39454e8adf37c19a9e52ea">GC_register_finalizer_ignore_self</a></div><div class="ttdeci">GC_API void GC_CALL GC_register_finalizer_ignore_self(void *obj, GC_finalization_proc fn, void *cd, GC_finalization_proc *ofn, void **ocd)</div><div class="ttdef"><b>Definition:</b> <a href="finalize_8c_source.html#l00433">finalize.c:433</a></div></div>
<div class="ttc" id="mark_8c_html_a34d73a67cf51f181aafd43b750ec938c"><div class="ttname"><a href="mark_8c.html#a34d73a67cf51f181aafd43b750ec938c">GC_greatest_plausible_heap_addr</a></div><div class="ttdeci">#define GC_greatest_plausible_heap_addr</div></div>
<div class="ttc" id="gc__backptr_8h_html_acc9c7ee901d19019b304b8eee30134e5"><div class="ttname"><a href="gc__backptr_8h.html#acc9c7ee901d19019b304b8eee30134e5">GC_get_back_ptr_info</a></div><div class="ttdeci">GC_API GC_ref_kind GC_CALL GC_get_back_ptr_info(void *, void **, size_t *)</div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_afff34fde28aa7dbf54c4d991c95a1f6d"><div class="ttname"><a href="gc_2include_2gc_8h.html#afff34fde28aa7dbf54c4d991c95a1f6d">GC_EXTRAS</a></div><div class="ttdeci">#define GC_EXTRAS</div><div class="ttdef"><b>Definition:</b> <a href="gc_2include_2gc_8h_source.html#l00645">gc.h:645</a></div></div>
<div class="ttc" id="gc__priv_8h_html_ae568a9cec5d3f9b21f1a00154e4c587e"><div class="ttname"><a href="gc__priv_8h.html#ae568a9cec5d3f9b21f1a00154e4c587e">GC_bool</a></div><div class="ttdeci">int GC_bool</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00085">gc_priv.h:85</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a09a99dc0802ad74d032821a3ddb3ed22"><div class="ttname"><a href="dbg__mlc_8c.html#a09a99dc0802ad74d032821a3ddb3ed22">GC_debug_strdup</a></div><div class="ttdeci">GC_API char *GC_CALL GC_debug_strdup(const char *str, GC_EXTRA_PARAMS)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00638">dbg_mlc.c:638</a></div></div>
<div class="ttc" id="mark_8c_html_a11ed2e2cdbe3eeb88f2af4b47767a223"><div class="ttname"><a href="mark_8c.html#a11ed2e2cdbe3eeb88f2af4b47767a223">GC_least_plausible_heap_addr</a></div><div class="ttdeci">#define GC_least_plausible_heap_addr</div></div>
<div class="ttc" id="dbg__mlc_8c_html_a8c44d5e5617e93dc1655aaf4e060a362"><div class="ttname"><a href="dbg__mlc_8c.html#a8c44d5e5617e93dc1655aaf4e060a362">GC_debug_malloc_atomic_ignore_off_page</a></div><div class="ttdeci">GC_API void *GC_CALL GC_debug_malloc_atomic_ignore_off_page(size_t lb, GC_EXTRA_PARAMS)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00499">dbg_mlc.c:499</a></div></div>
<div class="ttc" id="finalize_8c_html_a28647f10185365f32bc3843e13b347c0"><div class="ttname"><a href="finalize_8c.html#a28647f10185365f32bc3843e13b347c0">GC_register_finalizer_no_order</a></div><div class="ttdeci">GC_API void GC_CALL GC_register_finalizer_no_order(void *obj, GC_finalization_proc fn, void *cd, GC_finalization_proc *ofn, void **ocd)</div><div class="ttdef"><b>Definition:</b> <a href="finalize_8c_source.html#l00441">finalize.c:441</a></div></div>
<div class="ttc" id="gc_8c_html_a747f41c6858a352cd3d7ec897592b04a"><div class="ttname"><a href="gc_8c.html#a747f41c6858a352cd3d7ec897592b04a">GC_INNER</a></div><div class="ttdeci">#define GC_INNER</div><div class="ttdef"><b>Definition:</b> <a href="gc_8c_source.html#l00031">gc.c:31</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a25d9083b1d677389672528b7e55c0ce6"><div class="ttname"><a href="dbg__mlc_8c.html#a25d9083b1d677389672528b7e55c0ce6">GC_add_smashed</a></div><div class="ttdeci">STATIC void GC_add_smashed(ptr_t smashed)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00897">dbg_mlc.c:897</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_a83c0c6e0c5cf335e8813af6f8c8cd1cc"><div class="ttname"><a href="gc_2include_2gc_8h.html#a83c0c6e0c5cf335e8813af6f8c8cd1cc">GC_malloc_stubborn</a></div><div class="ttdeci">GC_API void *GC_CALL GC_malloc_stubborn(size_t) GC_ATTR_MALLOC GC_ATTR_ALLOC_SIZE(1)</div><div class="ttdef"><b>Definition:</b> <a href="stubborn_8c_source.html#l00044">stubborn.c:44</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_ab11878b8fb90c8b2eb77c496f1b94620"><div class="ttname"><a href="dbg__mlc_8c.html#ab11878b8fb90c8b2eb77c496f1b94620">GC_debug_malloc_replacement</a></div><div class="ttdeci">GC_API void *GC_CALL GC_debug_malloc_replacement(size_t lb)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l01166">dbg_mlc.c:1166</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a212a7a1aae8afd0923c850024ec3788a"><div class="ttname"><a href="dbg__mlc_8c.html#a212a7a1aae8afd0923c850024ec3788a">GC_FREED_MEM_MARKER</a></div><div class="ttdeci">#define GC_FREED_MEM_MARKER</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00748">dbg_mlc.c:748</a></div></div>
<div class="ttc" id="dbg__mlc_8c_html_a33334d156baa8d766e10131e835a46cc"><div class="ttname"><a href="dbg__mlc_8c.html#a33334d156baa8d766e10131e835a46cc">GC_print_smashed_obj</a></div><div class="ttdeci">STATIC void GC_print_smashed_obj(const char *msg, ptr_t p, ptr_t clobbered_addr)</div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8c_source.html#l00402">dbg_mlc.c:402</a></div></div>
<div class="ttc" id="structoh_html"><div class="ttname"><a href="structoh.html">oh</a></div><div class="ttdef"><b>Definition:</b> <a href="dbg__mlc_8h_source.html#l00057">dbg_mlc.h:57</a></div></div>
<div class="ttc" id="gc_2include_2gc_8h_html_aef11fb85e24d9cdb7da9ef9df26d45b3"><div class="ttname"><a href="gc_2include_2gc_8h.html#aef11fb85e24d9cdb7da9ef9df26d45b3">GC_free</a></div><div class="ttdeci">GC_API void GC_CALL GC_free(void *)</div><div class="ttdef"><b>Definition:</b> <a href="malloc_8c_source.html#l00455">malloc.c:455</a></div></div>
<div class="ttc" id="gc__hdrs_8h_html_a97a38494e52d432ab6df9704f8e9c7bb"><div class="ttname"><a href="gc__hdrs_8h.html#a97a38494e52d432ab6df9704f8e9c7bb">HDR</a></div><div class="ttdeci">#define HDR(p)</div><div class="ttdef"><b>Definition:</b> <a href="gc__hdrs_8h_source.html#l00164">gc_hdrs.h:164</a></div></div>
<div class="ttc" id="structhblk_html_abdbe70e316cf0f4235d27374855c30b7"><div class="ttname"><a href="structhblk.html#abdbe70e316cf0f4235d27374855c30b7">hblk::hb_body</a></div><div class="ttdeci">char hb_body[HBLKSIZE]</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l00890">gc_priv.h:890</a></div></div>
<div class="ttc" id="gc__priv_8h_html_adb9619e9b0fb789b511639c6d504a659"><div class="ttname"><a href="gc__priv_8h.html#adb9619e9b0fb789b511639c6d504a659">GC_heap_sects</a></div><div class="ttdeci">#define GC_heap_sects</div><div class="ttdef"><b>Definition:</b> <a href="gc__priv_8h_source.html#l01120">gc_priv.h:1120</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_408e3e109cd8ba6803532e2e583521a9.html">public</a></li><li class="navelem"><a class="el" href="dir_07dc26a9f4466d4d2837036336d7d337.html">gc</a></li><li class="navelem"><a class="el" href="dbg__mlc_8c.html">dbg_mlc.c</a></li>
    <li class="footer">Generated on Fri Jul 18 2014 09:25:20 for AlterNative Lib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
