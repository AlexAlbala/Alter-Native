<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TFG MARIA</title>
 
    <!-- CSS de Bootstrap -->
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <!-- Custom styles for this template -->
    <link href="lib/alternative/css/alternative.css" rel="stylesheet">
    <link href="lib/codemirror/theme/midnight.css" rel="stylesheet">
    <link href="lib/codemirror/theme/neat2.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Raleway:500' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Nunito:300' rel='stylesheet' type='text/css'>
    <link href="fonts/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="lib/jquery/jqueryFileTree.css" rel="stylesheet" type="text/css">
    <!-- HOJA DE ESTILOS -->
    <link href="styles/stylesheet.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="alternative/js/html5shiv.js"></script>
    <script src="alternative/js/respond.min.js"></script>
    <![endif]-->

    <script src="lib/codemirror/lib/codemirror.js"></script>
    <link href="lib/codemirror/lib/codemirror.css" rel="stylesheet">
    <script src="lib/codemirror/mode/clike/clike.js"></script>
    <script>
        CodeMirror.defaults.theme = "midnight";
    </script>

    <!-- Librería jQuery requerida por los plugins de JavaScript -->
    <script src="lib/jquery/jquery.js"></script>
    <script src="lib/jquery/jquery.easing.js"></script>
    <script src="lib/jquery/jqueryFileTree.js"></script>

    <script type="text/javascript">
        var CODE;
        $(document).ready( function() {
            $('#folders').fileTree({ root: "../Alter-Native/temp/", folderEvent:'click' }, function(file) {
                openFile(file);
            });
        });

        function openFile(file){
            file2 = file.replace(/..\/Alter-Native/,"/file");
            $.get(file2, function (data){
                CODE.getDoc().setValue(data);
            });
        } 
    </script>

  </head>
  <body data-spy="scroll" data-target="#navbar">

        <!-- Fixed navbar -->
    <div id="navbar" class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#"><img class="img-responsive" src="lib/alternative/img/alternative.png"/></a>
                <a class="navbar-brand" href="#">AlterNative</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li class="active">
                        <a href="#home">Home</a>
                    </li>
                    <li>
                        <a href="#description">Description</a>
                    </li>
                    <li>
                        <a href="#examples">Examples</a>
                    </li>
                    <li>
                        <a href="#tutorials">Tutorials</a>
                    </li>
                    <li>
                        <a href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!--/.nav-collapse --> </div>
        </div>

        <div class="container" id="container">
            <h1 class="titulo-principal">Algo bonito</h1>
            <div class="row col-md">
                <div id ="folders" class="col-md-2 columna demo" >
                    <ul class="jqueryFileTree">
                    </ul>
                </div>
                <div class="col-md-4 columna">

                  <textarea id="code" name="code">
// A Hello World! program in C#.
using System;
namespace HelloWorld
{
    class Hello 
    {
        static void Main() 
        {
            Console.WriteLine("Hello World!");

            //Keep the console window open in debug mode
            Console.WriteLine("Press any key to exit.");
            Console.ReadKey();
        }
    }
}
                  </textarea>

                  <button class="btn btn-primary col-md-12 margen-t10" type="button" id="btn-compile">Compilar</button>
                </div>
                <div class="col-md-4 columna">
                  <textarea id="code2" name="code2">
                  </textarea>

                </div>
                <div id ="folders2" class="col-md-2 columna demo" ></div>
          </div>
      </div>

    <!-- Todos los plugins JavaScript de Bootstrap (también puedes
         incluir archivos JavaScript individuales de los únicos
         plugins que utilices) -->
    <script src="lib/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript">
    $('#btn-compile').click(function(){
        var txt =  $("#code").val();
        $.post("compile-csharp", {texto:txt});
    });
    </script>

    <script type="text/javascript">
    var codeConsole = document.getElementById("code");
    CODE = CodeMirror.fromTextArea(codeConsole, {lineNumbers: true, readOnly: false, mode: "text/x-csharp"});
    //var codeConsoleMirror = CodeMirror.fromTextArea(codeConsole, {lineNumbers: true, readOnly: false, mode: "text/x-csharp"});

    var codeConsole = document.getElementById("code2");
    var CODE2 = CodeMirror.fromTextArea(codeConsole, {lineNumbers: true, readOnly: true, mode: "text/x-c++src"});
    </script>
  </body>
</html>